<!doctype html>
<html class="no-js" lang="">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>TweenTime: Basic example</title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="../dist/styles/editor.css">
  <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="../src/fonts/icomoon/style.css">
  <style>
    body {
      background: #efefef;
    }

    .box {
      position: absolute;
      width: 100px;
      height: 100px;
      left: 50px;
      top: 50px;
      background: #33b5e5;
    }

    .box--red {
      left: 250px;
      background: #E53368;
    }
  </style>
</head>

<body>
  <div class="content-wrapper">
    <div class="box box--blue"></div>
    <div class="box box--red"></div>
  </div>
  <div id="timeline-container"></div>


  <!-- TweenTime & Editor -->
  <script src="../dist/scripts/TweenTime.main.js"></script>

  <!-- Example script -->
  <script>
    var data = [
      {
        "id": "box",
        "type": "box",
        "label": "Box 1",
        "start": 0,
        "end": 4,
        "properties": [
          {
            "name": "x",
            "keys": [
              {
                "time": 0,
                "val": 0
              },
              {
                "time": 2,
                "val": 100,
                "ease": "Quart.easeInOut"
              }
            ],
            "val": 0
          },
          {
            "name": "y",
            "keys": [
              {
                "time": 0,
                "val": 0,
                "ease": "Quad.easeOut"
              },
              {
                "time": 0.9870000000000003,
                "val": 50,
                "ease": [
                  0.14184397163120563,
                  0.9105263157894737,
                  0.6271529888551163,
                  1.1105263157894736
                ]
              },
              {
                "time": 2.006,
                "val": 0,
                "ease": [
                  0.9254170755642788,
                  0.3157894736842105,
                  0.2051030421982333,
                  0.9473684210526315
                ]
              }
            ],
            "val": 0
          },
          {
            "name": "opacity",
            "keys": [
              {
                "time": 1.214,
                "val": 1
              },
              {
                "time": 3.98,
                "val": 0,
                "ease": "Quad.easeOut"
              }
            ],
            "val": 1,
            "min": 0,
            "max": 1
          }
        ],
        "values": {
          "x": 0,
          "y": 0,
          "opacity": 1
        }
      },
      {
        "id": "box2",
        "type": "box",
        "label": "Box 2",
        "start": 0,
        "end": 4.3,
        "collapsed": true,
        "properties": [
          {
            "name": "x",
            "keys": [
              {
                "time": 0,
                "val": 0
              },
              {
                "time": 2,
                "val": 300,
                "ease": "Quart.easeInOut"
              }
            ],
            "val": 0
          },
          {
            "name": "y",
            "keys": [
              {
                "time": 0,
                "val": 0,
                "ease": "Quad.easeOut"
              },
              {
                "time": 0.9870000000000003,
                "val": 50,
                "ease": "Cubic.easeInOut"
              },
              {
                "time": 2.006,
                "val": 0,
                "ease": "Quad.easeInOut"
              }
            ],
            "val": 0
          },
          {
            "name": "opacity",
            "keys": [
              {
                "time": 1.214,
                "val": 1
              },
              {
                "time": 4.2,
                "val": 0,
                "ease": "Quad.easeOut"
              }
            ],
            "val": 1,
            "min": 0,
            "max": 1
          }
        ],
        "values": {
          "x": 0,
          "y": 0,
          "opacity": 1
        }
      }
    ];

    console.log(TweenTime);
    var $ = TweenTime.$;
    var tweenTime = new TweenTime.Core(data);
    var editor = new TweenTime.Editor(tweenTime, {
      el: $('#timeline-container')
    });

    var box_values = tweenTime.getValues('box');
    var box2_values = tweenTime.getValues('box2');

    function animate() {
      $('.box--blue').css({
        'opacity': box_values.opacity,
        'transform': 'translate(' + box_values.x + 'px, ' + box_values.y + 'px)'
      });

      $('.box--red').css({
        'opacity': box2_values.opacity,
        'transform': 'translate(' + box2_values.x + 'px, ' + box2_values.y + 'px)'
      });

      window.requestAnimationFrame(animate);
    }

    animate();
  </script>
</body>

</html>