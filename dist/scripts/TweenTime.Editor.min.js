!function(Q,F){"object"==typeof exports&&"object"==typeof module?module.exports=F(require("signals"),require("lodash"),require("d3"),require("jquery"),require("draggable-number.js"),require("spectrum-colorpicker"),require("file-saver")):"function"==typeof define&&define.amd?define(["signals","lodash","d3","jquery","DraggableNumber","spectrum","file-saver"],F):"object"==typeof exports?exports.Editor=F(require("signals"),require("lodash"),require("d3"),require("jquery"),require("draggable-number.js"),require("spectrum-colorpicker"),require("file-saver")):(Q.TweenTime=Q.TweenTime||{},Q.TweenTime.Editor=F(Q.signals,Q._,Q.d3,Q.$,Q.DraggableNumber,Q.spectrum,Q.saveAs))}(this,function(__WEBPACK_EXTERNAL_MODULE_6__,__WEBPACK_EXTERNAL_MODULE_12__,__WEBPACK_EXTERNAL_MODULE_15__,__WEBPACK_EXTERNAL_MODULE_25__,__WEBPACK_EXTERNAL_MODULE_29__,__WEBPACK_EXTERNAL_MODULE_35__,__WEBPACK_EXTERNAL_MODULE_49__){return function(Q){function F(B){if(t[B])return t[B].exports;var n=t[B]={exports:{},id:B,loaded:!1};return Q[B].call(n.exports,n,n.exports,F),n.loaded=!0,n.exports}var t={};return F.m=Q,F.c=t,F.p="",F(0)}([function(module,exports,__webpack_require__){eval("'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Timeline = __webpack_require__(13);\n\nvar _Timeline2 = _interopRequireDefault(_Timeline);\n\nvar _PropertiesEditor = __webpack_require__(24);\n\nvar _PropertiesEditor2 = _interopRequireDefault(_PropertiesEditor);\n\nvar _EditorMenu = __webpack_require__(48);\n\nvar _EditorMenu2 = _interopRequireDefault(_EditorMenu);\n\nvar _EditorControls = __webpack_require__(50);\n\nvar _EditorControls2 = _interopRequireDefault(_EditorControls);\n\nvar _SelectionManager = __webpack_require__(51);\n\nvar _SelectionManager2 = _interopRequireDefault(_SelectionManager);\n\nvar _Exporter = __webpack_require__(52);\n\nvar _Exporter2 = _interopRequireDefault(_Exporter);\n\nvar _UndoManager = __webpack_require__(53);\n\nvar _UndoManager2 = _interopRequireDefault(_UndoManager);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar tpl_timeline = __webpack_require__(54);\n\nvar Signals = __webpack_require__(6);\n\nvar Editor = function () {\n  function Editor(tweenTime) {\n    var _this = this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Editor);\n\n    this.tweenTime = tweenTime;\n    this.options = options;\n    this.timer = this.tweenTime.timer;\n    this.lastTime = -1;\n    this.curveEditEnabled = false;\n\n    this.onKeyAdded = this.onKeyAdded.bind(this);\n    this.onKeyRemoved = this.onKeyRemoved.bind(this);\n\n    this.forceItemsRender = this.forceItemsRender.bind(this);\n\n    var el = options.el || $('body');\n    this.el = el;\n    this.$timeline = $(tpl_timeline());\n    el.append(this.$timeline);\n    el.addClass('has-editor');\n\n    this.selectionManager = new _SelectionManager2.default(this.tweenTime);\n    this.exporter = new _Exporter2.default(this);\n    this.timeline = new _Timeline2.default(this, options);\n\n    this.propertiesEditor = new _PropertiesEditor2.default(this, this.selectionManager);\n    this.propertiesEditor.keyAdded.add(this.onKeyAdded);\n    this.propertiesEditor.keyRemoved.add(this.onKeyRemoved);\n\n    this.menu = new _EditorMenu2.default(this.tweenTime, this.$timeline, this);\n    if (this.options.onMenuCreated !== undefined) {\n      this.options.onMenuCreated(this.$timeline.find('.timeline__menu'), this);\n    }\n\n    this.controls = new _EditorControls2.default(this.tweenTime, this.$timeline);\n    this.undoManager = new _UndoManager2.default(this);\n\n    // Public events.\n    this.onSelect = new Signals.Signal();\n    var self = this;\n    this.selectionManager.onSelect.add(function (selection, addToSelection) {\n      // Propagate the event.\n      self.onSelect.dispatch(selection, addToSelection);\n    });\n\n    // Will help resize the canvas to correct size (minus sidebar and timeline)\n    window.editorEnabled = true;\n    window.dispatchEvent(new Event('resize'));\n    window.requestAnimationFrame(function () {\n      return _this.update();\n    });\n  }\n\n  _createClass(Editor, [{\n    key: 'forceItemsRender',\n    value: function forceItemsRender() {\n      this.timeline._isDirty = true;\n    }\n  }, {\n    key: 'select',\n    value: function select(item) {\n      var addToSelection = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      this.selectionManager.select(item, addToSelection);\n    }\n  }, {\n    key: 'getSelection',\n    value: function getSelection() {\n      return this.selectionManager.getSelection();\n    }\n  }, {\n    key: 'onKeyAdded',\n    value: function onKeyAdded() {\n      this.undoManager.addState();\n      this.render(false, false, true);\n    }\n  }, {\n    key: 'onKeyRemoved',\n    value: function onKeyRemoved(item) {\n      this.selectionManager.removeItem(item._id);\n      this.undoManager.addState();\n      if (this.selectionManager.selection.length) {\n        this.selectionManager.triggerSelect();\n      }\n      this.render(false, false, true);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var time = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var time_changed = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var force = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n      var time2 = time;\n      if (time2 === false) {\n        time2 = this.timer.time[0];\n      }\n      if (force) {\n        this.timeline._isDirty = true;\n      }\n      this.timeline.render(time2, time_changed);\n      this.controls.render(time2, time_changed);\n      this.propertiesEditor.render(time2, time_changed);\n    }\n  }, {\n    key: 'update',\n    value: function update() {\n      var _this2 = this;\n\n      var time = this.timer.time[0];\n      var time_changed = this.lastTime === time ? false : true;\n\n      this.render(time, time_changed);\n      this.lastTime = this.timer.time[0];\n      window.requestAnimationFrame(function () {\n        return _this2.update();\n      });\n    }\n  }]);\n\n  return Editor;\n}();\n\nmodule.exports = Editor;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9FZGl0b3IuanM/ZmY5NiJdLCJuYW1lcyI6WyJ0cGxfdGltZWxpbmUiLCJyZXF1aXJlIiwiU2lnbmFscyIsIkVkaXRvciIsInR3ZWVuVGltZSIsIm9wdGlvbnMiLCJ0aW1lciIsImxhc3RUaW1lIiwiY3VydmVFZGl0RW5hYmxlZCIsIm9uS2V5QWRkZWQiLCJiaW5kIiwib25LZXlSZW1vdmVkIiwiZm9yY2VJdGVtc1JlbmRlciIsImVsIiwiJCIsIiR0aW1lbGluZSIsImFwcGVuZCIsImFkZENsYXNzIiwic2VsZWN0aW9uTWFuYWdlciIsIlNlbGVjdGlvbk1hbmFnZXIiLCJleHBvcnRlciIsIkV4cG9ydGVyIiwidGltZWxpbmUiLCJUaW1lbGluZSIsInByb3BlcnRpZXNFZGl0b3IiLCJQcm9wZXJ0aWVzRWRpdG9yIiwia2V5QWRkZWQiLCJhZGQiLCJrZXlSZW1vdmVkIiwibWVudSIsIkVkaXRvck1lbnUiLCJvbk1lbnVDcmVhdGVkIiwidW5kZWZpbmVkIiwiZmluZCIsImNvbnRyb2xzIiwiRWRpdG9yQ29udHJvbHMiLCJ1bmRvTWFuYWdlciIsIlVuZG9NYW5hZ2VyIiwib25TZWxlY3QiLCJTaWduYWwiLCJzZWxmIiwic2VsZWN0aW9uIiwiYWRkVG9TZWxlY3Rpb24iLCJkaXNwYXRjaCIsIndpbmRvdyIsImVkaXRvckVuYWJsZWQiLCJkaXNwYXRjaEV2ZW50IiwiRXZlbnQiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ1cGRhdGUiLCJfaXNEaXJ0eSIsIml0ZW0iLCJzZWxlY3QiLCJnZXRTZWxlY3Rpb24iLCJhZGRTdGF0ZSIsInJlbmRlciIsInJlbW92ZUl0ZW0iLCJfaWQiLCJsZW5ndGgiLCJ0cmlnZ2VyU2VsZWN0IiwidGltZSIsInRpbWVfY2hhbmdlZCIsImZvcmNlIiwidGltZTIiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7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QUE0QkYsWUFBNUI7QUFDQSxXQUFLM0IsUUFBTCxDQUFjcUIsTUFBZCxDQUFxQlEsS0FBckIsRUFBNEJGLFlBQTVCO0FBQ0EsV0FBS3JDLGdCQUFMLENBQXNCK0IsTUFBdEIsQ0FBNkJRLEtBQTdCLEVBQW9DRixZQUFwQztBQUNEOzs7NkJBRVE7QUFBQTs7QUFDUCxVQUFJRCxPQUFPLEtBQUt0RCxLQUFMLENBQVdzRCxJQUFYLENBQWdCLENBQWhCLENBQVg7QUFDQSxVQUFJQyxlQUFlLEtBQUt0RCxRQUFMLEtBQWtCcUQsSUFBbEIsR0FBeUIsS0FBekIsR0FBaUMsSUFBcEQ7O0FBRUEsV0FBS0wsTUFBTCxDQUFZSyxJQUFaLEVBQWtCQyxZQUFsQjtBQUNBLFdBQUt0RCxRQUFMLEdBQWdCLEtBQUtELEtBQUwsQ0FBV3NELElBQVgsQ0FBZ0IsQ0FBaEIsQ0FBaEI7QUFDQWhCLGFBQU9JLHFCQUFQLENBQTZCO0FBQUEsZUFBTSxPQUFLQyxNQUFMLEVBQU47QUFBQSxPQUE3QjtBQUNEOzs7Ozs7QUFHSGUsT0FBT0MsT0FBUCxHQUFpQjlELE1BQWpCIiwiZmlsZSI6IjAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgdHBsX3RpbWVsaW5lID0gcmVxdWlyZSgnLi90ZW1wbGF0ZXMvdGltZWxpbmUudHBsLmh0bWwnKTtcbmltcG9ydCBUaW1lbGluZSBmcm9tICcuL2dyYXBoL1RpbWVsaW5lJztcbmltcG9ydCBQcm9wZXJ0aWVzRWRpdG9yIGZyb20gJy4vZWRpdG9yL1Byb3BlcnRpZXNFZGl0b3InO1xuaW1wb3J0IEVkaXRvck1lbnUgZnJvbSAnLi9lZGl0b3IvRWRpdG9yTWVudSc7XG5pbXBvcnQgRWRpdG9yQ29udHJvbHMgZnJvbSAnLi9lZGl0b3IvRWRpdG9yQ29udHJvbHMnO1xuaW1wb3J0IFNlbGVjdGlvbk1hbmFnZXIgZnJvbSAnLi9lZGl0b3IvU2VsZWN0aW9uTWFuYWdlcic7XG5pbXBvcnQgRXhwb3J0ZXIgZnJvbSAnLi9lZGl0b3IvRXhwb3J0ZXInO1xuaW1wb3J0IFVuZG9NYW5hZ2VyIGZyb20gJy4vZWRpdG9yL1VuZG9NYW5hZ2VyJztcbmxldCBTaWduYWxzID0gcmVxdWlyZSgnanMtc2lnbmFscycpO1xuXG5jbGFzcyBFZGl0b3Ige1xuICBjb25zdHJ1Y3Rvcih0d2VlblRpbWUsIG9wdGlvbnMgPSB7fSkge1xuICAgIHRoaXMudHdlZW5UaW1lID0gdHdlZW5UaW1lO1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgdGhpcy50aW1lciA9IHRoaXMudHdlZW5UaW1lLnRpbWVyO1xuICAgIHRoaXMubGFzdFRpbWUgPSAtMTtcbiAgICB0aGlzLmN1cnZlRWRpdEVuYWJsZWQgPSBmYWxzZTtcblxuICAgIHRoaXMub25LZXlBZGRlZCA9IHRoaXMub25LZXlBZGRlZC5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25LZXlSZW1vdmVkID0gdGhpcy5vbktleVJlbW92ZWQuYmluZCh0aGlzKTtcblxuICAgIHRoaXMuZm9yY2VJdGVtc1JlbmRlciA9IHRoaXMuZm9yY2VJdGVtc1JlbmRlci5iaW5kKHRoaXMpO1xuXG4gICAgdmFyIGVsID0gb3B0aW9ucy5lbCB8fCAkKCdib2R5Jyk7XG4gICAgdGhpcy5lbCA9IGVsO1xuICAgIHRoaXMuJHRpbWVsaW5lID0gJCh0cGxfdGltZWxpbmUoKSk7XG4gICAgZWwuYXBwZW5kKHRoaXMuJHRpbWVsaW5lKTtcbiAgICBlbC5hZGRDbGFzcygnaGFzLWVkaXRvcicpO1xuXG4gICAgdGhpcy5zZWxlY3Rpb25NYW5hZ2VyID0gbmV3IFNlbGVjdGlvbk1hbmFnZXIodGhpcy50d2VlblRpbWUpO1xuICAgIHRoaXMuZXhwb3J0ZXIgPSBuZXcgRXhwb3J0ZXIodGhpcyk7XG4gICAgdGhpcy50aW1lbGluZSA9IG5ldyBUaW1lbGluZSh0aGlzLCBvcHRpb25zKTtcblxuICAgIHRoaXMucHJvcGVydGllc0VkaXRvciA9IG5ldyBQcm9wZXJ0aWVzRWRpdG9yKHRoaXMsIHRoaXMuc2VsZWN0aW9uTWFuYWdlcik7XG4gICAgdGhpcy5wcm9wZXJ0aWVzRWRpdG9yLmtleUFkZGVkLmFkZCh0aGlzLm9uS2V5QWRkZWQpO1xuICAgIHRoaXMucHJvcGVydGllc0VkaXRvci5rZXlSZW1vdmVkLmFkZCh0aGlzLm9uS2V5UmVtb3ZlZCk7XG5cbiAgICB0aGlzLm1lbnUgPSBuZXcgRWRpdG9yTWVudSh0aGlzLnR3ZWVuVGltZSwgdGhpcy4kdGltZWxpbmUsIHRoaXMpO1xuICAgIGlmICh0aGlzLm9wdGlvbnMub25NZW51Q3JlYXRlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLm9wdGlvbnMub25NZW51Q3JlYXRlZCh0aGlzLiR0aW1lbGluZS5maW5kKCcudGltZWxpbmVfX21lbnUnKSwgdGhpcyk7XG4gICAgfVxuXG4gICAgdGhpcy5jb250cm9scyA9IG5ldyBFZGl0b3JDb250cm9scyh0aGlzLnR3ZWVuVGltZSwgdGhpcy4kdGltZWxpbmUpO1xuICAgIHRoaXMudW5kb01hbmFnZXIgPSBuZXcgVW5kb01hbmFnZXIodGhpcyk7XG5cbiAgICAvLyBQdWJsaWMgZXZlbnRzLlxuICAgIHRoaXMub25TZWxlY3QgPSBuZXcgU2lnbmFscy5TaWduYWwoKTtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdGhpcy5zZWxlY3Rpb25NYW5hZ2VyLm9uU2VsZWN0LmFkZChmdW5jdGlvbihzZWxlY3Rpb24sIGFkZFRvU2VsZWN0aW9uKSB7XG4gICAgICAvLyBQcm9wYWdhdGUgdGhlIGV2ZW50LlxuICAgICAgc2VsZi5vblNlbGVjdC5kaXNwYXRjaChzZWxlY3Rpb24sIGFkZFRvU2VsZWN0aW9uKTtcbiAgICB9KTtcblxuICAgIC8vIFdpbGwgaGVscCByZXNpemUgdGhlIGNhbnZhcyB0byBjb3JyZWN0IHNpemUgKG1pbnVzIHNpZGViYXIgYW5kIHRpbWVsaW5lKVxuICAgIHdpbmRvdy5lZGl0b3JFbmFibGVkID0gdHJ1ZTtcbiAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ3Jlc2l6ZScpKTtcbiAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHRoaXMudXBkYXRlKCkpO1xuICB9XG5cbiAgZm9yY2VJdGVtc1JlbmRlcigpIHtcbiAgICB0aGlzLnRpbWVsaW5lLl9pc0RpcnR5ID0gdHJ1ZTtcbiAgfVxuXG4gIHNlbGVjdChpdGVtLCBhZGRUb1NlbGVjdGlvbiA9IGZhbHNlKSB7XG4gICAgdGhpcy5zZWxlY3Rpb25NYW5hZ2VyLnNlbGVjdChpdGVtLCBhZGRUb1NlbGVjdGlvbik7XG4gIH1cblxuICBnZXRTZWxlY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuc2VsZWN0aW9uTWFuYWdlci5nZXRTZWxlY3Rpb24oKTtcbiAgfVxuXG4gIG9uS2V5QWRkZWQoKSB7XG4gICAgdGhpcy51bmRvTWFuYWdlci5hZGRTdGF0ZSgpO1xuICAgIHRoaXMucmVuZGVyKGZhbHNlLCBmYWxzZSwgdHJ1ZSk7XG4gIH1cblxuICBvbktleVJlbW92ZWQoaXRlbSkge1xuICAgIHRoaXMuc2VsZWN0aW9uTWFuYWdlci5yZW1vdmVJdGVtKGl0ZW0uX2lkKTtcbiAgICB0aGlzLnVuZG9NYW5hZ2VyLmFkZFN0YXRlKCk7XG4gICAgaWYgKHRoaXMuc2VsZWN0aW9uTWFuYWdlci5zZWxlY3Rpb24ubGVuZ3RoKSB7XG4gICAgICB0aGlzLnNlbGVjdGlvbk1hbmFnZXIudHJpZ2dlclNlbGVjdCgpO1xuICAgIH1cbiAgICB0aGlzLnJlbmRlcihmYWxzZSwgZmFsc2UsIHRydWUpO1xuICB9XG5cbiAgcmVuZGVyKHRpbWUgPSBmYWxzZSwgdGltZV9jaGFuZ2VkID0gZmFsc2UsIGZvcmNlID0gZmFsc2UpIHtcbiAgICBsZXQgdGltZTIgPSB0aW1lO1xuICAgIGlmICh0aW1lMiA9PT0gZmFsc2UpIHtcbiAgICAgIHRpbWUyID0gdGhpcy50aW1lci50aW1lWzBdO1xuICAgIH1cbiAgICBpZiAoZm9yY2UpIHtcbiAgICAgIHRoaXMudGltZWxpbmUuX2lzRGlydHkgPSB0cnVlO1xuICAgIH1cbiAgICB0aGlzLnRpbWVsaW5lLnJlbmRlcih0aW1lMiwgdGltZV9jaGFuZ2VkKTtcbiAgICB0aGlzLmNvbnRyb2xzLnJlbmRlcih0aW1lMiwgdGltZV9jaGFuZ2VkKTtcbiAgICB0aGlzLnByb3BlcnRpZXNFZGl0b3IucmVuZGVyKHRpbWUyLCB0aW1lX2NoYW5nZWQpO1xuICB9XG5cbiAgdXBkYXRlKCkge1xuICAgIHZhciB0aW1lID0gdGhpcy50aW1lci50aW1lWzBdO1xuICAgIHZhciB0aW1lX2NoYW5nZWQgPSB0aGlzLmxhc3RUaW1lID09PSB0aW1lID8gZmFsc2UgOiB0cnVlO1xuXG4gICAgdGhpcy5yZW5kZXIodGltZSwgdGltZV9jaGFuZ2VkKTtcbiAgICB0aGlzLmxhc3RUaW1lID0gdGhpcy50aW1lci50aW1lWzBdO1xuICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gdGhpcy51cGRhdGUoKSk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBFZGl0b3I7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9FZGl0b3IuanMiXSwic291cmNlUm9vdCI6IiJ9")},function(module,exports){eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar EASE_POINTS = {\n  'Linear.easeNone': [0.250, 0.250, 0.750, 0.750],\n  'Quad.easeIn': [0.550, 0.085, 0.680, 0.530],\n  'Quad.easeOut': [0.250, 0.460, 0.450, 0.940],\n  'Quad.easeInOut': [0.455, 0.030, 0.515, 0.955],\n  'Cubic.easeIn': [0.550, 0.055, 0.675, 0.190],\n  'Cubic.easeOut': [0.215, 0.610, 0.355, 1.000],\n  'Cubic.easeInOut': [0.645, 0.045, 0.355, 1.000],\n  'Quart.easeIn': [0.895, 0.030, 0.685, 0.220],\n  'Quart.easeOut': [0.165, 0.840, 0.440, 1.000],\n  'Quart.easeInOut': [0.770, 0.000, 0.175, 1.000],\n  'Quint.easeIn': [0.755, 0.050, 0.855, 0.060],\n  'Quint.easeOut': [0.230, 1.000, 0.320, 1.000],\n  'Quint.easeInOut': [0.860, 0.000, 0.070, 1.000]\n};\n\nvar Utils = function () {\n  function Utils() {\n    _classCallCheck(this, Utils);\n  }\n\n  _createClass(Utils, null, [{\n    key: 'formatMinutes',\n    value: function formatMinutes(d) {\n      // convert milliseconds to seconds\n      var seconds = d / 1000;\n      var hours = Math.floor(seconds / 3600);\n      var minutes = Math.floor((seconds - hours * 3600) / 60);\n      seconds = seconds - minutes * 60;\n      var output = seconds + 's';\n      if (minutes) {\n        output = minutes + 'm ' + output;\n      }\n      if (hours) {\n        output = hours + 'h ' + output;\n      }\n      return output;\n    }\n  }, {\n    key: 'getClosestTime',\n    value: function getClosestTime(data, time) {\n      var objectId = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      var property_name = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n      var timer = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n      var tolerance = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 0.1;\n\n      if (timer) {\n        var timer_time = timer.getCurrentTime() / 1000;\n        if (Math.abs(timer_time - time) <= tolerance) {\n          return timer_time;\n        }\n      }\n\n      if (objectId || property_name) {\n        for (var i = 0; i < data.length; i++) {\n          var item = data[i];\n          // Don't match item with itself, but allow property to match item start/end.\n          if (item.id !== objectId || property_name) {\n            // First check start & end.\n            if (Math.abs(item.start - time) <= tolerance) {\n              return item.start;\n            }\n\n            if (Math.abs(item.end - time) <= tolerance) {\n              return item.end;\n            }\n          }\n\n          // Test properties keys\n          for (var j = 0; j < item.properties.length; j++) {\n            var prop = item.properties[j];\n\n            // Don't match property with itself.\n            if (prop.keys && (item.id !== objectId || prop.name !== property_name)) {\n              for (var k = 0; k < prop.keys.length; k++) {\n                var key = prop.keys[k];\n                if (Math.abs(key.time - time) <= tolerance) {\n                  return key.time;\n                }\n              }\n            }\n          }\n        }\n      }\n      return false;\n    }\n  }, {\n    key: 'getPreviousKey',\n    value: function getPreviousKey(keys, time) {\n      var prevKey = false;\n      for (var i = 0; i < keys.length; i++) {\n        var key = keys[i];\n        if (key.time < time) {\n          prevKey = key;\n        } else {\n          return prevKey;\n        }\n      }\n      return prevKey;\n    }\n  }, {\n    key: 'sortKeys',\n    value: function sortKeys(keys) {\n      var compare = function compare(a, b) {\n        if (a.time < b.time) {\n          return -1;\n        }\n        if (a.time > b.time) {\n          return 1;\n        }\n        return 0;\n      };\n      return keys.sort(compare);\n    }\n  }, {\n    key: 'guid',\n    value: function guid() {\n      var s4 = function s4() {\n        return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n      };\n      return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();\n    }\n  }, {\n    key: 'getEasingPoints',\n    value: function getEasingPoints(ease) {\n      // If already an array then return it directly.\n      if (Array.isArray(ease)) {\n        return ease;\n      }\n      // Return the points but clone the array first ; )\n      if (EASE_POINTS[ease]) {\n        return EASE_POINTS[ease].slice(0);\n      }\n      return EASE_POINTS['Quad.easeInOut'].slice(0);\n    }\n  }]);\n\n  return Utils;\n}();\n\nexports.default = Utils;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9jb3JlL1V0aWxzLmpzPzhkMmYiXSwibmFtZXMiOlsiRUFTRV9QT0lOVFMiLCJVdGlscyIsImQiLCJzZWNvbmRzIiwiaG91cnMiLCJNYXRoIiwiZmxvb3IiLCJtaW51dGVzIiwib3V0cHV0IiwiZGF0YSIsInRpbWUiLCJvYmplY3RJZCIsInByb3BlcnR5X25hbWUiLCJ0aW1lciIsInRvbGVyYW5jZSIsInRpbWVyX3RpbWUiLCJnZXRDdXJyZW50VGltZSIsImFicyIsImkiLCJsZW5ndGgiLCJpdGVtIiwiaWQiLCJzdGFydCIsImVuZCIsImoiLCJwcm9wZXJ0aWVzIiwicHJvcCIsImtleXMiLCJuYW1lIiwiayIsImtleSIsInByZXZLZXkiLCJjb21wYXJlIiwiYSIsImIiLCJzb3J0IiwiczQiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0cmluZyIsImVhc2UiLCJBcnJheSIsImlzQXJyYXkiLCJzbGljZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBLElBQU1BLGNBQWM7QUFDbEIscUJBQW1CLENBQUMsS0FBRCxFQUFRLEtBQVIsRUFBZSxLQUFmLEVBQXNCLEtBQXRCLENBREQ7QUFFbEIsaUJBQWUsQ0FBQyxLQUFELEVBQVEsS0FBUixFQUFlLEtBQWYsRUFBc0IsS0FBdEIsQ0FGRztBQUdsQixrQkFBZ0IsQ0FBQyxLQUFELEVBQVEsS0FBUixFQUFlLEtBQWYsRUFBc0IsS0FBdEIsQ0FIRTtBQUlsQixvQkFBa0IsQ0FBQyxLQUFELEVBQVEsS0FBUixFQUFlLEtBQWYsRUFBc0IsS0FBdEIsQ0FKQTtBQUtsQixrQkFBZ0IsQ0FBQyxLQUFELEVBQVEsS0FBUixFQUFlLEtBQWYsRUFBc0IsS0FBdEIsQ0FMRTtBQU1sQixtQkFBaUIsQ0FBQyxLQUFELEVBQVEsS0FBUixFQUFlLEtBQWYsRUFBc0IsS0FBdEIsQ0FOQztBQU9sQixxQkFBbUIsQ0FBQyxLQUFELEVBQVEsS0FBUixFQUFlLEtBQWYsRUFBc0IsS0FBdEIsQ0FQRDtBQVFsQixr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QUZEO0FBR0EsYUFBT0gsT0FBT0EsSUFBUCxHQUFjLEdBQWQsR0FBb0JBLElBQXBCLEdBQTJCLEdBQTNCLEdBQWlDQSxJQUFqQyxHQUF3QyxHQUF4QyxHQUE4Q0EsSUFBOUMsR0FBcUQsR0FBckQsR0FBMkRBLElBQTNELEdBQWtFQSxJQUFsRSxHQUF5RUEsSUFBaEY7QUFDRDs7O29DQUVzQkksSSxFQUFNO0FBQzNCO0FBQ0EsVUFBSUMsTUFBTUMsT0FBTixDQUFjRixJQUFkLENBQUosRUFBeUI7QUFDdkIsZUFBT0EsSUFBUDtBQUNEO0FBQ0Q7QUFDQSxVQUFJeEMsWUFBWXdDLElBQVosQ0FBSixFQUF1QjtBQUNyQixlQUFPeEMsWUFBWXdDLElBQVosRUFBa0JHLEtBQWxCLENBQXdCLENBQXhCLENBQVA7QUFDRDtBQUNELGFBQU8zQyxZQUFZLGdCQUFaLEVBQThCMkMsS0FBOUIsQ0FBb0MsQ0FBcEMsQ0FBUDtBQUNEOzs7Ozs7a0JBdkdrQjFDLEsiLCJmaWxlIjoiMS5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IEVBU0VfUE9JTlRTID0ge1xuICAnTGluZWFyLmVhc2VOb25lJzogWzAuMjUwLCAwLjI1MCwgMC43NTAsIDAuNzUwXSxcbiAgJ1F1YWQuZWFzZUluJzogWzAuNTUwLCAwLjA4NSwgMC42ODAsIDAuNTMwXSxcbiAgJ1F1YWQuZWFzZU91dCc6IFswLjI1MCwgMC40NjAsIDAuNDUwLCAwLjk0MF0sXG4gICdRdWFkLmVhc2VJbk91dCc6IFswLjQ1NSwgMC4wMzAsIDAuNTE1LCAwLjk1NV0sXG4gICdDdWJpYy5lYXNlSW4nOiBbMC41NTAsIDAuMDU1LCAwLjY3NSwgMC4xOTBdLFxuICAnQ3ViaWMuZWFzZU91dCc6IFswLjIxNSwgMC42MTAsIDAuMzU1LCAxLjAwMF0sXG4gICdDdWJpYy5lYXNlSW5PdXQnOiBbMC42NDUsIDAuMDQ1LCAwLjM1NSwgMS4wMDBdLFxuICAnUXVhcnQuZWFzZUluJzogWzAuODk1LCAwLjAzMCwgMC42ODUsIDAuMjIwXSxcbiAgJ1F1YXJ0LmVhc2VPdXQnOiBbMC4xNjUsIDAuODQwLCAwLjQ0MCwgMS4wMDBdLFxuICAnUXVhcnQuZWFzZUluT3V0JzogWzAuNzcwLCAwLjAwMCwgMC4xNzUsIDEuMDAwXSxcbiAgJ1F1aW50LmVhc2VJbic6IFswLjc1NSwgMC4wNTAsIDAuODU1LCAwLjA2MF0sXG4gICdRdWludC5lYXNlT3V0JzogWzAuMjMwLCAxLjAwMCwgMC4zMjAsIDEuMDAwXSxcbiAgJ1F1aW50LmVhc2VJbk91dCc6IFswLjg2MCwgMC4wMDAsIDAuMDcwLCAxLjAwMF1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFV0aWxzIHtcbiAgc3RhdGljIGZvcm1hdE1pbnV0ZXMoZCkge1xuICAgIC8vIGNvbnZlcnQgbWlsbGlzZWNvbmRzIHRvIHNlY29uZHNcbiAgICBsZXQgc2Vjb25kcyA9IGQgLyAxMDAwO1xuICAgIGxldCBob3VycyA9IE1hdGguZmxvb3Ioc2Vjb25kcyAvIDM2MDApO1xuICAgIGxldCBtaW51dGVzID0gTWF0aC5mbG9vcigoc2Vjb25kcyAtIGhvdXJzICogMzYwMCkgLyA2MCk7XG4gICAgc2Vjb25kcyA9IHNlY29uZHMgLSBtaW51dGVzICogNjA7XG4gICAgbGV0IG91dHB1dCA9IHNlY29uZHMgKyAncyc7XG4gICAgaWYgKG1pbnV0ZXMpIHtcbiAgICAgIG91dHB1dCA9IG1pbnV0ZXMgKyAnbSAnICsgb3V0cHV0O1xuICAgIH1cbiAgICBpZiAoaG91cnMpIHtcbiAgICAgIG91dHB1dCA9IGhvdXJzICsgJ2ggJyArIG91dHB1dDtcbiAgICB9XG4gICAgcmV0dXJuIG91dHB1dDtcbiAgfVxuXG4gIHN0YXRpYyBnZXRDbG9zZXN0VGltZShkYXRhLCB0aW1lLCBvYmplY3RJZCA9IGZhbHNlLCBwcm9wZXJ0eV9uYW1lID0gZmFsc2UsIHRpbWVyID0gZmFsc2UsIHRvbGVyYW5jZSA9IDAuMSkge1xuICAgIGlmICh0aW1lcikge1xuICAgICAgdmFyIHRpbWVyX3RpbWUgPSB0aW1lci5nZXRDdXJyZW50VGltZSgpIC8gMTAwMDtcbiAgICAgIGlmIChNYXRoLmFicyh0aW1lcl90aW1lIC0gdGltZSkgPD0gdG9sZXJhbmNlKSB7XG4gICAgICAgIHJldHVybiB0aW1lcl90aW1lO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChvYmplY3RJZCB8fCBwcm9wZXJ0eV9uYW1lKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGl0ZW0gPSBkYXRhW2ldO1xuICAgICAgICAvLyBEb24ndCBtYXRjaCBpdGVtIHdpdGggaXRzZWxmLCBidXQgYWxsb3cgcHJvcGVydHkgdG8gbWF0Y2ggaXRlbSBzdGFydC9lbmQuXG4gICAgICAgIGlmIChpdGVtLmlkICE9PSBvYmplY3RJZCB8fCBwcm9wZXJ0eV9uYW1lKSB7XG4gICAgICAgICAgLy8gRmlyc3QgY2hlY2sgc3RhcnQgJiBlbmQuXG4gICAgICAgICAgaWYgKE1hdGguYWJzKGl0ZW0uc3RhcnQgLSB0aW1lKSA8PSB0b2xlcmFuY2UpIHtcbiAgICAgICAgICAgIHJldHVybiBpdGVtLnN0YXJ0O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChNYXRoLmFicyhpdGVtLmVuZCAtIHRpbWUpIDw9IHRvbGVyYW5jZSkge1xuICAgICAgICAgICAgcmV0dXJuIGl0ZW0uZW5kO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRlc3QgcHJvcGVydGllcyBrZXlzXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgaXRlbS5wcm9wZXJ0aWVzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgdmFyIHByb3AgPSBpdGVtLnByb3BlcnRpZXNbal07XG5cbiAgICAgICAgICAvLyBEb24ndCBtYXRjaCBwcm9wZXJ0eSB3aXRoIGl0c2VsZi5cbiAgICAgICAgICBpZiAocHJvcC5rZXlzICYmIChpdGVtLmlkICE9PSBvYmplY3RJZCB8fCBwcm9wLm5hbWUgIT09IHByb3BlcnR5X25hbWUpKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IHByb3Aua2V5cy5sZW5ndGg7IGsrKykge1xuICAgICAgICAgICAgICB2YXIga2V5ID0gcHJvcC5rZXlzW2tdO1xuICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMoa2V5LnRpbWUgLSB0aW1lKSA8PSB0b2xlcmFuY2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ga2V5LnRpbWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgc3RhdGljIGdldFByZXZpb3VzS2V5KGtleXMsIHRpbWUpIHtcbiAgICB2YXIgcHJldktleSA9IGZhbHNlO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgICBpZiAoa2V5LnRpbWUgPCB0aW1lKSB7XG4gICAgICAgIHByZXZLZXkgPSBrZXk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHByZXZLZXk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwcmV2S2V5O1xuICB9XG5cbiAgc3RhdGljIHNvcnRLZXlzKGtleXMpIHtcbiAgICB2YXIgY29tcGFyZSA9IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgIGlmIChhLnRpbWUgPCBiLnRpbWUpIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgfVxuICAgICAgaWYgKGEudGltZSA+IGIudGltZSkge1xuICAgICAgICByZXR1cm4gMTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAwO1xuICAgIH07XG4gICAgcmV0dXJuIGtleXMuc29ydChjb21wYXJlKTtcbiAgfVxuXG4gIHN0YXRpYyBndWlkKCkge1xuICAgIHZhciBzNCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIE1hdGguZmxvb3IoKDEgKyBNYXRoLnJhbmRvbSgpKSAqIDB4MTAwMDApLnRvU3RyaW5nKDE2KS5zdWJzdHJpbmcoMSk7XG4gICAgfTtcbiAgICByZXR1cm4gczQoKSArIHM0KCkgKyAnLScgKyBzNCgpICsgJy0nICsgczQoKSArICctJyArIHM0KCkgKyAnLScgKyBzNCgpICsgczQoKSArIHM0KCk7XG4gIH1cblxuICBzdGF0aWMgZ2V0RWFzaW5nUG9pbnRzKGVhc2UpIHtcbiAgICAvLyBJZiBhbHJlYWR5IGFuIGFycmF5IHRoZW4gcmV0dXJuIGl0IGRpcmVjdGx5LlxuICAgIGlmIChBcnJheS5pc0FycmF5KGVhc2UpKSB7XG4gICAgICByZXR1cm4gZWFzZTtcbiAgICB9XG4gICAgLy8gUmV0dXJuIHRoZSBwb2ludHMgYnV0IGNsb25lIHRoZSBhcnJheSBmaXJzdCA7IClcbiAgICBpZiAoRUFTRV9QT0lOVFNbZWFzZV0pIHtcbiAgICAgIHJldHVybiBFQVNFX1BPSU5UU1tlYXNlXS5zbGljZSgwKTtcbiAgICB9XG4gICAgcmV0dXJuIEVBU0VfUE9JTlRTWydRdWFkLmVhc2VJbk91dCddLnNsaWNlKDApO1xuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9jb3JlL1V0aWxzLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==");
},,,,,function(module,exports){eval("module.exports = __WEBPACK_EXTERNAL_MODULE_6__;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwge1wicm9vdFwiOlwic2lnbmFsc1wiLFwiY29tbW9uanNcIjpcInNpZ25hbHNcIixcImNvbW1vbmpzMlwiOlwic2lnbmFsc1wiLFwiYW1kXCI6XCJzaWduYWxzXCJ9PzkwMzgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiNi5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV82X187XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwge1wicm9vdFwiOlwic2lnbmFsc1wiLFwiY29tbW9uanNcIjpcInNpZ25hbHNcIixcImNvbW1vbmpzMlwiOlwic2lnbmFsc1wiLFwiYW1kXCI6XCJzaWduYWxzXCJ9XG4vLyBtb2R1bGUgaWQgPSA2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIl0sInNvdXJjZVJvb3QiOiIifQ==")},,,,,,function(module,exports){eval("module.exports = __WEBPACK_EXTERNAL_MODULE_12__;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwge1wicm9vdFwiOlwiX1wiLFwiY29tbW9uanNcIjpcImxvZGFzaFwiLFwiY29tbW9uanMyXCI6XCJsb2Rhc2hcIixcImFtZFwiOlwibG9kYXNoXCJ9PzU1ZDAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiMTIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfMTJfXztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCB7XCJyb290XCI6XCJfXCIsXCJjb21tb25qc1wiOlwibG9kYXNoXCIsXCJjb21tb25qczJcIjpcImxvZGFzaFwiLFwiYW1kXCI6XCJsb2Rhc2hcIn1cbi8vIG1vZHVsZSBpZCA9IDEyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIl0sInNvdXJjZVJvb3QiOiIifQ==")},function(module,exports,__webpack_require__){eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Utils = __webpack_require__(1);\n\nvar _Utils2 = _interopRequireDefault(_Utils);\n\nvar _Header = __webpack_require__(14);\n\nvar _Header2 = _interopRequireDefault(_Header);\n\nvar _TimeIndicator = __webpack_require__(16);\n\nvar _TimeIndicator2 = _interopRequireDefault(_TimeIndicator);\n\nvar _Items = __webpack_require__(17);\n\nvar _Items2 = _interopRequireDefault(_Items);\n\nvar _KeysPreview = __webpack_require__(18);\n\nvar _KeysPreview2 = _interopRequireDefault(_KeysPreview);\n\nvar _Properties = __webpack_require__(19);\n\nvar _Properties2 = _interopRequireDefault(_Properties);\n\nvar _PropertyCurveEdit = __webpack_require__(20);\n\nvar _PropertyCurveEdit2 = _interopRequireDefault(_PropertyCurveEdit);\n\nvar _Keys = __webpack_require__(21);\n\nvar _Keys2 = _interopRequireDefault(_Keys);\n\nvar _Errors = __webpack_require__(22);\n\nvar _Errors2 = _interopRequireDefault(_Errors);\n\nvar _Selection = __webpack_require__(23);\n\nvar _Selection2 = _interopRequireDefault(_Selection);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar d3 = __webpack_require__(15);\n\nvar Timeline = function () {\n  function Timeline(editor, options) {\n    var _this = this;\n\n    _classCallCheck(this, Timeline);\n\n    this.editor = editor;\n    this.tweenTime = this.editor.tweenTime;\n    this.timer = this.tweenTime.timer;\n    this.selectionManager = this.editor.selectionManager;\n    this.selectionManager.onSelect.add(function () {\n      // Needed to apply selection of properties/item to curves.\n      _this._isDirty = true;\n      _this.render();\n    });\n\n    this._isDirty = true;\n    this.timer = this.tweenTime.timer;\n    this.currentTime = this.timer.time; // used in timeindicator.\n\n    this.onUpdate = this.onUpdate.bind(this);\n\n    // Make the domain cover 20% of the totalDuation by default.\n    this.initialDomain = [];\n    this.initialDomain[0] = options.domainStart || 0;\n    this.initialDomain[1] = options.domainEnd || this.timer.totalDuration * 0.2;\n\n    // Adapt time to be greater or equal to domainStart.\n    if (this.initialDomain[0] > this.timer.getCurrentTime()) {\n      this.timer.time[0] = this.initialDomain[0];\n    }\n\n    var margin = { top: 6, right: 20, bottom: 0, left: 265 };\n    this.margin = margin;\n\n    var width = window.innerWidth - margin.left - margin.right;\n    var height = 270 - margin.top - margin.bottom - 40;\n    this.lineHeight = 20;\n    this.label_position_x = -margin.left + 20;\n\n    this.x = d3.time.scale().domain(this.initialDomain).range([0, width]);\n\n    this.xAxis = d3.svg.axis().scale(this.x).orient('top').tickSize(-height, 0).tickFormat(_Utils2.default.formatMinutes);\n\n    this.svg = d3.select(editor.$timeline.get(0)).select('.timeline__main').append('svg').attr('width', width + margin.left + margin.right).attr('height', 600);\n\n    this.svgContainer = this.svg.append('g').attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n\n    this.svgContainerTime = this.svg.append('g').attr('transform', 'translate(' + margin.left + ',0)');\n\n    this.linesContainer = this.svg.append('g').attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n\n    this.header = new _Header2.default(editor, this.timer, this.initialDomain, this.tweenTime, width, margin);\n    this.timeIndicator = new _TimeIndicator2.default(this, this.svgContainerTime);\n\n    this.selection = new _Selection2.default(this, this.svg, margin);\n\n    this.items = new _Items2.default(this, this.linesContainer);\n    this.items.onUpdate.add(this.onUpdate);\n    this.keysPreview = new _KeysPreview2.default(this, this.linesContainer);\n\n    this.properties = new _Properties2.default(this);\n    this.properties.onKeyAdded.add(function (newKey) {\n      _this._isDirty = true;\n      // render the timeline directly so that we can directly select\n      // the new key with it's domElement.\n      _this.render(0, false);\n      _this.keys.selectNewKey(newKey);\n    });\n    this.errors = new _Errors2.default(this);\n    this.keys = new _Keys2.default(this);\n    this.keys.onKeyUpdated.add(function () {\n      _this.onUpdate();\n    });\n\n    this.curves = new _PropertyCurveEdit2.default(this, this.linesContainer);\n    this.curves.onCurveUpdated.add(function () {\n      _this._isDirty = true;\n      // render the timeline directly so that we can directly select\n      // the new key with it's domElement.\n      _this.render(0, false);\n    });\n\n    this.xAxisGrid = d3.svg.axis().scale(this.x).ticks(100).tickSize(-this.items.dy, 0).tickFormat('').orient('top');\n\n    this.xGrid = this.svgContainer.append('g').attr('class', 'x axis grid').attr('transform', 'translate(0,' + margin.top + ')').call(this.xAxisGrid);\n\n    this.xAxisElement = this.svgContainer.append('g').attr('class', 'x axis').attr('transform', 'translate(0,' + margin.top + ')').call(this.xAxis);\n\n    this.header.onBrush.add(function (extent) {\n      _this.x.domain(extent);\n      _this.xGrid.call(_this.xAxisGrid);\n      _this.xAxisElement.call(_this.xAxis);\n      _this._isDirty = true;\n    });\n\n    // First render\n    window.requestAnimationFrame(function () {\n      _this.render();\n    });\n\n    window.onresize = function () {\n      var INNER_WIDTH = window.innerWidth;\n      var width2 = INNER_WIDTH - margin.left - margin.right;\n      _this.svg.attr('width', width2 + margin.left + margin.right);\n      _this.svg.selectAll('.timeline__right-mask').attr('width', INNER_WIDTH);\n      _this.x.range([0, width2]);\n\n      _this._isDirty = true;\n      _this.header.resize(INNER_WIDTH);\n      _this.render();\n    };\n  }\n\n  _createClass(Timeline, [{\n    key: 'onUpdate',\n    value: function onUpdate() {\n      this.editor.render(false, false, true);\n    }\n  }, {\n    key: 'render',\n    value: function render(time, time_changed) {\n      if (time_changed) {\n        var domainLength;\n        // Update current domain when playing to keep time indicator in view.\n        var margin_ms = 16;\n        if (this.timer.getCurrentTime() > this.initialDomain[1]) {\n          domainLength = this.initialDomain[1] - this.initialDomain[0];\n          this.initialDomain[0] += domainLength - margin_ms;\n          this.initialDomain[1] += domainLength - margin_ms;\n          this.header.setDomain(this.initialDomain);\n        }\n        if (this.timer.getCurrentTime() < this.initialDomain[0]) {\n          domainLength = this.initialDomain[1] - this.initialDomain[0];\n          this.initialDomain[0] = this.timer.getCurrentTime();\n          this.initialDomain[1] = this.initialDomain[0] + domainLength;\n          this.header.setDomain(this.initialDomain);\n        }\n      }\n\n      if (this._isDirty || time_changed) {\n        // Render header and time indicator everytime the time changed.\n        this.header.render();\n        this.timeIndicator.render();\n      }\n\n      if (this._isDirty) {\n        // No need to call this on each frames, but only on brush, key drag, ...\n        var bar = this.items.render();\n        this.keysPreview.render(bar);\n        var properties = this.properties.render(bar);\n        this.errors.render(properties);\n        this.keys.render(properties);\n        this.curves.render(bar);\n        this._isDirty = false;\n\n        // Adapt the timeline height.\n        var height = Math.max(this.items.dy + 30, 230);\n        this.xAxis.tickSize(-height, 0);\n        this.xAxisGrid.tickSize(-height, 0);\n        this.xGrid.call(this.xAxisGrid);\n        this.xAxisElement.call(this.xAxis);\n        this.svg.attr('height', height);\n        this.timeIndicator.updateHeight(height);\n      }\n    }\n  }]);\n\n  return Timeline;\n}();\n\nexports.default = Timeline;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ncmFwaC9UaW1lbGluZS5qcz8xZmNiIl0sIm5hbWVzIjpbImQzIiwicmVxdWlyZSIsIlRpbWVsaW5lIiwiZWRpdG9yIiwib3B0aW9ucyIsInR3ZWVuVGltZSIsInRpbWVyIiwic2VsZWN0aW9uTWFuYWdlciIsIm9uU2VsZWN0IiwiYWRkIiwiX2lzRGlydHkiLCJyZW5kZXIiLCJjdXJyZW50VGltZSIsInRpbWUiLCJvblVwZGF0ZSIsImJpbmQiLCJpbml0aWFsRG9tYWluIiwiZG9tYWluU3RhcnQiLCJkb21haW5FbmQiLCJ0b3RhbER1cmF0aW9uIiwiZ2V0Q3VycmVudFRpbWUiLCJtYXJnaW4iLCJ0b3AiLCJyaWdodCIsImJvdHRvbSIsImxlZnQiLCJ3aWR0aCIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJoZWlnaHQiLCJsaW5lSGVpZ2h0IiwibGFiZWxfcG9zaXRpb25feCIsIngiLCJzY2FsZSIsImRvbWFpbiIsInJhbmdlIiwieEF4aXMiLCJzdmciLCJheGlzIiwib3JpZW50IiwidGlja1NpemUiLCJ0aWNrRm9ybWF0IiwiVXRpbHMiLCJmb3JtYXRNaW51dGVzIiwic2VsZWN0IiwiJHRpbWVsaW5lIiwiZ2V0IiwiYXBwZW5kIiwiYXR0ciIsInN2Z0NvbnRhaW5lciIsInN2Z0NvbnRhaW5lclRpbWUiLCJsaW5lc0NvbnRhaW5lciIsImhlYWRlciIsIkhlYWRlciIsInRpbWVJbmRpY2F0b3IiLCJUaW1lSW5kaWNhdG9yIiwic2VsZWN0aW9uIiwiU2VsZWN0aW9uIiwiaXRlbXMiLCJJdGVtcyIsImtleXNQcmV2aWV3IiwiS2V5c1ByZXZpZXciLCJwcm9wZXJ0aWVzIiwiUHJvcGVydGllcyIsIm9uS2V5QWRkZWQiLCJuZXdLZXkiLCJrZXlzIiwic2VsZWN0TmV3S2V5IiwiZXJyb3JzIiwiRXJyb3JzIiwiS2V5cyIsIm9uS2V5VXBkYXRlZCIsImN1cnZlcyIsIlByb3BlcnR5Q3VydmVFZGl0Iiwib25DdXJ2ZVVwZGF0ZWQiLCJ4QXhpc0dyaWQiLCJ0aWNrcyIsImR5IiwieEdyaWQiLCJjYWxsIiwieEF4aXNFbGVtZW50Iiwib25CcnVzaCIsImV4dGVudCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIm9ucmVzaXplIiwiSU5ORVJfV0lEVEgiLCJ3aWR0aDIiLCJzZWxlY3RBbGwiLCJyZXNpemUiLCJ0aW1lX2NoYW5nZWQiLCJkb21haW5MZW5ndGgiLCJtYXJnaW5fbXMiLCJzZXREb21haW4iLCJiYXIiLCJNYXRoIiwibWF4IiwidXBkYXRlSGVpZ2h0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUVBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7OztBQVhBLElBQUlBLEtBQUssbUJBQUFDLENBQVEsRUFBUixDQUFUOztJQWFxQkMsUTtBQUNuQixvQkFBWUMsTUFBWixFQUFvQkMsT0FBcEIsRUFBNkI7QUFBQTs7QUFBQTs7QUFDM0IsU0FBS0QsTUFBTCxHQUFjQSxNQUFkO0FBQ0EsU0FBS0UsU0FBTCxHQUFpQixLQUFLRixNQUFMLENBQVlFLFNBQTdCO0FBQ0EsU0FBS0MsS0FBTCxHQUFhLEtBQUtELFNBQUwsQ0FBZUMsS0FBNUI7QUFDQSxTQUFLQyxnQkFBTCxHQUF3QixLQUFLSixNQUFMLENBQVlJLGdCQUFwQztBQUNBLFNBQUtBLGdCQUFMLENBQXNCQyxRQUF0QixDQUErQkMsR0FBL0IsQ0FBbUMsWUFBTTtBQUN2QztBQUNBLFlBQUtDLFFBQUwsR0FBZ0IsSUFBaEI7QUFDQSxZQUFLQyxNQUFMO0FBQ0QsS0FKRDs7QUFNQSxTQUFLRCxRQUFMLEdBQWdCLElBQWhCO0FBQ0EsU0FBS0osS0FBTCxHQUFhLEtBQUtELFNBQUwsQ0FBZUMsS0FBNUI7QUFDQSxTQUFLTSxXQUFMLEdBQW1CLEtBQUtOLEtBQUwsQ0FBV08sSUFBOUIsQ0FiMkIsQ0FhUzs7QUFFcEMsU0FBS0MsUUFBTCxHQUFnQixLQUFLQSxRQUFMLENBQWNDLElBQWQsQ0FBbUIsSUFBbkIs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ekIsRUFBNkIsR0FBN0IsQ0FBYjtBQUNBLGFBQUt6QyxLQUFMLENBQVdJLFFBQVgsQ0FBb0IsQ0FBQ1gsTUFBckIsRUFBNkIsQ0FBN0I7QUFDQSxhQUFLOEMsU0FBTCxDQUFlbkMsUUFBZixDQUF3QixDQUFDWCxNQUF6QixFQUFpQyxDQUFqQztBQUNBLGFBQUtpRCxLQUFMLENBQVdDLElBQVgsQ0FBZ0IsS0FBS0osU0FBckI7QUFDQSxhQUFLSyxZQUFMLENBQWtCRCxJQUFsQixDQUF1QixLQUFLM0MsS0FBNUI7QUFDQSxhQUFLQyxHQUFMLENBQVNXLElBQVQsQ0FBYyxRQUFkLEVBQXdCbkIsTUFBeEI7QUFDQSxhQUFLeUIsYUFBTCxDQUFtQjBDLFlBQW5CLENBQWdDbkUsTUFBaEM7QUFDRDtBQUNGOzs7Ozs7a0JBbkxrQjNCLFEiLCJmaWxlIjoiMTMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgZDMgPSByZXF1aXJlKCdkMycpO1xuXG5pbXBvcnQgVXRpbHMgZnJvbSAnLi4vY29yZS9VdGlscyc7XG5pbXBvcnQgSGVhZGVyIGZyb20gJy4vSGVhZGVyJztcbmltcG9ydCBUaW1lSW5kaWNhdG9yIGZyb20gJy4vVGltZUluZGljYXRvcic7XG5pbXBvcnQgSXRlbXMgZnJvbSAnLi9JdGVtcyc7XG5pbXBvcnQgS2V5c1ByZXZpZXcgZnJvbSAnLi9LZXlzUHJldmlldyc7XG5pbXBvcnQgUHJvcGVydGllcyBmcm9tICcuL1Byb3BlcnRpZXMnO1xuaW1wb3J0IFByb3BlcnR5Q3VydmVFZGl0IGZyb20gJy4vUHJvcGVydHlDdXJ2ZUVkaXQnO1xuaW1wb3J0IEtleXMgZnJvbSAnLi9LZXlzJztcbmltcG9ydCBFcnJvcnMgZnJvbSAnLi9FcnJvcnMnO1xuaW1wb3J0IFNlbGVjdGlvbiBmcm9tICcuL1NlbGVjdGlvbic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRpbWVsaW5lIHtcbiAgY29uc3RydWN0b3IoZWRpdG9yLCBvcHRpb25zKSB7XG4gICAgdGhpcy5lZGl0b3IgPSBlZGl0b3I7XG4gICAgdGhpcy50d2VlblRpbWUgPSB0aGlzLmVkaXRvci50d2VlblRpbWU7XG4gICAgdGhpcy50aW1lciA9IHRoaXMudHdlZW5UaW1lLnRpbWVyO1xuICAgIHRoaXMuc2VsZWN0aW9uTWFuYWdlciA9IHRoaXMuZWRpdG9yLnNlbGVjdGlvbk1hbmFnZXI7XG4gICAgdGhpcy5zZWxlY3Rpb25NYW5hZ2VyLm9uU2VsZWN0LmFkZCgoKSA9PiB7XG4gICAgICAvLyBOZWVkZWQgdG8gYXBwbHkgc2VsZWN0aW9uIG9mIHByb3BlcnRpZXMvaXRlbSB0byBjdXJ2ZXMuXG4gICAgICB0aGlzLl9pc0RpcnR5ID0gdHJ1ZTtcbiAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLl9pc0RpcnR5ID0gdHJ1ZTtcbiAgICB0aGlzLnRpbWVyID0gdGhpcy50d2VlblRpbWUudGltZXI7XG4gICAgdGhpcy5jdXJyZW50VGltZSA9IHRoaXMudGltZXIudGltZTsgLy8gdXNlZCBpbiB0aW1laW5kaWNhdG9yLlxuXG4gICAgdGhpcy5vblVwZGF0ZSA9IHRoaXMub25VcGRhdGUuYmluZCh0aGlzKTtcblxuICAgIC8vIE1ha2UgdGhlIGRvbWFpbiBjb3ZlciAyMCUgb2YgdGhlIHRvdGFsRHVhdGlvbiBieSBkZWZhdWx0LlxuICAgIHRoaXMuaW5pdGlhbERvbWFpbiA9IFtdO1xuICAgIHRoaXMuaW5pdGlhbERvbWFpblswXSA9IG9wdGlvbnMuZG9tYWluU3RhcnQgfHwgMDtcbiAgICB0aGlzLmluaXRpYWxEb21haW5bMV0gPSBvcHRpb25zLmRvbWFpbkVuZCB8fCB0aGlzLnRpbWVyLnRvdGFsRHVyYXRpb24gKiAwLjI7XG5cbiAgICAvLyBBZGFwdCB0aW1lIHRvIGJlIGdyZWF0ZXIgb3IgZXF1YWwgdG8gZG9tYWluU3RhcnQuXG4gICAgaWYgKHRoaXMuaW5pdGlhbERvbWFpblswXSA+IHRoaXMudGltZXIuZ2V0Q3VycmVudFRpbWUoKSkge1xuICAgICAgdGhpcy50aW1lci50aW1lWzBdID0gdGhpcy5pbml0aWFsRG9tYWluWzBdO1xuICAgIH1cblxuICAgIHZhciBtYXJnaW4gPSB7dG9wOiA2LCByaWdodDogMjAsIGJvdHRvbTogMCwgbGVmdDogMjY1fTtcbiAgICB0aGlzLm1hcmdpbiA9IG1hcmdpbjtcblxuICAgIHZhciB3aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoIC0gbWFyZ2luLmxlZnQgLSBtYXJnaW4ucmlnaHQ7XG4gICAgdmFyIGhlaWdodCA9IDI3MCAtIG1hcmdpbi50b3AgLSBtYXJnaW4uYm90dG9tIC0gNDA7XG4gICAgdGhpcy5saW5lSGVpZ2h0ID0gMjA7XG4gICAgdGhpcy5sYWJlbF9wb3NpdGlvbl94ID0gLW1hcmdpbi5sZWZ0ICsgMjA7XG5cbiAgICB0aGlzLnggPSBkMy50aW1lLnNjYWxlKClcbiAgICAgIC5kb21haW4odGhpcy5pbml0aWFsRG9tYWluKVxuICAgICAgLnJhbmdlKFswLCB3aWR0aF0pO1xuXG4gICAgdGhpcy54QXhpcyA9IGQzLnN2Zy5heGlzKClcbiAgICAgIC5zY2FsZSh0aGlzLngpXG4gICAgICAub3JpZW50KCd0b3AnKVxuICAgICAgLnRpY2tTaXplKC1oZWlnaHQsIDApXG4gICAgICAudGlja0Zvcm1hdChVdGlscy5mb3JtYXRNaW51dGVzKTtcblxuICAgIHRoaXMuc3ZnID0gZDMuc2VsZWN0KGVkaXRvci4kdGltZWxpbmUuZ2V0KDApKS5zZWxlY3QoJy50aW1lbGluZV9fbWFpbicpLmFwcGVuZCgnc3ZnJylcbiAgICAgIC5hdHRyKCd3aWR0aCcsIHdpZHRoICsgbWFyZ2luLmxlZnQgKyBtYXJnaW4ucmlnaHQpXG4gICAgICAuYXR0cignaGVpZ2h0JywgNjAwKTtcblxuICAgIHRoaXMuc3ZnQ29udGFpbmVyID0gdGhpcy5zdmcuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKCcgKyBtYXJnaW4ubGVmdCArICcsJyArIG1hcmdpbi50b3AgKyAnKScpO1xuXG4gICAgdGhpcy5zdmdDb250YWluZXJUaW1lID0gdGhpcy5zdmcuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKCcgKyBtYXJnaW4ubGVmdCArICcsMCknKTtcblxuICAgIHRoaXMubGluZXNDb250YWluZXIgPSB0aGlzLnN2Zy5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoJyArIG1hcmdpbi5sZWZ0ICsgJywnICsgbWFyZ2luLnRvcCArICcpJyk7XG5cbiAgICB0aGlzLmhlYWRlciA9IG5ldyBIZWFkZXIoZWRpdG9yLCB0aGlzLnRpbWVyLCB0aGlzLmluaXRpYWxEb21haW4sIHRoaXMudHdlZW5UaW1lLCB3aWR0aCwgbWFyZ2luKTtcbiAgICB0aGlzLnRpbWVJbmRpY2F0b3IgPSBuZXcgVGltZUluZGljYXRvcih0aGlzLCB0aGlzLnN2Z0NvbnRhaW5lclRpbWUpO1xuXG4gICAgdGhpcy5zZWxlY3Rpb24gPSBuZXcgU2VsZWN0aW9uKHRoaXMsIHRoaXMuc3ZnLCBtYXJnaW4pO1xuXG4gICAgdGhpcy5pdGVtcyA9IG5ldyBJdGVtcyh0aGlzLCB0aGlzLmxpbmVzQ29udGFpbmVyKTtcbiAgICB0aGlzLml0ZW1zLm9uVXBkYXRlLmFkZCh0aGlzLm9uVXBkYXRlKTtcbiAgICB0aGlzLmtleXNQcmV2aWV3ID0gbmV3IEtleXNQcmV2aWV3KHRoaXMsIHRoaXMubGluZXNDb250YWluZXIpO1xuXG4gICAgdGhpcy5wcm9wZXJ0aWVzID0gbmV3IFByb3BlcnRpZXModGhpcyk7XG4gICAgdGhpcy5wcm9wZXJ0aWVzLm9uS2V5QWRkZWQuYWRkKChuZXdLZXkpID0+IHtcbiAgICAgIHRoaXMuX2lzRGlydHkgPSB0cnVlO1xuICAgICAgLy8gcmVuZGVyIHRoZSB0aW1lbGluZSBkaXJlY3RseSBzbyB0aGF0IHdlIGNhbiBkaXJlY3RseSBzZWxlY3RcbiAgICAgIC8vIHRoZSBuZXcga2V5IHdpdGggaXQncyBkb21FbGVtZW50LlxuICAgICAgdGhpcy5yZW5kZXIoMCwgZmFsc2UpO1xuICAgICAgdGhpcy5rZXlzLnNlbGVjdE5ld0tleShuZXdLZXkpO1xuICAgIH0pO1xuICAgIHRoaXMuZXJyb3JzID0gbmV3IEVycm9ycyh0aGlzKTtcbiAgICB0aGlzLmtleXMgPSBuZXcgS2V5cyh0aGlzKTtcbiAgICB0aGlzLmtleXMub25LZXlVcGRhdGVkLmFkZCgoKSA9PiB7XG4gICAgICB0aGlzLm9uVXBkYXRlKCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmN1cnZlcyA9IG5ldyBQcm9wZXJ0eUN1cnZlRWRpdCh0aGlzLCB0aGlzLmxpbmVzQ29udGFpbmVyKTtcbiAgICB0aGlzLmN1cnZlcy5vbkN1cnZlVXBkYXRlZC5hZGQoKCkgPT4ge1xuICAgICAgdGhpcy5faXNEaXJ0eSA9IHRydWU7XG4gICAgICAvLyByZW5kZXIgdGhlIHRpbWVsaW5lIGRpcmVjdGx5IHNvIHRoYXQgd2UgY2FuIGRpcmVjdGx5IHNlbGVjdFxuICAgICAgLy8gdGhlIG5ldyBrZXkgd2l0aCBpdCdzIGRvbUVsZW1lbnQuXG4gICAgICB0aGlzLnJlbmRlcigwLCBmYWxzZSk7XG4gICAgfSk7XG5cbiAgICB0aGlzLnhBeGlzR3JpZCA9IGQzLnN2Zy5heGlzKClcbiAgICAgIC5zY2FsZSh0aGlzLngpXG4gICAgICAudGlja3MoMTAwKVxuICAgICAgLnRpY2tTaXplKC10aGlzLml0ZW1zLmR5LCAwKVxuICAgICAgLnRpY2tGb3JtYXQoJycpXG4gICAgICAub3JpZW50KCd0b3AnKTtcblxuICAgIHRoaXMueEdyaWQgPSB0aGlzLnN2Z0NvbnRhaW5lci5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ3ggYXhpcyBncmlkJylcbiAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKDAsJyArIG1hcmdpbi50b3AgKyAnKScpXG4gICAgICAuY2FsbCh0aGlzLnhBeGlzR3JpZCk7XG5cbiAgICB0aGlzLnhBeGlzRWxlbWVudCA9IHRoaXMuc3ZnQ29udGFpbmVyLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cignY2xhc3MnLCAneCBheGlzJylcbiAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKDAsJyArIG1hcmdpbi50b3AgKyAnKScpXG4gICAgICAuY2FsbCh0aGlzLnhBeGlzKTtcblxuICAgIHRoaXMuaGVhZGVyLm9uQnJ1c2guYWRkKChleHRlbnQpID0+IHtcbiAgICAgIHRoaXMueC5kb21haW4oZXh0ZW50KTtcbiAgICAgIHRoaXMueEdyaWQuY2FsbCh0aGlzLnhBeGlzR3JpZCk7XG4gICAgICB0aGlzLnhBeGlzRWxlbWVudC5jYWxsKHRoaXMueEF4aXMpO1xuICAgICAgdGhpcy5faXNEaXJ0eSA9IHRydWU7XG4gICAgfSk7XG5cbiAgICAvLyBGaXJzdCByZW5kZXJcbiAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHt0aGlzLnJlbmRlcigpO30pO1xuXG4gICAgd2luZG93Lm9ucmVzaXplID0gKCkgPT4ge1xuICAgICAgdmFyIElOTkVSX1dJRFRIID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgICB2YXIgd2lkdGgyID0gSU5ORVJfV0lEVEggLSBtYXJnaW4ubGVmdCAtIG1hcmdpbi5yaWdodDtcbiAgICAgIHRoaXMuc3ZnLmF0dHIoJ3dpZHRoJywgd2lkdGgyICsgbWFyZ2luLmxlZnQgKyBtYXJnaW4ucmlnaHQpO1xuICAgICAgdGhpcy5zdmcuc2VsZWN0QWxsKCcudGltZWxpbmVfX3JpZ2h0LW1hc2snKVxuICAgICAgICAuYXR0cignd2lkdGgnLCBJTk5FUl9XSURUSCk7XG4gICAgICB0aGlzLngucmFuZ2UoWzAsIHdpZHRoMl0pO1xuXG4gICAgICB0aGlzLl9pc0RpcnR5ID0gdHJ1ZTtcbiAgICAgIHRoaXMuaGVhZGVyLnJlc2l6ZShJTk5FUl9XSURUSCk7XG4gICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH07XG4gIH1cblxuICBvblVwZGF0ZSgpIHtcbiAgICB0aGlzLmVkaXRvci5yZW5kZXIoZmFsc2UsIGZhbHNlLCB0cnVlKTtcbiAgfVxuXG4gIHJlbmRlcih0aW1lLCB0aW1lX2NoYW5nZWQpIHtcbiAgICBpZiAodGltZV9jaGFuZ2VkKSB7XG4gICAgICB2YXIgZG9tYWluTGVuZ3RoO1xuICAgICAgLy8gVXBkYXRlIGN1cnJlbnQgZG9tYWluIHdoZW4gcGxheWluZyB0byBrZWVwIHRpbWUgaW5kaWNhdG9yIGluIHZpZXcuXG4gICAgICB2YXIgbWFyZ2luX21zID0gMTY7XG4gICAgICBpZiAodGhpcy50aW1lci5nZXRDdXJyZW50VGltZSgpID4gdGhpcy5pbml0aWFsRG9tYWluWzFdKSB7XG4gICAgICAgIGRvbWFpbkxlbmd0aCA9IHRoaXMuaW5pdGlhbERvbWFpblsxXSAtIHRoaXMuaW5pdGlhbERvbWFpblswXTtcbiAgICAgICAgdGhpcy5pbml0aWFsRG9tYWluWzBdICs9IGRvbWFpbkxlbmd0aCAtIG1hcmdpbl9tcztcbiAgICAgICAgdGhpcy5pbml0aWFsRG9tYWluWzFdICs9IGRvbWFpbkxlbmd0aCAtIG1hcmdpbl9tcztcbiAgICAgICAgdGhpcy5oZWFkZXIuc2V0RG9tYWluKHRoaXMuaW5pdGlhbERvbWFpbik7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy50aW1lci5nZXRDdXJyZW50VGltZSgpIDwgdGhpcy5pbml0aWFsRG9tYWluWzBdKSB7XG4gICAgICAgIGRvbWFpbkxlbmd0aCA9IHRoaXMuaW5pdGlhbERvbWFpblsxXSAtIHRoaXMuaW5pdGlhbERvbWFpblswXTtcbiAgICAgICAgdGhpcy5pbml0aWFsRG9tYWluWzBdID0gdGhpcy50aW1lci5nZXRDdXJyZW50VGltZSgpO1xuICAgICAgICB0aGlzLmluaXRpYWxEb21haW5bMV0gPSB0aGlzLmluaXRpYWxEb21haW5bMF0gKyBkb21haW5MZW5ndGg7XG4gICAgICAgIHRoaXMuaGVhZGVyLnNldERvbWFpbih0aGlzLmluaXRpYWxEb21haW4pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLl9pc0RpcnR5IHx8IHRpbWVfY2hhbmdlZCkge1xuICAgICAgLy8gUmVuZGVyIGhlYWRlciBhbmQgdGltZSBpbmRpY2F0b3IgZXZlcnl0aW1lIHRoZSB0aW1lIGNoYW5nZWQuXG4gICAgICB0aGlzLmhlYWRlci5yZW5kZXIoKTtcbiAgICAgIHRoaXMudGltZUluZGljYXRvci5yZW5kZXIoKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5faXNEaXJ0eSkge1xuICAgICAgLy8gTm8gbmVlZCB0byBjYWxsIHRoaXMgb24gZWFjaCBmcmFtZXMsIGJ1dCBvbmx5IG9uIGJydXNoLCBrZXkgZHJhZywgLi4uXG4gICAgICB2YXIgYmFyID0gdGhpcy5pdGVtcy5yZW5kZXIoKTtcbiAgICAgIHRoaXMua2V5c1ByZXZpZXcucmVuZGVyKGJhcik7XG4gICAgICB2YXIgcHJvcGVydGllcyA9IHRoaXMucHJvcGVydGllcy5yZW5kZXIoYmFyKTtcbiAgICAgIHRoaXMuZXJyb3JzLnJlbmRlcihwcm9wZXJ0aWVzKTtcbiAgICAgIHRoaXMua2V5cy5yZW5kZXIocHJvcGVydGllcyk7XG4gICAgICB0aGlzLmN1cnZlcy5yZW5kZXIoYmFyKTtcbiAgICAgIHRoaXMuX2lzRGlydHkgPSBmYWxzZTtcblxuICAgICAgLy8gQWRhcHQgdGhlIHRpbWVsaW5lIGhlaWdodC5cbiAgICAgIHZhciBoZWlnaHQgPSBNYXRoLm1heCh0aGlzLml0ZW1zLmR5ICsgMzAsIDIzMCk7XG4gICAgICB0aGlzLnhBeGlzLnRpY2tTaXplKC1oZWlnaHQsIDApO1xuICAgICAgdGhpcy54QXhpc0dyaWQudGlja1NpemUoLWhlaWdodCwgMCk7XG4gICAgICB0aGlzLnhHcmlkLmNhbGwodGhpcy54QXhpc0dyaWQpO1xuICAgICAgdGhpcy54QXhpc0VsZW1lbnQuY2FsbCh0aGlzLnhBeGlzKTtcbiAgICAgIHRoaXMuc3ZnLmF0dHIoJ2hlaWdodCcsIGhlaWdodCk7XG4gICAgICB0aGlzLnRpbWVJbmRpY2F0b3IudXBkYXRlSGVpZ2h0KGhlaWdodCk7XG4gICAgfVxuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ncmFwaC9UaW1lbGluZS5qcyJdLCJzb3VyY2VSb290IjoiIn0=")},function(module,exports,__webpack_require__){eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Utils = __webpack_require__(1);\n\nvar _Utils2 = _interopRequireDefault(_Utils);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar d3 = __webpack_require__(15);\n\nvar Signals = __webpack_require__(6);\n\nvar Header = function () {\n  function Header(editor, timer, initialDomain, tweenTime, width, margin) {\n    _classCallCheck(this, Header);\n\n    this.timer = timer;\n    this.initialDomain = initialDomain;\n    this.tweenTime = tweenTime;\n\n    this.onBrush = new Signals.Signal();\n    this.margin = { top: 10, right: 20, bottom: 0, left: margin.left };\n    this.height = 50 - this.margin.top - this.margin.bottom + 20;\n\n    this.currentTime = this.timer.time;\n    this.x = d3.time.scale().range([0, width]);\n    this.x.domain([0, this.timer.totalDuration]);\n\n    // Same as this.x from timeline\n    this.xDisplayed = d3.time.scale().range([0, width]);\n    this.xDisplayed.domain(this.initialDomain);\n\n    this.xAxis = d3.svg.axis().scale(this.x).orient('top').tickSize(-5, 0).tickFormat(_Utils2.default.formatMinutes);\n\n    this.svg = d3.select(editor.$timeline.get(0)).select('.timeline__header').append('svg').attr('width', width + this.margin.left + this.margin.right).attr('height', 56);\n\n    this.svgContainer = this.svg.append('g').attr('transform', 'translate(' + this.margin.left + ',' + this.margin.top + ')');\n\n    this.createBrushHandle();\n    this.createTimeHandle();\n    this.timer.durationChanged.add(this.onDurationChanged.bind(this));\n  }\n\n  _createClass(Header, [{\n    key: 'adaptDomainToDuration',\n    value: function adaptDomainToDuration(domain, seconds) {\n      var ms = seconds * 1000;\n      var new_domain = [domain[0], domain[1]];\n      // Make the domain smaller or equal to ms.\n      new_domain[0] = Math.min(new_domain[0], ms);\n      new_domain[1] = Math.min(new_domain[1], ms);\n      // Should not go below 0.\n      new_domain[0] = Math.max(new_domain[0], 0);\n\n      return new_domain;\n    }\n  }, {\n    key: 'setDomain',\n    value: function setDomain() {\n      this.brush.x(this.x).extent(this.initialDomain);\n      this.svgContainer.select('.brush').call(this.brush);\n      // Same as onBrush\n      this.onBrush.dispatch(this.initialDomain);\n      this.render();\n      this.xDisplayed.domain(this.initialDomain);\n    }\n  }, {\n    key: 'onDurationChanged',\n    value: function onDurationChanged(seconds) {\n      this.x.domain([0, this.timer.totalDuration]);\n      this.xAxisElement.call(this.xAxis);\n      this.initialDomain = this.adaptDomainToDuration(this.initialDomain, seconds);\n      this.setDomain(this.initialDomain);\n    }\n  }, {\n    key: 'createBrushHandle',\n    value: function createBrushHandle() {\n      var _this = this;\n\n      this.xAxisElement = this.svgContainer.append('g').attr('class', 'x axis').attr('transform', 'translate(0,' + (this.margin.top + 7) + ')').call(this.xAxis);\n\n      var onBrush = function onBrush() {\n        var extent0 = _this.brush.extent();\n        // Get domain as milliseconds and not date.\n        var start = extent0[0].getTime();\n        var end = extent0[1].getTime();\n        // Set the initial domain.\n        _this.initialDomain[0] = start;\n        _this.initialDomain[1] = end;\n        _this.setDomain(_this.initialDomain);\n      };\n\n      this.brush = d3.svg.brush().x(this.x).extent(this.initialDomain).on('brush', onBrush);\n\n      this.gBrush = this.svgContainer.append('g').attr('class', 'brush').call(this.brush).selectAll('rect').attr('height', 20);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var timeSelection = this.svgContainer.selectAll('.time-indicator');\n      timeSelection.attr('transform', 'translate(' + this.xDisplayed(this.currentTime[0]) + ', 25)');\n    }\n  }, {\n    key: 'createTimeHandle',\n    value: function createTimeHandle() {\n      var self = this;\n\n      var dragTimeMove = function dragTimeMove() {\n        var event = d3.event.sourceEvent;\n        event.stopPropagation();\n        var tweenTime = self.tweenTime;\n        var event_x = event.x !== undefined ? event.x : event.clientX;\n        var dx = self.xDisplayed.invert(event_x - self.margin.left);\n        dx = dx.getTime();\n        dx = Math.max(0, dx);\n\n        var timeMatch = false;\n        if (event.shiftKey) {\n          var time = dx / 1000;\n          timeMatch = _Utils2.default.getClosestTime(tweenTime.data, time, '---non-existant', false, false, 0.3);\n          if (timeMatch !== false) {\n            timeMatch = timeMatch * 1000;\n          }\n        }\n        if (timeMatch === false) {\n          timeMatch = dx;\n        }\n        self.timer.seek([timeMatch]);\n      };\n\n      var dragTime = d3.behavior.drag().origin(function (d) {\n        return d;\n      }).on('drag', dragTimeMove);\n\n      var timeSelection = this.svgContainer.selectAll('.time-indicator').data(this.currentTime);\n\n      timeSelection.enter().append('rect').attr('x', 0).attr('y', 20).attr('width', self.xDisplayed(self.timer.totalDuration)).attr('height', 50).attr('fill-opacity', 0).on('click', function () {\n        var mouse = d3.mouse(this);\n        var dx = self.xDisplayed.invert(mouse[0]);\n        dx = dx.getTime();\n        dx = Math.max(0, dx);\n        self.timer.seek([dx]);\n      });\n\n      var timeGrp = timeSelection.enter().append('g').attr('class', 'time-indicator').attr('transform', 'translate(-0.5,' + 30 + ')').call(dragTime);\n\n      timeGrp.append('rect').attr('class', 'time-indicator__line').attr('x', -0.5).attr('y', 0).attr('width', 1).attr('height', 1000);\n\n      timeGrp.append('path').attr('class', 'time-indicator__handle').attr('d', 'M -5 -3 L -5 5 L 0 10 L 5 5 L 5 -3 L -5 -3');\n\n      // Mask time indicator\n      // todo: remove the mask.\n      this.svgContainer.append('rect').attr('class', 'graph-mask').attr('x', -self.margin.left).attr('y', -self.margin.top).attr('width', self.margin.left - 5).attr('height', self.height);\n    }\n  }, {\n    key: 'resize',\n    value: function resize(width) {\n      var width2 = width - this.margin.left - this.margin.right;\n      this.svg.attr('width', width2 + this.margin.left + this.margin.right);\n\n      this.x.range([0, width2]);\n      this.xDisplayed.range([0, width2]);\n      this.xAxisElement.call(this.xAxis);\n    }\n  }]);\n\n  return Header;\n}();\n\nexports.default = Header;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ncmFwaC9IZWFkZXIuanM/YWU2OSJdLCJuYW1lcyI6WyJkMyIsInJlcXVpcmUiLCJTaWduYWxzIiwiSGVhZGVyIiwiZWRpdG9yIiwidGltZXIiLCJpbml0aWFsRG9tYWluIiwidHdlZW5UaW1lIiwid2lkdGgiLCJtYXJnaW4iLCJvbkJydXNoIiwiU2lnbmFsIiwidG9wIiwicmlnaHQiLCJib3R0b20iLCJsZWZ0IiwiaGVpZ2h0IiwiY3VycmVudFRpbWUiLCJ0aW1lIiwieCIsInNjYWxlIiwicmFuZ2UiLCJkb21haW4iLCJ0b3RhbER1cmF0aW9uIiwieERpc3BsYXllZCIsInhBeGlzIiwic3ZnIiwiYXhpcyIsIm9yaWVudCIsInRpY2tTaXplIiwidGlja0Zvcm1hdCIsIlV0aWxzIiwiZm9ybWF0TWludXRlcyIsInNlbGVjdCIsIiR0aW1lbGluZSIsImdldCIsImFwcGVuZCIsImF0dHIiLCJzdmdDb250YWluZXIiLCJjcmVhdGVCcnVzaEhhbmRsZSIsImNyZWF0ZVRpbWVIYW5kbGUiLCJkdXJhdGlvbkNoYW5nZWQiLCJhZGQiLCJvbkR1cmF0aW9uQ2hhbmdlZCIsImJpbmQiLCJzZWNvbmRzIiwibXMiLCJuZXdfZG9tYWluIiwiTWF0aCIsIm1pbiIsIm1heCIsImJydXNoIiwiZXh0ZW50IiwiY2FsbCIsImRpc3BhdGNoIiwicmVuZGVyIiwieEF4aXNFbGVtZW50IiwiYWRhcHREb21haW5Ub0R1cmF0aW9uIiwic2V0RG9tYWluIiwiZXh0ZW50MCIsInN0YXJ0IiwiZ2V0VGltZSIsImVuZCIsIm9uIiwiZ0JydXNoIiwic2VsZWN0QWxsIiwidGltZVNlbGVjdGlvbiIsInNlbGYiLCJkcmFnVGltZU1vdmUiLCJldmVudCIsInNvdXJjZUV2ZW50Iiwic3RvcFByb3BhZ2F0aW9uIiwiZXZlbnRfeCIsInVuZGVmaW5lZCIsImNsaWVudFgiLCJkeCIsImludmVydCIsInRpbWVNYXRjaCIsInNoaWZ0S2V5IiwiZ2V0Q2xvc2VzdFRpbWUiLCJkYXRhIiwic2VlayIsImRyYWdUaW1lIiwiYmVoYXZpb3IiLCJkcmFnIiwib3JpZ2luIiwiZCIsImVudGVyIiwibW91c2UiLCJ0aW1lR3JwIiwid2lkdGgyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUdBOzs7Ozs7OztBQUhBLElBQUlBLEtBQUssbUJBQUFDLENBQVEsRUFBUixDQUFUOztBQUVBLElBQUlDLFVBQVUsbUJBQUFELENBQVEsQ0FBUixDQUFkOztJQUdxQkUsTTtBQUNuQixrQkFBWUMsTUFBWixFQUFvQkMsS0FBcEIsRUFBMkJDLGFBQTNCLEVBQTBDQyxTQUExQyxFQUFxREMsS0FBckQsRUFBNERDLE1BQTVELEVBQW9FO0FBQUE7O0FBQ2xFLFNBQUtKLEtBQUwsR0FBYUEsS0FBYjtBQUNBLFNBQUtDLGFBQUwsR0FBcUJBLGFBQXJCO0FBQ0EsU0FBS0MsU0FBTCxHQUFpQkEsU0FBakI7O0FBRUEsU0FBS0csT0FBTCxHQUFlLElBQUlSLFFBQVFTLE1BQVosRUFBZjtBQUNBLFNBQUtGLE1BQUwsR0FBYyxFQUFDRyxLQUFLLEVBQU4sRUFBVUMsT0FBTyxFQUFqQixFQUFxQkMsUUFBUSxDQUE3QixFQUFnQ0MsTUFBTU4sT0FBT00sSUFBN0MsRUFBZDtBQUNBLFNBQUtDLE1BQUwsR0FBYyxLQUFLLEtBQUtQLE1BQUwsQ0FBWUcsR0FBakIsR0FBdUIsS0FBS0gsTUFBTCxDQUFZSyxNQUFuQyxHQUE0QyxFQUExRDs7QUFFQSxTQUFLRyxXQUFMLEdBQW1CLEtBQUtaLEtBQUwsQ0FBV2EsSUFBOUI7QUFDQSxTQUFLQyxDQUFMLEdBQVNuQixHQUFHa0IsSUFBSCxDQUFRRSxLQUFSLEdBQWdCQyxLQUFoQixDQUFzQixDQUFDLENBQUQsRUFBSWIsS0FBSixDQUF0QixDQUFUO0FBQ0EsU0FBS1csQ0FBTCxDQUFPRyxNQUFQLENBQWMsQ0FBQyxDQUFELEVBQUksS0FBS2pCLEtBQUwsQ0FBV2tCLGFBQWYsQ0FBZDs7QUFFQTtBQUNBLFNBQUtDLFVBQUwsR0FBa0J4QixHQUFHa0IsSUFBSCxDQUFRRSxLQUFSLEdBQWdC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QUFnQkgsS0FBaEIsQ0FBc0IsQ0FBQyxDQUFELEVBQUlxRSxNQUFKLENBQXRCO0FBQ0EsV0FBS2xDLFlBQUwsQ0FBa0JILElBQWxCLENBQXVCLEtBQUs1QixLQUE1QjtBQUNEOzs7Ozs7a0JBbkxrQnRCLE0iLCJmaWxlIjoiMTQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgZDMgPSByZXF1aXJlKCdkMycpO1xuXG5sZXQgU2lnbmFscyA9IHJlcXVpcmUoJ2pzLXNpZ25hbHMnKTtcbmltcG9ydCBVdGlscyBmcm9tICcuLi9jb3JlL1V0aWxzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSGVhZGVyIHtcbiAgY29uc3RydWN0b3IoZWRpdG9yLCB0aW1lciwgaW5pdGlhbERvbWFpbiwgdHdlZW5UaW1lLCB3aWR0aCwgbWFyZ2luKSB7XG4gICAgdGhpcy50aW1lciA9IHRpbWVyO1xuICAgIHRoaXMuaW5pdGlhbERvbWFpbiA9IGluaXRpYWxEb21haW47XG4gICAgdGhpcy50d2VlblRpbWUgPSB0d2VlblRpbWU7XG5cbiAgICB0aGlzLm9uQnJ1c2ggPSBuZXcgU2lnbmFscy5TaWduYWwoKTtcbiAgICB0aGlzLm1hcmdpbiA9IHt0b3A6IDEwLCByaWdodDogMjAsIGJvdHRvbTogMCwgbGVmdDogbWFyZ2luLmxlZnR9O1xuICAgIHRoaXMuaGVpZ2h0ID0gNTAgLSB0aGlzLm1hcmdpbi50b3AgLSB0aGlzLm1hcmdpbi5ib3R0b20gKyAyMDtcblxuICAgIHRoaXMuY3VycmVudFRpbWUgPSB0aGlzLnRpbWVyLnRpbWU7XG4gICAgdGhpcy54ID0gZDMudGltZS5zY2FsZSgpLnJhbmdlKFswLCB3aWR0aF0pO1xuICAgIHRoaXMueC5kb21haW4oWzAsIHRoaXMudGltZXIudG90YWxEdXJhdGlvbl0pO1xuXG4gICAgLy8gU2FtZSBhcyB0aGlzLnggZnJvbSB0aW1lbGluZVxuICAgIHRoaXMueERpc3BsYXllZCA9IGQzLnRpbWUuc2NhbGUoKS5yYW5nZShbMCwgd2lkdGhdKTtcbiAgICB0aGlzLnhEaXNwbGF5ZWQuZG9tYWluKHRoaXMuaW5pdGlhbERvbWFpbik7XG5cbiAgICB0aGlzLnhBeGlzID0gZDMuc3ZnLmF4aXMoKVxuICAgICAgLnNjYWxlKHRoaXMueClcbiAgICAgIC5vcmllbnQoJ3RvcCcpXG4gICAgICAudGlja1NpemUoLTUsIDApXG4gICAgICAudGlja0Zvcm1hdChVdGlscy5mb3JtYXRNaW51dGVzKTtcblxuICAgIHRoaXMuc3ZnID0gZDMuc2VsZWN0KGVkaXRvci4kdGltZWxpbmUuZ2V0KDApKS5zZWxlY3QoJy50aW1lbGluZV9faGVhZGVyJykuYXBwZW5kKCdzdmcnKVxuICAgICAgLmF0dHIoJ3dpZHRoJywgd2lkdGggKyB0aGlzLm1hcmdpbi5sZWZ0ICsgdGhpcy5tYXJnaW4ucmlnaHQpXG4gICAgICAuYXR0cignaGVpZ2h0JywgNTYpO1xuXG4gICAgdGhpcy5zdmdDb250YWluZXIgPSB0aGlzLnN2Zy5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoJyArIHRoaXMubWFyZ2luLmxlZnQgKyAnLCcgKyB0aGlzLm1hcmdpbi50b3AgKyAnKScpO1xuXG4gICAgdGhpcy5jcmVhdGVCcnVzaEhhbmRsZSgpO1xuICAgIHRoaXMuY3JlYXRlVGltZUhhbmRsZSgpO1xuICAgIHRoaXMudGltZXIuZHVyYXRpb25DaGFuZ2VkLmFkZCh0aGlzLm9uRHVyYXRpb25DaGFuZ2VkLmJpbmQodGhpcykpO1xuICB9XG5cbiAgYWRhcHREb21haW5Ub0R1cmF0aW9uKGRvbWFpbiwgc2Vjb25kcykge1xuICAgIHZhciBtcyA9IHNlY29uZHMgKiAxMDAwO1xuICAgIHZhciBuZXdfZG9tYWluID0gW2RvbWFpblswXSwgZG9tYWluWzFdXTtcbiAgICAvLyBNYWtlIHRoZSBkb21haW4gc21hbGxlciBvciBlcXVhbCB0byBtcy5cbiAgICBuZXdfZG9tYWluWzBdID0gTWF0aC5taW4obmV3X2RvbWFpblswXSwgbXMpO1xuICAgIG5ld19kb21haW5bMV0gPSBNYXRoLm1pbihuZXdfZG9tYWluWzFdLCBtcyk7XG4gICAgLy8gU2hvdWxkIG5vdCBnbyBiZWxvdyAwLlxuICAgIG5ld19kb21haW5bMF0gPSBNYXRoLm1heChuZXdfZG9tYWluWzBdLCAwKTtcblxuICAgIHJldHVybiBuZXdfZG9tYWluO1xuICB9XG5cbiAgc2V0RG9tYWluKCkge1xuICAgIHRoaXMuYnJ1c2gueCh0aGlzLngpLmV4dGVudCh0aGlzLmluaXRpYWxEb21haW4pO1xuICAgIHRoaXMuc3ZnQ29udGFpbmVyLnNlbGVjdCgnLmJydXNoJykuY2FsbCh0aGlzLmJydXNoKTtcbiAgICAvLyBTYW1lIGFzIG9uQnJ1c2hcbiAgICB0aGlzLm9uQnJ1c2guZGlzcGF0Y2godGhpcy5pbml0aWFsRG9tYWluKTtcbiAgICB0aGlzLnJlbmRlcigpO1xuICAgIHRoaXMueERpc3BsYXllZC5kb21haW4odGhpcy5pbml0aWFsRG9tYWluKTtcbiAgfVxuXG4gIG9uRHVyYXRpb25DaGFuZ2VkKHNlY29uZHMpIHtcbiAgICB0aGlzLnguZG9tYWluKFswLCB0aGlzLnRpbWVyLnRvdGFsRHVyYXRpb25dKTtcbiAgICB0aGlzLnhBeGlzRWxlbWVudC5jYWxsKHRoaXMueEF4aXMpO1xuICAgIHRoaXMuaW5pdGlhbERvbWFpbiA9IHRoaXMuYWRhcHREb21haW5Ub0R1cmF0aW9uKHRoaXMuaW5pdGlhbERvbWFpbiwgc2Vjb25kcyk7XG4gICAgdGhpcy5zZXREb21haW4odGhpcy5pbml0aWFsRG9tYWluKTtcbiAgfVxuXG4gIGNyZWF0ZUJydXNoSGFuZGxlKCkge1xuICAgIHRoaXMueEF4aXNFbGVtZW50ID0gdGhpcy5zdmdDb250YWluZXIuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRyKCdjbGFzcycsICd4IGF4aXMnKVxuICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoMCwnICsgKHRoaXMubWFyZ2luLnRvcCArIDcpICsgJyknKVxuICAgICAgLmNhbGwodGhpcy54QXhpcyk7XG5cbiAgICB2YXIgb25CcnVzaCA9ICgpID0+IHtcbiAgICAgIHZhciBleHRlbnQwID0gdGhpcy5icnVzaC5leHRlbnQoKTtcbiAgICAgIC8vIEdldCBkb21haW4gYXMgbWlsbGlzZWNvbmRzIGFuZCBub3QgZGF0ZS5cbiAgICAgIHZhciBzdGFydCA9IGV4dGVudDBbMF0uZ2V0VGltZSgpO1xuICAgICAgdmFyIGVuZCA9IGV4dGVudDBbMV0uZ2V0VGltZSgpO1xuICAgICAgLy8gU2V0IHRoZSBpbml0aWFsIGRvbWFpbi5cbiAgICAgIHRoaXMuaW5pdGlhbERvbWFpblswXSA9IHN0YXJ0O1xuICAgICAgdGhpcy5pbml0aWFsRG9tYWluWzFdID0gZW5kO1xuICAgICAgdGhpcy5zZXREb21haW4odGhpcy5pbml0aWFsRG9tYWluKTtcbiAgICB9O1xuXG4gICAgdGhpcy5icnVzaCA9IGQzLnN2Zy5icnVzaCgpXG4gICAgICAueCh0aGlzLngpXG4gICAgICAuZXh0ZW50KHRoaXMuaW5pdGlhbERvbWFpbilcbiAgICAgIC5vbignYnJ1c2gnLCBvbkJydXNoKTtcblxuICAgIHRoaXMuZ0JydXNoID0gdGhpcy5zdmdDb250YWluZXIuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdicnVzaCcpXG4gICAgICAuY2FsbCh0aGlzLmJydXNoKVxuICAgICAgLnNlbGVjdEFsbCgncmVjdCcpXG4gICAgICAuYXR0cignaGVpZ2h0JywgMjApO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHZhciB0aW1lU2VsZWN0aW9uID0gdGhpcy5zdmdDb250YWluZXIuc2VsZWN0QWxsKCcudGltZS1pbmRpY2F0b3InKTtcbiAgICB0aW1lU2VsZWN0aW9uLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoJyArIHRoaXMueERpc3BsYXllZCh0aGlzLmN1cnJlbnRUaW1lWzBdKSArICcsIDI1KScpO1xuICB9XG5cbiAgY3JlYXRlVGltZUhhbmRsZSgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICB2YXIgZHJhZ1RpbWVNb3ZlID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgZXZlbnQgPSBkMy5ldmVudC5zb3VyY2VFdmVudDtcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgdmFyIHR3ZWVuVGltZSA9IHNlbGYudHdlZW5UaW1lO1xuICAgICAgdmFyIGV2ZW50X3ggPSBldmVudC54ICE9PSB1bmRlZmluZWQgPyBldmVudC54IDogZXZlbnQuY2xpZW50WDtcbiAgICAgIHZhciBkeCA9IHNlbGYueERpc3BsYXllZC5pbnZlcnQoZXZlbnRfeCAtIHNlbGYubWFyZ2luLmxlZnQpO1xuICAgICAgZHggPSBkeC5nZXRUaW1lKCk7XG4gICAgICBkeCA9IE1hdGgubWF4KDAsIGR4KTtcblxuICAgICAgdmFyIHRpbWVNYXRjaCA9IGZhbHNlO1xuICAgICAgaWYgKGV2ZW50LnNoaWZ0S2V5KSB7XG4gICAgICAgIHZhciB0aW1lID0gZHggLyAxMDAwO1xuICAgICAgICB0aW1lTWF0Y2ggPSBVdGlscy5nZXRDbG9zZXN0VGltZSh0d2VlblRpbWUuZGF0YSwgdGltZSwgJy0tLW5vbi1leGlzdGFudCcsIGZhbHNlLCBmYWxzZSwgMC4zKTtcbiAgICAgICAgaWYgKHRpbWVNYXRjaCAhPT0gZmFsc2UpIHtcbiAgICAgICAgICB0aW1lTWF0Y2ggPSB0aW1lTWF0Y2ggKiAxMDAwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAodGltZU1hdGNoID09PSBmYWxzZSkge1xuICAgICAgICB0aW1lTWF0Y2ggPSBkeDtcbiAgICAgIH1cbiAgICAgIHNlbGYudGltZXIuc2VlayhbdGltZU1hdGNoXSk7XG4gICAgfTtcblxuICAgIHZhciBkcmFnVGltZSA9IGQzLmJlaGF2aW9yLmRyYWcoKVxuICAgICAgLm9yaWdpbihmdW5jdGlvbihkKSB7XG4gICAgICAgIHJldHVybiBkO1xuICAgICAgfSlcbiAgICAgIC5vbignZHJhZycsIGRyYWdUaW1lTW92ZSk7XG5cbiAgICB2YXIgdGltZVNlbGVjdGlvbiA9IHRoaXMuc3ZnQ29udGFpbmVyLnNlbGVjdEFsbCgnLnRpbWUtaW5kaWNhdG9yJykuZGF0YSh0aGlzLmN1cnJlbnRUaW1lKTtcblxuICAgIHRpbWVTZWxlY3Rpb24uZW50ZXIoKS5hcHBlbmQoJ3JlY3QnKVxuICAgICAgLmF0dHIoJ3gnLCAwKVxuICAgICAgLmF0dHIoJ3knLCAyMClcbiAgICAgIC5hdHRyKCd3aWR0aCcsIHNlbGYueERpc3BsYXllZChzZWxmLnRpbWVyLnRvdGFsRHVyYXRpb24pKVxuICAgICAgLmF0dHIoJ2hlaWdodCcsIDUwKVxuICAgICAgLmF0dHIoJ2ZpbGwtb3BhY2l0eScsIDApXG4gICAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBtb3VzZSA9IGQzLm1vdXNlKHRoaXMpO1xuICAgICAgICB2YXIgZHggPSBzZWxmLnhEaXNwbGF5ZWQuaW52ZXJ0KG1vdXNlWzBdKTtcbiAgICAgICAgZHggPSBkeC5nZXRUaW1lKCk7XG4gICAgICAgIGR4ID0gTWF0aC5tYXgoMCwgZHgpO1xuICAgICAgICBzZWxmLnRpbWVyLnNlZWsoW2R4XSk7XG4gICAgICB9KTtcblxuICAgIHZhciB0aW1lR3JwID0gdGltZVNlbGVjdGlvbi5lbnRlcigpLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cignY2xhc3MnLCAndGltZS1pbmRpY2F0b3InKVxuICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoLTAuNSwnICsgMzAgKyAnKScpXG4gICAgICAuY2FsbChkcmFnVGltZSk7XG5cbiAgICB0aW1lR3JwLmFwcGVuZCgncmVjdCcpXG4gICAgICAuYXR0cignY2xhc3MnLCAndGltZS1pbmRpY2F0b3JfX2xpbmUnKVxuICAgICAgLmF0dHIoJ3gnLCAtMC41KVxuICAgICAgLmF0dHIoJ3knLCAwKVxuICAgICAgLmF0dHIoJ3dpZHRoJywgMSlcbiAgICAgIC5hdHRyKCdoZWlnaHQnLCAxMDAwKTtcblxuICAgIHRpbWVHcnAuYXBwZW5kKCdwYXRoJylcbiAgICAgIC5hdHRyKCdjbGFzcycsICd0aW1lLWluZGljYXRvcl9faGFuZGxlJylcbiAgICAgIC5hdHRyKCdkJywgJ00gLTUgLTMgTCAtNSA1IEwgMCAxMCBMIDUgNSBMIDUgLTMgTCAtNSAtMycpO1xuXG4gICAgLy8gTWFzayB0aW1lIGluZGljYXRvclxuICAgIC8vIHRvZG86IHJlbW92ZSB0aGUgbWFzay5cbiAgICB0aGlzLnN2Z0NvbnRhaW5lci5hcHBlbmQoJ3JlY3QnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2dyYXBoLW1hc2snKVxuICAgICAgLmF0dHIoJ3gnLCAtc2VsZi5tYXJnaW4ubGVmdClcbiAgICAgIC5hdHRyKCd5JywgLXNlbGYubWFyZ2luLnRvcClcbiAgICAgIC5hdHRyKCd3aWR0aCcsIHNlbGYubWFyZ2luLmxlZnQgLSA1KVxuICAgICAgLmF0dHIoJ2hlaWdodCcsIHNlbGYuaGVpZ2h0KTtcbiAgfVxuXG4gIHJlc2l6ZSh3aWR0aCkge1xuICAgIGxldCB3aWR0aDIgPSB3aWR0aCAtIHRoaXMubWFyZ2luLmxlZnQgLSB0aGlzLm1hcmdpbi5yaWdodDtcbiAgICB0aGlzLnN2Zy5hdHRyKCd3aWR0aCcsIHdpZHRoMiArIHRoaXMubWFyZ2luLmxlZnQgKyB0aGlzLm1hcmdpbi5yaWdodCk7XG5cbiAgICB0aGlzLngucmFuZ2UoWzAsIHdpZHRoMl0pO1xuICAgIHRoaXMueERpc3BsYXllZC5yYW5nZShbMCwgd2lkdGgyXSk7XG4gICAgdGhpcy54QXhpc0VsZW1lbnQuY2FsbCh0aGlzLnhBeGlzKTtcbiAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vZ3JhcGgvSGVhZGVyLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==");
},function(module,exports){eval("module.exports = __WEBPACK_EXTERNAL_MODULE_15__;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJkM1wiP2MwYzQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiMTUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfMTVfXztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcImQzXCJcbi8vIG1vZHVsZSBpZCA9IDE1XG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJzb3VyY2VSb290IjoiIn0=")},function(module,exports){eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar TimeIndicator = function () {\n  function TimeIndicator(timeline, container) {\n    _classCallCheck(this, TimeIndicator);\n\n    this.timeline = timeline;\n    this.container = container;\n    this.timeSelection = this.container.selectAll('.time-indicator').data(this.timeline.currentTime);\n    this.timeGrp = this.timeSelection.enter().append('svg').attr('class', 'time-indicator timeline__right-mask').attr('width', window.innerWidth - this.timeline.label_position_x).attr('height', 442);\n\n    this.timeSelection = this.timeGrp.append('rect').attr('class', 'time-indicator__line').attr('x', 0).attr('y', -this.timeline.margin.top - 5).attr('width', 1).attr('height', 1000);\n\n    this.timeSelection = this.container.selectAll('.time-indicator rect');\n  }\n\n  _createClass(TimeIndicator, [{\n    key: 'updateHeight',\n    value: function updateHeight(height) {\n      this.timeGrp.attr('height', height);\n      this.timeSelection.attr('height', height + this.timeline.margin.top + 5);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      this.timeSelection.attr('transform', 'translate(' + (this.timeline.x(this.timeline.currentTime[0]) - 0.5) + ',0)');\n    }\n  }]);\n\n  return TimeIndicator;\n}();\n\nexports.default = TimeIndicator;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ncmFwaC9UaW1lSW5kaWNhdG9yLmpzP2JjODYiXSwibmFtZXMiOlsiVGltZUluZGljYXRvciIsInRpbWVsaW5lIiwiY29udGFpbmVyIiwidGltZVNlbGVjdGlvbiIsInNlbGVjdEFsbCIsImRhdGEiLCJjdXJyZW50VGltZSIsInRpbWVHcnAiLCJlbnRlciIsImFwcGVuZCIsImF0dHIiLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwibGFiZWxfcG9zaXRpb25feCIsIm1hcmdpbiIsInRvcCIsImhlaWdodCIsIngiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7SUFBcUJBLGE7QUFDbkIseUJBQVlDLFFBQVosRUFBc0JDLFNBQXRCLEVBQWlDO0FBQUE7O0FBQy9CLFNBQUtELFFBQUwsR0FBZ0JBLFFBQWhCO0FBQ0EsU0FBS0MsU0FBTCxHQUFpQkEsU0FBakI7QUFDQSxTQUFLQyxhQUFMLEdBQXFCLEtBQUtELFNBQUwsQ0FBZUUsU0FBZixDQUF5QixpQkFBekIsRUFBNENDLElBQTVDLENBQWlELEtBQUtKLFFBQUwsQ0FBY0ssV0FBL0QsQ0FBckI7QUFDQSxTQUFLQyxPQUFMLEdBQWUsS0FBS0osYUFBTCxDQUFtQkssS0FBbkIsR0FBMkJDLE1BQTNCLENBQWtDLEtBQWxDLEVBQ1pDLElBRFksQ0FDUCxPQURPLEVBQ0UscUNBREYsRUFFWkEsSUFGWSxDQUVQLE9BRk8sRUFFRUMsT0FBT0MsVUFBUCxHQUFvQixLQUFLWCxRQUFMLENBQWNZLGdCQUZwQyxFQUdaSCxJQUhZLENBR1AsUUFITyxFQUdHLEdBSEgsQ0FBZjs7QUFLQSxTQUFLUCxhQUFMLEdBQXFCLEtBQUtJLE9BQUwsQ0FBYUUsTUFBYixDQUFvQixNQUFwQixFQUNsQkMsSUFEa0IsQ0FDYixPQURhLEVBQ0osc0JBREksRUFFbEJBLElBRmtCLENBRWIsR0FGYSxFQUVSLENBRlEsRUFHbEJBLElBSGtCLENBR2IsR0FIYSxFQUdSLENBQUMsS0FBS1QsUUFBTCxDQUFjYSxNQUFkLENBQXFCQyxHQUF0QixHQUE0QixDQUhwQixFQUlsQkwsSUFKa0IsQ0FJYixPQUphLEVBSUosQ0FKSSxFQUtsQkEsSUFMa0IsQ0FLYixRQUxhLEVBS0gsSUFMRyxDQUFyQjs7QUFPQSxTQUFLUCxhQUFMLEdBQXFCLEtBQUtELFNBQUwsQ0FBZUUsU0FBZixDQUF5QixzQkFBekIsQ0FBckI7QUFDRDs7OztpQ0FFWVksTSxFQUFRO0FBQ25CLFdBQUtULE9BQUwsQ0FBYUcsSUFBYixDQUFrQixRQUFsQixFQUE0Qk0sTUFBNUI7QUFDQSxXQUFLYixhQUFMLENBQW1CTyxJQUFuQixDQUF3QixRQUF4QixFQUFrQ00sU0FBUyxLQUFLZixRQUFMLENBQWNhLE1BQWQsQ0FBcUJDLEdBQTlCLEdBQW9DLENBQXRFO0FBQ0Q7Ozs2QkFFUTtBQUNQLFdBQUtaLGFBQUwsQ0FBbUJPLElBQW5CLENBQXdCLFdBQXhCLEVBQXFDLGdCQUFnQixLQUFLVCxRQUFMLENBQWNnQixDQUFkLENBQWdCLEtBQUtoQixRQUFMLENBQWNLLFdBQWQsQ0FBMEIsQ0FBMUIsQ0FBaEIsSUFBZ0QsR0FBaEUsSUFBdUUsS0FBNUc7QUFDRDs7Ozs7O2tCQTNCa0JOLGEiLCJmaWxlIjoiMTYuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBUaW1lSW5kaWNhdG9yIHtcbiAgY29uc3RydWN0b3IodGltZWxpbmUsIGNvbnRhaW5lcikge1xuICAgIHRoaXMudGltZWxpbmUgPSB0aW1lbGluZTtcbiAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcbiAgICB0aGlzLnRpbWVTZWxlY3Rpb24gPSB0aGlzLmNvbnRhaW5lci5zZWxlY3RBbGwoJy50aW1lLWluZGljYXRvcicpLmRhdGEodGhpcy50aW1lbGluZS5jdXJyZW50VGltZSk7XG4gICAgdGhpcy50aW1lR3JwID0gdGhpcy50aW1lU2VsZWN0aW9uLmVudGVyKCkuYXBwZW5kKCdzdmcnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ3RpbWUtaW5kaWNhdG9yIHRpbWVsaW5lX19yaWdodC1tYXNrJylcbiAgICAgIC5hdHRyKCd3aWR0aCcsIHdpbmRvdy5pbm5lcldpZHRoIC0gdGhpcy50aW1lbGluZS5sYWJlbF9wb3NpdGlvbl94KVxuICAgICAgLmF0dHIoJ2hlaWdodCcsIDQ0Mik7XG5cbiAgICB0aGlzLnRpbWVTZWxlY3Rpb24gPSB0aGlzLnRpbWVHcnAuYXBwZW5kKCdyZWN0JylcbiAgICAgIC5hdHRyKCdjbGFzcycsICd0aW1lLWluZGljYXRvcl9fbGluZScpXG4gICAgICAuYXR0cigneCcsIDApXG4gICAgICAuYXR0cigneScsIC10aGlzLnRpbWVsaW5lLm1hcmdpbi50b3AgLSA1KVxuICAgICAgLmF0dHIoJ3dpZHRoJywgMSlcbiAgICAgIC5hdHRyKCdoZWlnaHQnLCAxMDAwKTtcblxuICAgIHRoaXMudGltZVNlbGVjdGlvbiA9IHRoaXMuY29udGFpbmVyLnNlbGVjdEFsbCgnLnRpbWUtaW5kaWNhdG9yIHJlY3QnKTtcbiAgfVxuXG4gIHVwZGF0ZUhlaWdodChoZWlnaHQpIHtcbiAgICB0aGlzLnRpbWVHcnAuYXR0cignaGVpZ2h0JywgaGVpZ2h0KTtcbiAgICB0aGlzLnRpbWVTZWxlY3Rpb24uYXR0cignaGVpZ2h0JywgaGVpZ2h0ICsgdGhpcy50aW1lbGluZS5tYXJnaW4udG9wICsgNSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgdGhpcy50aW1lU2VsZWN0aW9uLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoJyArICh0aGlzLnRpbWVsaW5lLngodGhpcy50aW1lbGluZS5jdXJyZW50VGltZVswXSkgLSAwLjUpICsgJywwKScpO1xuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ncmFwaC9UaW1lSW5kaWNhdG9yLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==")},function(module,exports,__webpack_require__){eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Utils = __webpack_require__(1);\n\nvar _Utils2 = _interopRequireDefault(_Utils);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar d3 = __webpack_require__(15);\nvar Signals = __webpack_require__(6);\nvar _ = __webpack_require__(12);\n\nvar Items = function () {\n  function Items(timeline, container) {\n    _classCallCheck(this, Items);\n\n    this.timeline = timeline;\n    this.container = container;\n    this.dy = 10 + this.timeline.margin.top;\n    this.onUpdate = new Signals.Signal();\n  }\n\n  _createClass(Items, [{\n    key: 'render',\n    value: function render() {\n      var self = this;\n      var tweenTime = self.timeline.tweenTime;\n      var editor = self.timeline.editor;\n\n      var selectBar = function selectBar(data) {\n        self.timeline.selectionManager.select(data);\n      };\n\n      var dragmove = function dragmove(d) {\n        var dx = self.timeline.x.invert(d3.event.x).getTime() / 1000;\n        var diff = dx - d.start;\n        d.start += diff;\n        d.end += diff;\n        if (d.properties) {\n          for (var prop_key = 0; prop_key < d.properties.length; prop_key++) {\n            var prop = d.properties[prop_key];\n            for (var i = 0; i < prop.keys.length; i++) {\n              var key = prop.keys[i];\n              key.time += diff;\n            }\n          }\n        }\n        d._isDirty = true;\n        self.onUpdate.dispatch();\n      };\n\n      var dragmoveLeft = function dragmoveLeft(d) {\n        d3.event.sourceEvent.stopPropagation();\n        var sourceEvent = d3.event.sourceEvent;\n        var dx = self.timeline.x.invert(d3.event.x).getTime() / 1000;\n        var timeMatch = false;\n        if (sourceEvent.shiftKey) {\n          timeMatch = _Utils2.default.getClosestTime(tweenTime.data, dx, d.id, false, tweenTime.timer);\n        }\n        if (!timeMatch) {\n          var diff = dx - d.start;\n          timeMatch = d.start + diff;\n        }\n        d.start = timeMatch;\n        d._isDirty = true;\n        self.onUpdate.dispatch();\n      };\n\n      var dragmoveRight = function dragmoveRight(d) {\n        d3.event.sourceEvent.stopPropagation();\n        var sourceEvent = d3.event.sourceEvent;\n        var dx = self.timeline.x.invert(d3.event.x).getTime() / 1000;\n        var timeMatch = false;\n        if (sourceEvent.shiftKey) {\n          timeMatch = _Utils2.default.getClosestTime(tweenTime.data, dx, false, false, tweenTime.timer);\n        }\n        if (!timeMatch) {\n          var diff = dx - d.end;\n          timeMatch = d.end + diff;\n        }\n        d.end = timeMatch;\n        d._isDirty = true;\n        self.onUpdate.dispatch();\n      };\n\n      var dragLeft = d3.behavior.drag().origin(function () {\n        var t = d3.select(this);\n        return { x: t.attr('x'), y: t.attr('y') };\n      }).on('drag', dragmoveLeft);\n\n      var dragRight = d3.behavior.drag().origin(function () {\n        var t = d3.select(this);\n        return { x: t.attr('x'), y: t.attr('y') };\n      }).on('drag', dragmoveRight);\n\n      var drag = d3.behavior.drag().origin(function () {\n        var t = d3.select(this);\n        return { x: t.attr('x'), y: t.attr('y') };\n      }).on('drag', dragmove);\n\n      var bar_border = 1;\n      var bar = this.container.selectAll('.line-grp').data(this.timeline.tweenTime.data, function (d) {\n        return d.id;\n      });\n\n      var barEnter = bar.enter().append('g').attr('class', 'line-grp');\n\n      var barContainerRight = barEnter.append('svg').attr({\n        class: 'timeline__right-mask',\n        width: window.innerWidth - self.timeline.label_position_x\n      });\n\n      bar.select('.timeline__right-mask').attr({\n        display: function display() {\n          return self.timeline.editor.curveEditEnabled ? 'none' : 'block';\n        },\n        height: function height(d) {\n          return (d.properties.length + 1) * self.timeline.lineHeight;\n        }\n      });\n\n      barContainerRight.append('rect').attr('class', 'bar')\n      // Add a unique id for SelectionManager.removeDuplicates\n      .attr('id', function () {\n        return _Utils2.default.guid();\n      }).attr('y', 3).attr('height', 14);\n\n      barContainerRight.append('rect').attr('class', 'bar-anchor bar-anchor--left').attr('y', 2).attr('height', 16).attr('width', 6).call(dragLeft);\n\n      barContainerRight.append('rect').attr('class', 'bar-anchor bar-anchor--right').attr('y', 2).attr('height', 16).attr('width', 6).call(dragRight);\n\n      self.dy = 10 + this.timeline.margin.top;\n      bar.attr('transform', function (d) {\n        var y = self.dy;\n        self.dy += self.timeline.lineHeight;\n        if (!d.collapsed) {\n          var numProperties = 0;\n          if (d.properties) {\n            if (editor.options.showEmptyProperties) {\n              var visibleProperties = d.properties;\n            } else {\n              var visibleProperties = _.filter(d.properties, function (prop) {\n                return prop.keys.length;\n              });\n            }\n            numProperties = visibleProperties.length;\n          }\n          self.dy += numProperties * self.timeline.lineHeight;\n        }\n        return 'translate(0,' + y + ')';\n      });\n\n      var barWithStartAndEnd = function barWithStartAndEnd(d) {\n        if (d.start !== undefined && d.end !== undefined) {\n          return true;\n        }\n        return false;\n      };\n\n      bar.selectAll('.bar-anchor--left').filter(barWithStartAndEnd).attr('x', function (d) {\n        return self.timeline.x(d.start * 1000) - 1;\n      }).on('mousedown', function () {\n        // Don't trigger mousedown on linescontainer else\n        // it create the selection rectangle\n        d3.event.stopPropagation();\n      });\n\n      bar.selectAll('.bar-anchor--right').filter(barWithStartAndEnd).attr('x', function (d) {\n        return self.timeline.x(d.end * 1000) - 1;\n      }).on('mousedown', function () {\n        // Don't trigger mousedown on linescontainer else\n        // it create the selection rectangle\n        d3.event.stopPropagation();\n      });\n\n      bar.selectAll('.bar').filter(barWithStartAndEnd).attr('x', function (d) {\n        return self.timeline.x(d.start * 1000) + bar_border;\n      }).attr('width', function (d) {\n        return Math.max(0, (self.timeline.x(d.end) - self.timeline.x(d.start)) * 1000 - bar_border);\n      }).call(drag).on('click', selectBar).on('mousedown', function () {\n        // Don't trigger mousedown on linescontainer else\n        // it create the selection rectangle\n        d3.event.stopPropagation();\n      });\n\n      barEnter.append('text').attr('class', 'line-label').attr('x', self.timeline.label_position_x + 10).attr('y', 16).text(function (d) {\n        return d.label;\n      }).on('click', selectBar).on('mousedown', function () {\n        // Don't trigger mousedown on linescontainer else\n        // it create the selection rectangle\n        d3.event.stopPropagation();\n      });\n\n      barEnter.append('text').attr('class', 'line__toggle').attr('x', self.timeline.label_position_x - 10).attr('y', 16).on('click', function (d) {\n        d.collapsed = !d.collapsed;\n        self.onUpdate.dispatch();\n      });\n\n      bar.selectAll('.line__toggle').text(function (d) {\n        if (d.collapsed) {\n          return '';\n        }\n        return '';\n      });\n\n      barEnter.append('line').attr('class', 'line-separator').attr('x1', -self.timeline.margin.left).attr('y1', self.timeline.lineHeight).attr('y2', self.timeline.lineHeight);\n\n      // Hide property line separator if curve editor is enabled.\n      bar.selectAll('.line-separator').attr('x2', function () {\n        if (editor.curveEditEnabled) {\n          return 0;\n        }\n        return self.timeline.x(self.timeline.timer.totalDuration + 100);\n      });\n\n      bar.exit().remove();\n\n      return bar;\n    }\n  }]);\n\n  return Items;\n}();\n\nexports.default = Items;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ncmFwaC9JdGVtcy5qcz84NGQ0Il0sIm5hbWVzIjpbImQzIiwicmVxdWlyZSIsIlNpZ25hbHMiLCJfIiwiSXRlbXMiLCJ0aW1lbGluZSIsImNvbnRhaW5lciIsImR5IiwibWFyZ2luIiwidG9wIiwib25VcGRhdGUiLCJTaWduYWwiLCJzZWxmIiwidHdlZW5UaW1lIiwiZWRpdG9yIiwic2VsZWN0QmFyIiwiZGF0YSIsInNlbGVjdGlvbk1hbmFnZXIiLCJzZWxlY3QiLCJkcmFnbW92ZSIsImQiLCJkeCIsIngiLCJpbnZlcnQiLCJldmVudCIsImdldFRpbWUiLCJkaWZmIiwic3RhcnQiLCJlbmQiLCJwcm9wZXJ0aWVzIiwicHJvcF9rZXkiLCJsZW5ndGgiLCJwcm9wIiwiaSIsImtleXMiLCJrZXkiLCJ0aW1lIiwiX2lzRGlydHkiLCJkaXNwYXRjaCIsImRyYWdtb3ZlTGVmdCIsInNvdXJjZUV2ZW50Iiwic3RvcFByb3BhZ2F0aW9uIiwidGltZU1hdGNoIiwic2hpZnRLZXkiLCJVdGlscyIsImdldENsb3Nlc3RUaW1lIiwiaWQiLCJ0aW1lciIsImRyYWdtb3ZlUmlnaHQiLCJkcmFnTGVmdCIsImJlaGF2aW9yIiwiZHJhZyIsIm9yaWdpbiIsInQiLCJhdHRyIiwieSIsIm9uIiwiZHJhZ1JpZ2h0IiwiYmFyX2JvcmRlciIsImJhciIsInNlbGVjdEFsbCIsImJhckVudGVyIiwiZW50ZXIiLCJhcHBlbmQiLCJiYXJDb250YWluZXJSaWdodCIsImNsYXNzIiwid2lkdGgiLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwibGFiZWxfcG9zaXRpb25feCIsImRpc3BsYXkiLCJjdXJ2ZUVkaXRFbmFibGVkIiwiaGVpZ2h0IiwibGluZUhlaWdodCIsImd1aWQiLCJjYWxsIiwiY29sbGFwc2VkIiwibnVtUHJvcGVydGllcyIsIm9wdGlvbnMiLCJzaG93RW1wdHlQcm9wZXJ0aWVzIiwidmlzaWJsZVByb3BlcnRpZXMiLCJmaWx0ZXIiLCJiYXJXaXRoU3RhcnRBbmRFbmQiLCJ1bmRlZmluZWQiLCJNYXRoIiwibWF4IiwidGV4dCIsImxhYmVsIiwibGVmdCIsInRvdGFsRHVyYXRpb24iLCJleGl0IiwicmVtb3ZlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUdBOzs7Ozs7OztBQUhBLElBQUlBLEtBQUssbUJBQUFDLENBQVEsRUFBUixDQUFUO0FBQ0EsSUFBSUMsVUFBVSxtQkFBQUQsQ0FBUSxDQUFSLENBQWQ7QUFDQSxJQUFJRSxJQUFJLG1CQUFBRixDQUFRLEVBQVIsQ0FBUjs7SUFHcUJHLEs7QUFDbkIsaUJBQVlDLFFBQVosRUFBc0JDLFNBQXRCLEVBQWlDO0FBQUE7O0FBQy9CLFNBQUtELFFBQUwsR0FBZ0JBLFFBQWhCO0FBQ0EsU0FBS0MsU0FBTCxHQUFpQkEsU0FBakI7QUFDQSxTQUFLQyxFQUFMLEdBQVUsS0FBSyxLQUFLRixRQUFMLENBQWNHLE1BQWQsQ0FBcUJDLEdBQXBDO0FBQ0EsU0FBS0MsUUFBTCxHQUFnQixJQUFJUixRQUFRUyxNQUFaLEVBQWhCO0FBQ0Q7Ozs7NkJBRVE7QUFDUCxVQUFNQyxPQUFPLElBQWI7QUFDQSxVQUFNQyxZQUFZRCxLQUFLUCxRQUFMLENBQWNRLFNBQWhDO0FBQ0EsVUFBTUMsU0FBU0YsS0FBS1AsUUFBTCxDQUFjUyxNQUE3Qjs7QUFFQSxVQUFNQyxZQUFZLFNBQVpBLFNBQVksQ0FBU0MsSUFBVCxFQUFlO0FBQy9CSixhQUFLUCxRQUFMLENBQWNZLGdCQUFkLENBQStCQyxNQUEvQixDQUFzQ0YsSUFBdEM7QUFDRCxPQUZEOztBQUlBLFVBQU1HLFdBQVcsU0FBWEEsUUFBVyxDQUFTQyxDQUFULEVBQVk7QUFDM0IsWUFBTUMsS0FBS1QsS0FBS1AsUUFBTCxDQUFjaUIsQ0FBZCxDQUFnQkMsTUFBaEIsQ0FBdUJ2QixHQUFHd0IsS0FBSCxDQUFTRixDQUFoQyxFQUFtQ0csT0FBbkMsS0FBK0MsSUFBMUQ7QUFDQSxZQUFNQyxPQUFPTCxLQUFLRCxFQUFFTyxLQUFwQjtBQUNBUCxVQUFFTyxLQUFGLElBQVdELElBQVg7QUFDQU4s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RSxDQUFULEVBQVk7QUFDOUMsWUFBSUEsRUFBRXdELFNBQU4sRUFBaUI7QUFDZixpQkFBTyxHQUFQO0FBQ0Q7QUFDRCxlQUFPLEdBQVA7QUFDRCxPQUxEOztBQU9BZixlQUFTRSxNQUFULENBQWdCLE1BQWhCLEVBQ0dULElBREgsQ0FDUSxPQURSLEVBQ2lCLGdCQURqQixFQUVHQSxJQUZILENBRVEsSUFGUixFQUVjLENBQUMxQyxLQUFLUCxRQUFMLENBQWNHLE1BQWQsQ0FBcUJnRixJQUZwQyxFQUdHbEMsSUFISCxDQUdRLElBSFIsRUFHYzFDLEtBQUtQLFFBQUwsQ0FBY29FLFVBSDVCLEVBSUduQixJQUpILENBSVEsSUFKUixFQUljMUMsS0FBS1AsUUFBTCxDQUFjb0UsVUFKNUI7O0FBTUE7QUFDQWQsVUFBSUMsU0FBSixDQUFjLGlCQUFkLEVBQ0dOLElBREgsQ0FDUSxJQURSLEVBQ2MsWUFBVztBQUNyQixZQUFJeEMsT0FBT3lELGdCQUFYLEVBQTZCO0FBQzNCLGlCQUFPLENBQVA7QUFDRDtBQUNELGVBQU8zRCxLQUFLUCxRQUFMLENBQWNpQixDQUFkLENBQWdCVixLQUFLUCxRQUFMLENBQWMwQyxLQUFkLENBQW9CMEMsYUFBcEIsR0FBb0MsR0FBcEQsQ0FBUDtBQUNELE9BTkg7O0FBUUE5QixVQUFJK0IsSUFBSixHQUFXQyxNQUFYOztBQUVBLGFBQU9oQyxHQUFQO0FBQ0Q7Ozs7OztrQkE1T2tCdkQsSyIsImZpbGUiOiIxNy5qcyIsInNvdXJjZXNDb250ZW50IjpbImxldCBkMyA9IHJlcXVpcmUoJ2QzJyk7XG5sZXQgU2lnbmFscyA9IHJlcXVpcmUoJ2pzLXNpZ25hbHMnKTtcbmxldCBfID0gcmVxdWlyZSgnbG9kYXNoJyk7XG5pbXBvcnQgVXRpbHMgZnJvbSAnLi4vY29yZS9VdGlscyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEl0ZW1zIHtcbiAgY29uc3RydWN0b3IodGltZWxpbmUsIGNvbnRhaW5lcikge1xuICAgIHRoaXMudGltZWxpbmUgPSB0aW1lbGluZTtcbiAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcbiAgICB0aGlzLmR5ID0gMTAgKyB0aGlzLnRpbWVsaW5lLm1hcmdpbi50b3A7XG4gICAgdGhpcy5vblVwZGF0ZSA9IG5ldyBTaWduYWxzLlNpZ25hbCgpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IHR3ZWVuVGltZSA9IHNlbGYudGltZWxpbmUudHdlZW5UaW1lO1xuICAgIGNvbnN0IGVkaXRvciA9IHNlbGYudGltZWxpbmUuZWRpdG9yO1xuXG4gICAgY29uc3Qgc2VsZWN0QmFyID0gZnVuY3Rpb24oZGF0YSkge1xuICAgICAgc2VsZi50aW1lbGluZS5zZWxlY3Rpb25NYW5hZ2VyLnNlbGVjdChkYXRhKTtcbiAgICB9O1xuXG4gICAgY29uc3QgZHJhZ21vdmUgPSBmdW5jdGlvbihkKSB7XG4gICAgICBjb25zdCBkeCA9IHNlbGYudGltZWxpbmUueC5pbnZlcnQoZDMuZXZlbnQueCkuZ2V0VGltZSgpIC8gMTAwMDtcbiAgICAgIGNvbnN0IGRpZmYgPSBkeCAtIGQuc3RhcnQ7XG4gICAgICBkLnN0YXJ0ICs9IGRpZmY7XG4gICAgICBkLmVuZCArPSBkaWZmO1xuICAgICAgaWYgKGQucHJvcGVydGllcykge1xuICAgICAgICBmb3IgKHZhciBwcm9wX2tleSA9IDA7IHByb3Bfa2V5IDwgZC5wcm9wZXJ0aWVzLmxlbmd0aDsgcHJvcF9rZXkrKykge1xuICAgICAgICAgIHZhciBwcm9wID0gZC5wcm9wZXJ0aWVzW3Byb3Bfa2V5XTtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3Aua2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGtleSA9IHByb3Aua2V5c1tpXTtcbiAgICAgICAgICAgIGtleS50aW1lICs9IGRpZmY7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBkLl9pc0RpcnR5ID0gdHJ1ZTtcbiAgICAgIHNlbGYub25VcGRhdGUuZGlzcGF0Y2goKTtcbiAgICB9O1xuXG4gICAgY29uc3QgZHJhZ21vdmVMZWZ0ID0gZnVuY3Rpb24oZCkge1xuICAgICAgZDMuZXZlbnQuc291cmNlRXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB2YXIgc291cmNlRXZlbnQgPSBkMy5ldmVudC5zb3VyY2VFdmVudDtcbiAgICAgIHZhciBkeCA9IHNlbGYudGltZWxpbmUueC5pbnZlcnQoZDMuZXZlbnQueCkuZ2V0VGltZSgpIC8gMTAwMDtcbiAgICAgIHZhciB0aW1lTWF0Y2ggPSBmYWxzZTtcbiAgICAgIGlmIChzb3VyY2VFdmVudC5zaGlmdEtleSkge1xuICAgICAgICB0aW1lTWF0Y2ggPSBVdGlscy5nZXRDbG9zZXN0VGltZSh0d2VlblRpbWUuZGF0YSwgZHgsIGQuaWQsIGZhbHNlLCB0d2VlblRpbWUudGltZXIpO1xuICAgICAgfVxuICAgICAgaWYgKCF0aW1lTWF0Y2gpIHtcbiAgICAgICAgdmFyIGRpZmYgPSBkeCAtIGQuc3RhcnQ7XG4gICAgICAgIHRpbWVNYXRjaCA9IGQuc3RhcnQgKyBkaWZmO1xuICAgICAgfVxuICAgICAgZC5zdGFydCA9IHRpbWVNYXRjaDtcbiAgICAgIGQuX2lzRGlydHkgPSB0cnVlO1xuICAgICAgc2VsZi5vblVwZGF0ZS5kaXNwYXRjaCgpO1xuICAgIH07XG5cbiAgICBjb25zdCBkcmFnbW92ZVJpZ2h0ID0gZnVuY3Rpb24oZCkge1xuICAgICAgZDMuZXZlbnQuc291cmNlRXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB2YXIgc291cmNlRXZlbnQgPSBkMy5ldmVudC5zb3VyY2VFdmVudDtcbiAgICAgIHZhciBkeCA9IHNlbGYudGltZWxpbmUueC5pbnZlcnQoZDMuZXZlbnQueCkuZ2V0VGltZSgpIC8gMTAwMDtcbiAgICAgIHZhciB0aW1lTWF0Y2ggPSBmYWxzZTtcbiAgICAgIGlmIChzb3VyY2VFdmVudC5zaGlmdEtleSkge1xuICAgICAgICB0aW1lTWF0Y2ggPSBVdGlscy5nZXRDbG9zZXN0VGltZSh0d2VlblRpbWUuZGF0YSwgZHgsIGZhbHNlLCBmYWxzZSwgdHdlZW5UaW1lLnRpbWVyKTtcbiAgICAgIH1cbiAgICAgIGlmICghdGltZU1hdGNoKSB7XG4gICAgICAgIHZhciBkaWZmID0gZHggLSBkLmVuZDtcbiAgICAgICAgdGltZU1hdGNoID0gZC5lbmQgKyBkaWZmO1xuICAgICAgfVxuICAgICAgZC5lbmQgPSB0aW1lTWF0Y2g7XG4gICAgICBkLl9pc0RpcnR5ID0gdHJ1ZTtcbiAgICAgIHNlbGYub25VcGRhdGUuZGlzcGF0Y2goKTtcbiAgICB9O1xuXG4gICAgY29uc3QgZHJhZ0xlZnQgPSBkMy5iZWhhdmlvci5kcmFnKClcbiAgICAgIC5vcmlnaW4oZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB0ID0gZDMuc2VsZWN0KHRoaXMpO1xuICAgICAgICByZXR1cm4ge3g6IHQuYXR0cigneCcpLCB5OiB0LmF0dHIoJ3knKX07XG4gICAgICB9KVxuICAgICAgLm9uKCdkcmFnJywgZHJhZ21vdmVMZWZ0KTtcblxuICAgIGNvbnN0IGRyYWdSaWdodCA9IGQzLmJlaGF2aW9yLmRyYWcoKVxuICAgICAgLm9yaWdpbihmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHQgPSBkMy5zZWxlY3QodGhpcyk7XG4gICAgICAgIHJldHVybiB7eDogdC5hdHRyKCd4JyksIHk6IHQuYXR0cigneScpfTtcbiAgICAgIH0pXG4gICAgICAub24oJ2RyYWcnLCBkcmFnbW92ZVJpZ2h0KTtcblxuICAgIGNvbnN0IGRyYWcgPSBkMy5iZWhhdmlvci5kcmFnKClcbiAgICAgIC5vcmlnaW4oZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB0ID0gZDMuc2VsZWN0KHRoaXMpO1xuICAgICAgICByZXR1cm4ge3g6IHQuYXR0cigneCcpLCB5OiB0LmF0dHIoJ3knKX07XG4gICAgICB9KVxuICAgICAgLm9uKCdkcmFnJywgZHJhZ21vdmUpO1xuXG4gICAgY29uc3QgYmFyX2JvcmRlciA9IDE7XG4gICAgY29uc3QgYmFyID0gdGhpcy5jb250YWluZXIuc2VsZWN0QWxsKCcubGluZS1ncnAnKVxuICAgICAgLmRhdGEodGhpcy50aW1lbGluZS50d2VlblRpbWUuZGF0YSwgKGQpID0+IHtyZXR1cm4gZC5pZDt9KTtcblxuICAgIGNvbnN0IGJhckVudGVyID0gYmFyLmVudGVyKClcbiAgICAgIC5hcHBlbmQoJ2cnKS5hdHRyKCdjbGFzcycsICdsaW5lLWdycCcpO1xuXG4gICAgY29uc3QgYmFyQ29udGFpbmVyUmlnaHQgPSBiYXJFbnRlci5hcHBlbmQoJ3N2ZycpXG4gICAgICAuYXR0cih7XG4gICAgICAgIGNsYXNzOiAndGltZWxpbmVfX3JpZ2h0LW1hc2snLFxuICAgICAgICB3aWR0aDogd2luZG93LmlubmVyV2lkdGggLSBzZWxmLnRpbWVsaW5lLmxhYmVsX3Bvc2l0aW9uX3hcbiAgICAgIH0pO1xuXG4gICAgYmFyLnNlbGVjdCgnLnRpbWVsaW5lX19yaWdodC1tYXNrJylcbiAgICAgIC5hdHRyKHtcbiAgICAgICAgZGlzcGxheTogKCkgPT4gc2VsZi50aW1lbGluZS5lZGl0b3IuY3VydmVFZGl0RW5hYmxlZCA/ICdub25lJyA6ICdibG9jaycsXG4gICAgICAgIGhlaWdodDogKGQpID0+IChkLnByb3BlcnRpZXMubGVuZ3RoICsgMSkgKiBzZWxmLnRpbWVsaW5lLmxpbmVIZWlnaHRcbiAgICAgIH0pO1xuXG4gICAgYmFyQ29udGFpbmVyUmlnaHQuYXBwZW5kKCdyZWN0JylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdiYXInKVxuICAgICAgLy8gQWRkIGEgdW5pcXVlIGlkIGZvciBTZWxlY3Rpb25NYW5hZ2VyLnJlbW92ZUR1cGxpY2F0ZXNcbiAgICAgIC5hdHRyKCdpZCcsICgpID0+IHtyZXR1cm4gVXRpbHMuZ3VpZCgpO30pXG4gICAgICAuYXR0cigneScsIDMpXG4gICAgICAuYXR0cignaGVpZ2h0JywgMTQpO1xuXG4gICAgYmFyQ29udGFpbmVyUmlnaHQuYXBwZW5kKCdyZWN0JylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdiYXItYW5jaG9yIGJhci1hbmNob3ItLWxlZnQnKVxuICAgICAgLmF0dHIoJ3knLCAyKVxuICAgICAgLmF0dHIoJ2hlaWdodCcsIDE2KVxuICAgICAgLmF0dHIoJ3dpZHRoJywgNilcbiAgICAgIC5jYWxsKGRyYWdMZWZ0KTtcblxuICAgIGJhckNvbnRhaW5lclJpZ2h0LmFwcGVuZCgncmVjdCcpXG4gICAgICAuYXR0cignY2xhc3MnLCAnYmFyLWFuY2hvciBiYXItYW5jaG9yLS1yaWdodCcpXG4gICAgICAuYXR0cigneScsIDIpXG4gICAgICAuYXR0cignaGVpZ2h0JywgMTYpXG4gICAgICAuYXR0cignd2lkdGgnLCA2KVxuICAgICAgLmNhbGwoZHJhZ1JpZ2h0KTtcblxuICAgIHNlbGYuZHkgPSAxMCArIHRoaXMudGltZWxpbmUubWFyZ2luLnRvcDtcbiAgICBiYXIuYXR0cigndHJhbnNmb3JtJywgZnVuY3Rpb24oZCkge1xuICAgICAgdmFyIHkgPSBzZWxmLmR5O1xuICAgICAgc2VsZi5keSArPSBzZWxmLnRpbWVsaW5lLmxpbmVIZWlnaHQ7XG4gICAgICBpZiAoIWQuY29sbGFwc2VkKSB7XG4gICAgICAgIHZhciBudW1Qcm9wZXJ0aWVzID0gMDtcbiAgICAgICAgaWYgKGQucHJvcGVydGllcykge1xuICAgICAgICAgIGlmIChlZGl0b3Iub3B0aW9ucy5zaG93RW1wdHlQcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICB2YXIgdmlzaWJsZVByb3BlcnRpZXMgPSBkLnByb3BlcnRpZXM7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciB2aXNpYmxlUHJvcGVydGllcyA9IF8uZmlsdGVyKGQucHJvcGVydGllcywgZnVuY3Rpb24ocHJvcCkge1xuICAgICAgICAgICAgICByZXR1cm4gcHJvcC5rZXlzLmxlbmd0aDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBudW1Qcm9wZXJ0aWVzID0gdmlzaWJsZVByb3BlcnRpZXMubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIHNlbGYuZHkgKz0gbnVtUHJvcGVydGllcyAqIHNlbGYudGltZWxpbmUubGluZUhlaWdodDtcbiAgICAgIH1cbiAgICAgIHJldHVybiAndHJhbnNsYXRlKDAsJyArIHkgKyAnKSc7XG4gICAgfSk7XG5cbiAgICBjb25zdCBiYXJXaXRoU3RhcnRBbmRFbmQgPSBmdW5jdGlvbihkKSB7XG4gICAgICBpZiAoZC5zdGFydCAhPT0gdW5kZWZpbmVkICYmIGQuZW5kICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIGJhci5zZWxlY3RBbGwoJy5iYXItYW5jaG9yLS1sZWZ0JylcbiAgICAgIC5maWx0ZXIoYmFyV2l0aFN0YXJ0QW5kRW5kKVxuICAgICAgLmF0dHIoJ3gnLCAoZCkgPT4ge3JldHVybiBzZWxmLnRpbWVsaW5lLngoZC5zdGFydCAqIDEwMDApIC0gMTt9KVxuICAgICAgLm9uKCdtb3VzZWRvd24nLCBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gRG9uJ3QgdHJpZ2dlciBtb3VzZWRvd24gb24gbGluZXNjb250YWluZXIgZWxzZVxuICAgICAgICAvLyBpdCBjcmVhdGUgdGhlIHNlbGVjdGlvbiByZWN0YW5nbGVcbiAgICAgICAgZDMuZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB9KTtcblxuICAgIGJhci5zZWxlY3RBbGwoJy5iYXItYW5jaG9yLS1yaWdodCcpXG4gICAgICAuZmlsdGVyKGJhcldpdGhTdGFydEFuZEVuZClcbiAgICAgIC5hdHRyKCd4JywgKGQpID0+IHtyZXR1cm4gc2VsZi50aW1lbGluZS54KGQuZW5kICogMTAwMCkgLSAxO30pXG4gICAgICAub24oJ21vdXNlZG93bicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBEb24ndCB0cmlnZ2VyIG1vdXNlZG93biBvbiBsaW5lc2NvbnRhaW5lciBlbHNlXG4gICAgICAgIC8vIGl0IGNyZWF0ZSB0aGUgc2VsZWN0aW9uIHJlY3RhbmdsZVxuICAgICAgICBkMy5ldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIH0pO1xuXG4gICAgYmFyLnNlbGVjdEFsbCgnLmJhcicpXG4gICAgICAuZmlsdGVyKGJhcldpdGhTdGFydEFuZEVuZClcbiAgICAgIC5hdHRyKCd4JywgKGQpID0+IHtyZXR1cm4gc2VsZi50aW1lbGluZS54KGQuc3RhcnQgKiAxMDAwKSArIGJhcl9ib3JkZXI7fSlcbiAgICAgIC5hdHRyKCd3aWR0aCcsIGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgcmV0dXJuIE1hdGgubWF4KDAsIChzZWxmLnRpbWVsaW5lLngoZC5lbmQpIC0gc2VsZi50aW1lbGluZS54KGQuc3RhcnQpKSAqIDEwMDAgLSBiYXJfYm9yZGVyKTtcbiAgICAgIH0pXG4gICAgICAuY2FsbChkcmFnKVxuICAgICAgLm9uKCdjbGljaycsIHNlbGVjdEJhcilcbiAgICAgIC5vbignbW91c2Vkb3duJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIERvbid0IHRyaWdnZXIgbW91c2Vkb3duIG9uIGxpbmVzY29udGFpbmVyIGVsc2VcbiAgICAgICAgLy8gaXQgY3JlYXRlIHRoZSBzZWxlY3Rpb24gcmVjdGFuZ2xlXG4gICAgICAgIGQzLmV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgfSk7XG5cbiAgICBiYXJFbnRlci5hcHBlbmQoJ3RleHQnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2xpbmUtbGFiZWwnKVxuICAgICAgLmF0dHIoJ3gnLCBzZWxmLnRpbWVsaW5lLmxhYmVsX3Bvc2l0aW9uX3ggKyAxMClcbiAgICAgIC5hdHRyKCd5JywgMTYpXG4gICAgICAudGV4dCgoZCkgPT4ge3JldHVybiBkLmxhYmVsO30pXG4gICAgICAub24oJ2NsaWNrJywgc2VsZWN0QmFyKVxuICAgICAgLm9uKCdtb3VzZWRvd24nLCBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gRG9uJ3QgdHJpZ2dlciBtb3VzZWRvd24gb24gbGluZXNjb250YWluZXIgZWxzZVxuICAgICAgICAvLyBpdCBjcmVhdGUgdGhlIHNlbGVjdGlvbiByZWN0YW5nbGVcbiAgICAgICAgZDMuZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB9KTtcblxuICAgIGJhckVudGVyLmFwcGVuZCgndGV4dCcpXG4gICAgICAuYXR0cignY2xhc3MnLCAnbGluZV9fdG9nZ2xlJylcbiAgICAgIC5hdHRyKCd4Jywgc2VsZi50aW1lbGluZS5sYWJlbF9wb3NpdGlvbl94IC0gMTApXG4gICAgICAuYXR0cigneScsIDE2KVxuICAgICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgZC5jb2xsYXBzZWQgPSAhZC5jb2xsYXBzZWQ7XG4gICAgICAgIHNlbGYub25VcGRhdGUuZGlzcGF0Y2goKTtcbiAgICAgIH0pO1xuXG4gICAgYmFyLnNlbGVjdEFsbCgnLmxpbmVfX3RvZ2dsZScpLnRleHQoZnVuY3Rpb24oZCkge1xuICAgICAgaWYgKGQuY29sbGFwc2VkKSB7XG4gICAgICAgIHJldHVybiAn4pa4JztcbiAgICAgIH1cbiAgICAgIHJldHVybiAn4pa+JztcbiAgICB9KTtcblxuICAgIGJhckVudGVyLmFwcGVuZCgnbGluZScpXG4gICAgICAuYXR0cignY2xhc3MnLCAnbGluZS1zZXBhcmF0b3InKVxuICAgICAgLmF0dHIoJ3gxJywgLXNlbGYudGltZWxpbmUubWFyZ2luLmxlZnQpXG4gICAgICAuYXR0cigneTEnLCBzZWxmLnRpbWVsaW5lLmxpbmVIZWlnaHQpXG4gICAgICAuYXR0cigneTInLCBzZWxmLnRpbWVsaW5lLmxpbmVIZWlnaHQpO1xuXG4gICAgLy8gSGlkZSBwcm9wZXJ0eSBsaW5lIHNlcGFyYXRvciBpZiBjdXJ2ZSBlZGl0b3IgaXMgZW5hYmxlZC5cbiAgICBiYXIuc2VsZWN0QWxsKCcubGluZS1zZXBhcmF0b3InKVxuICAgICAgLmF0dHIoJ3gyJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChlZGl0b3IuY3VydmVFZGl0RW5hYmxlZCkge1xuICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZWxmLnRpbWVsaW5lLngoc2VsZi50aW1lbGluZS50aW1lci50b3RhbER1cmF0aW9uICsgMTAwKTtcbiAgICAgIH0pO1xuXG4gICAgYmFyLmV4aXQoKS5yZW1vdmUoKTtcblxuICAgIHJldHVybiBiYXI7XG4gIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2dyYXBoL0l0ZW1zLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==");
},function(module,exports,__webpack_require__){eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar d3 = __webpack_require__(15);\n\nvar KeysPreview = function () {\n  function KeysPreview(timeline, container) {\n    _classCallCheck(this, KeysPreview);\n\n    this.timeline = timeline;\n    this.container = container;\n  }\n\n  _createClass(KeysPreview, [{\n    key: 'render',\n    value: function render(bar) {\n      var self = this;\n\n      var propVal = function propVal(d) {\n        if (d.properties) {\n          return d.properties;\n        }\n\n        return [];\n      };\n      var propKey = function propKey(d) {\n        return d.name;\n      };\n\n      var properties = bar.select('.timeline__right-mask').selectAll('.keys-preview').data(propVal, propKey);\n\n      properties.enter().append('g').attr('class', 'keys-preview');\n\n      var setItemStyle = function setItemStyle(d) {\n        if (!d._property || !d._property._line) {\n          return 'display: none;';\n        }\n        var lineData = d._property._line;\n        if (lineData.collapsed === true) {\n          return '';\n        }\n        // Show only when item is collapsed\n        return 'display: none;';\n      };\n\n      properties.selectAll('.key--preview').attr('style', setItemStyle);\n\n      var keyValue = function keyValue(d) {\n        return d.keys;\n      };\n      var keyKey = function keyKey(d) {\n        return d.time;\n      };\n      var keys = properties.selectAll('.key--preview').data(keyValue, keyKey);\n\n      keys.enter().append('path').attr('class', 'key--preview').attr('style', setItemStyle).attr('d', 'M 0 -4 L 4 0 L 0 4 L -4 0');\n\n      keys.attr('transform', function (d) {\n        var dx = self.timeline.x(d.time * 1000);\n        dx = parseInt(dx, 10);\n        var dy = 11;\n        return 'translate(' + dx + ',' + dy + ')';\n      });\n\n      keys.exit().remove();\n    }\n  }]);\n\n  return KeysPreview;\n}();\n\nexports.default = KeysPreview;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ncmFwaC9LZXlzUHJldmlldy5qcz9mYWM3Il0sIm5hbWVzIjpbImQzIiwicmVxdWlyZSIsIktleXNQcmV2aWV3IiwidGltZWxpbmUiLCJjb250YWluZXIiLCJiYXIiLCJzZWxmIiwicHJvcFZhbCIsImQiLCJwcm9wZXJ0aWVzIiwicHJvcEtleSIsIm5hbWUiLCJzZWxlY3QiLCJzZWxlY3RBbGwiLCJkYXRhIiwiZW50ZXIiLCJhcHBlbmQiLCJhdHRyIiwic2V0SXRlbVN0eWxlIiwiX3Byb3BlcnR5IiwiX2xpbmUiLCJsaW5lRGF0YSIsImNvbGxhcHNlZCIsImtleVZhbHVlIiwia2V5cyIsImtleUtleSIsInRpbWUiLCJkeCIsIngiLCJwYXJzZUludCIsImR5IiwiZXhpdCIsInJlbW92ZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBLElBQUlBLEtBQUssbUJBQUFDLENBQVEsRUFBUixDQUFUOztJQUVxQkMsVztBQUNuQix1QkFBWUMsUUFBWixFQUFzQkMsU0FBdEIsRUFBaUM7QUFBQTs7QUFDL0IsU0FBS0QsUUFBTCxHQUFnQkEsUUFBaEI7QUFDQSxTQUFLQyxTQUFMLEdBQWlCQSxTQUFqQjtBQUNEOzs7OzJCQUVNQyxHLEVBQUs7QUFDVixVQUFJQyxPQUFPLElBQVg7O0FBRUEsVUFBSUMsVUFBVSxTQUFWQSxPQUFVLENBQVNDLENBQVQsRUFBWTtBQUN4QixZQUFJQSxFQUFFQyxVQUFOLEVBQWtCO0FBQ2hCLGlCQUFPRCxFQUFFQyxVQUFUO0FBQ0Q7O0FBRUQsZUFBTyxFQUFQO0FBQ0QsT0FORDtBQU9BLFVBQUlDLFVBQVUsU0FBVkEsT0FBVSxDQUFTRixDQUFULEVBQVk7QUFDeEIsZUFBT0EsRUFBRUcsSUFBVDtBQUNELE9BRkQ7O0FBSUEsVUFBSUYsYUFBYUosSUFBSU8sTUFBSixDQUFXLHVCQUFYLEVBQW9DQyxTQUFwQyxDQUE4QyxlQUE5QyxFQUErREMsSUFBL0QsQ0FBb0VQLE9BQXBFLEVBQTZFRyxPQUE3RSxDQUFqQjs7QUFFQUQsaUJBQVdNLEtBQVgsR0FDR0MsTUFESCxDQUNVLEdBRFYsRUFFR0MsSUFGSCxDQUVRLE9BRlIsRUFFaUIsY0FGakI7O0FBSUEsVUFBSUMsZUFBZSxTQUFmQSxZQUFlLENBQVNWLENBQVQsRUFBWTtBQUM3QixZQUFJLENBQUNBLEVBQUVXLFNBQUgsSUFBZ0IsQ0FBQ1gsRUFBRVcsU0FBRixDQUFZQyxLQUFqQyxFQUF3QztBQUN0QyxpQkFBTyxnQkFBUDtBQUNEO0FBQ0QsWUFBTUMsV0FBV2IsRUFBRVcsU0FBRixDQUFZQyxLQUE3QjtBQUNBLFlBQUlDLFNBQVNDLFNBQVQsS0FBdUIsSUFBM0IsRUFBaUM7QUFDL0IsaUJBQU8sRUFBUDtBQUNEO0FBQ0Q7QUFDQSxlQUFPLGdCQUFQO0FBQ0QsT0FWRDs7QUFZQWIsaUJBQVdJLFNBQVgsQ0FBcUIsZUFBckIsRUFDR0ksSUFESCxDQUNRLE9BRFIsRUFDaUJDLFlBRGpCOztBQUdBLFVBQUlLLFdBQVcsU0FBWEEsUUFBVyxDQUFTZixDQUFULEVBQVk7QUFDekIsZUFBT0EsRUFBRWdCLElBQVQ7QUFDRCxPQUZEO0FBR0EsVUFBSUMsU0FBUyxTQUFUQSxNQUFTLENBQVNqQixDQUFULEVBQVk7QUFDdkIsZUFBT0EsRUFBRWtCLElBQVQ7QUFDRCxPQUZEO0FBR0EsVUFBSUYsT0FBT2YsV0FBV0ksU0FBWCxDQUFxQixlQUFyQixFQUFzQ0MsSUFBdEMsQ0FBMkNTLFFBQTNDLEVBQXFERSxNQUFyRCxDQUFYOztBQUVBRCxXQUFLVCxLQUFMLEdBQ0dDLE1BREgsQ0FDVSxNQURWLEVBRUdDLElBRkgsQ0FFUSxPQUZSLEVBRWlCLGNBRmpCLEVBR0dBLElBSEgsQ0FHUSxPQUhSLEVBR2lCQyxZQUhqQixFQUlHRCxJQUpILENBSVEsR0FKUixFQUlhLDJCQUpiOztBQU1BTyxXQUFLUCxJQUFMLENBQVUsV0FBVixFQUF1QixVQUFTVCxDQUFULEVBQVk7QUFDakMsWUFBSW1CLEtBQUtyQixLQUFLSCxRQUFMLENBQWN5QixDQUFkLENBQWdCcEIsRUFBRWtCLElBQUYsR0FBUyxJQUF6QixDQUFUO0FBQ0FDLGFBQUtFLFNBQVNGLEVBQVQsRUFBYSxFQUFiLENBQUw7QUFDQSxZQUFJRyxLQUFLLEVBQVQ7QUFDQSxlQUFPLGVBQWVILEVBQWYsR0FBb0IsR0FBcEIsR0FBMEJHLEVBQTFCLEdBQStCLEdBQXRDO0FBQ0QsT0FMRDs7QUFPQU4sV0FBS08sSUFBTCxHQUFZQyxNQUFaO0FBQ0Q7Ozs7OztrQkEvRGtCOUIsVyIsImZpbGUiOiIxOC5qcyIsInNvdXJjZXNDb250ZW50IjpbImxldCBkMyA9IHJlcXVpcmUoJ2QzJyk7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEtleXNQcmV2aWV3IHtcbiAgY29uc3RydWN0b3IodGltZWxpbmUsIGNvbnRhaW5lcikge1xuICAgIHRoaXMudGltZWxpbmUgPSB0aW1lbGluZTtcbiAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcbiAgfVxuXG4gIHJlbmRlcihiYXIpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICB2YXIgcHJvcFZhbCA9IGZ1bmN0aW9uKGQpIHtcbiAgICAgIGlmIChkLnByb3BlcnRpZXMpIHtcbiAgICAgICAgcmV0dXJuIGQucHJvcGVydGllcztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFtdO1xuICAgIH07XG4gICAgdmFyIHByb3BLZXkgPSBmdW5jdGlvbihkKSB7XG4gICAgICByZXR1cm4gZC5uYW1lO1xuICAgIH07XG5cbiAgICB2YXIgcHJvcGVydGllcyA9IGJhci5zZWxlY3QoJy50aW1lbGluZV9fcmlnaHQtbWFzaycpLnNlbGVjdEFsbCgnLmtleXMtcHJldmlldycpLmRhdGEocHJvcFZhbCwgcHJvcEtleSk7XG5cbiAgICBwcm9wZXJ0aWVzLmVudGVyKClcbiAgICAgIC5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2tleXMtcHJldmlldycpO1xuXG4gICAgdmFyIHNldEl0ZW1TdHlsZSA9IGZ1bmN0aW9uKGQpIHtcbiAgICAgIGlmICghZC5fcHJvcGVydHkgfHwgIWQuX3Byb3BlcnR5Ll9saW5lKSB7XG4gICAgICAgIHJldHVybiAnZGlzcGxheTogbm9uZTsnO1xuICAgICAgfVxuICAgICAgY29uc3QgbGluZURhdGEgPSBkLl9wcm9wZXJ0eS5fbGluZTtcbiAgICAgIGlmIChsaW5lRGF0YS5jb2xsYXBzZWQgPT09IHRydWUpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfVxuICAgICAgLy8gU2hvdyBvbmx5IHdoZW4gaXRlbSBpcyBjb2xsYXBzZWRcbiAgICAgIHJldHVybiAnZGlzcGxheTogbm9uZTsnO1xuICAgIH07XG5cbiAgICBwcm9wZXJ0aWVzLnNlbGVjdEFsbCgnLmtleS0tcHJldmlldycpXG4gICAgICAuYXR0cignc3R5bGUnLCBzZXRJdGVtU3R5bGUpO1xuXG4gICAgdmFyIGtleVZhbHVlID0gZnVuY3Rpb24oZCkge1xuICAgICAgcmV0dXJuIGQua2V5cztcbiAgICB9O1xuICAgIHZhciBrZXlLZXkgPSBmdW5jdGlvbihkKSB7XG4gICAgICByZXR1cm4gZC50aW1lO1xuICAgIH07XG4gICAgdmFyIGtleXMgPSBwcm9wZXJ0aWVzLnNlbGVjdEFsbCgnLmtleS0tcHJldmlldycpLmRhdGEoa2V5VmFsdWUsIGtleUtleSk7XG5cbiAgICBrZXlzLmVudGVyKClcbiAgICAgIC5hcHBlbmQoJ3BhdGgnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2tleS0tcHJldmlldycpXG4gICAgICAuYXR0cignc3R5bGUnLCBzZXRJdGVtU3R5bGUpXG4gICAgICAuYXR0cignZCcsICdNIDAgLTQgTCA0IDAgTCAwIDQgTCAtNCAwJyk7XG5cbiAgICBrZXlzLmF0dHIoJ3RyYW5zZm9ybScsIGZ1bmN0aW9uKGQpIHtcbiAgICAgIGxldCBkeCA9IHNlbGYudGltZWxpbmUueChkLnRpbWUgKiAxMDAwKTtcbiAgICAgIGR4ID0gcGFyc2VJbnQoZHgsIDEwKTtcbiAgICAgIGxldCBkeSA9IDExO1xuICAgICAgcmV0dXJuICd0cmFuc2xhdGUoJyArIGR4ICsgJywnICsgZHkgKyAnKSc7XG4gICAgfSk7XG5cbiAgICBrZXlzLmV4aXQoKS5yZW1vdmUoKTtcbiAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vZ3JhcGgvS2V5c1ByZXZpZXcuanMiXSwic291cmNlUm9vdCI6IiJ9")},function(module,exports,__webpack_require__){eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Utils = __webpack_require__(1);\n\nvar _Utils2 = _interopRequireDefault(_Utils);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar d3 = __webpack_require__(15);\nvar Signals = __webpack_require__(6);\n\nvar Properties = function () {\n  function Properties(timeline) {\n    _classCallCheck(this, Properties);\n\n    this.timeline = timeline;\n    this.onKeyAdded = new Signals.Signal();\n    this.subGrp = false;\n  }\n\n  _createClass(Properties, [{\n    key: 'propertyVal',\n    value: function propertyVal(d) {\n      if (d.properties) {\n        if (this.timeline.editor.options.showEmptyProperties) {\n          return d.properties;\n        } else {\n          return d.properties.filter(function (prop) {\n            return prop.keys.length;\n          });\n        }\n      }\n      return [];\n    }\n  }, {\n    key: 'propertyKey',\n    value: function propertyKey(d) {\n      return d.name;\n    }\n  }, {\n    key: 'setSublineHeight',\n    value: function setSublineHeight(d, i) {\n      var sub_height = (i + 1) * this.timeline.lineHeight;\n      return 'translate(0,' + sub_height + ')';\n    }\n  }, {\n    key: 'render',\n    value: function render(bar) {\n      var _this = this;\n\n      var self = this;\n      var editor = this.timeline.editor;\n      var core = editor.tweenTime;\n\n      var properties = bar.selectAll('.line-item').data(function (d) {\n        return _this.propertyVal(d);\n      }, this.propertyKey);\n      var subGrp = properties.enter().append('g').attr('class', 'line-item');\n\n      // Save subGrp in a variable for use in Errors.coffee\n      self.subGrp = subGrp;\n\n      properties.attr('transform', function (d, i) {\n        return _this.setSublineHeight(d, i);\n      });\n\n      subGrp.append('rect').attr('class', 'click-handler click-handler--property').attr('x', 0).attr('y', 0).attr('width', self.timeline.x(self.timeline.timer.totalDuration + 100)).attr('height', self.timeline.lineHeight).on('dblclick', function (d) {\n        var lineValue = d._line;\n        var def = d.default ? d.default : 0;\n        var mouse = d3.mouse(this);\n        var dx = self.timeline.x.invert(mouse[0]);\n        dx = dx.getTime() / 1000;\n        var prevKey = _Utils2.default.getPreviousKey(d.keys, dx);\n        // set the value to match the previous key if we found one\n        if (prevKey) {\n          def = prevKey.val;\n        }\n        //d._line = lineValue;\n        var newKey = {\n          time: dx,\n          val: def,\n          _property: d\n        };\n        if (core.options.defaultEase) {\n          newKey.ease = core.options.defaultEase;\n        }\n\n        d.keys.push(newKey);\n        // Sort the keys for tweens creation\n        d.keys = _Utils2.default.sortKeys(d.keys);\n        lineValue._isDirty = true;\n\n        lineValue._isDirty = true;\n        self.onKeyAdded.dispatch(newKey);\n      });\n\n      // Mask\n      subGrp.append('svg').attr('class', 'line-item__keys timeline__right-mask').attr('width', window.innerWidth - self.timeline.label_position_x).attr('height', self.timeline.lineHeight);\n\n      this.renderPropertiesLabel(bar, properties);\n\n      subGrp.append('line').attr('class', 'line-separator--secondary').attr('x1', -self.timeline.margin.left).attr('y1', self.timeline.lineHeight).attr('y2', self.timeline.lineHeight);\n\n      // Hide property line separator if curve editor is enabled.\n      bar.selectAll('.line-separator--secondary').attr('x2', function () {\n        if (editor.curveEditEnabled) {\n          return 0;\n        }\n        return self.timeline.x(self.timeline.timer.totalDuration + 100);\n      });\n\n      bar.selectAll('.line-item').attr('display', function (property) {\n        if (!property._line.collapsed) {\n          return 'block';\n        }\n        return 'none';\n      });\n\n      // Hide click handler if curve editor mode.\n      bar.selectAll('.click-handler').attr('display', function () {\n        if (!editor.curveEditEnabled) {\n          return 'block';\n        }\n        return 'none';\n      });\n\n      properties.exit().remove();\n\n      return properties;\n    }\n  }, {\n    key: 'renderPropertiesLabel',\n    value: function renderPropertiesLabel(bar, subGrp) {\n      var _this2 = this;\n\n      subGrp.append('text').attr({\n        class: 'line-label line-label--sub line-label--small',\n        x: this.timeline.label_position_x + 10,\n        y: 15\n      }).text(function (d) {\n        return d.name;\n      }).on('click', function (d) {\n        _this2.timeline.selectionManager.select(d);\n      });\n    }\n  }]);\n\n  return Properties;\n}();\n\nexports.default = Properties;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ncmFwaC9Qcm9wZXJ0aWVzLmpzP2E3MjciXSwibmFtZXMiOlsiZDMiLCJyZXF1aXJlIiwiU2lnbmFscyIsIlByb3BlcnRpZXMiLCJ0aW1lbGluZSIsIm9uS2V5QWRkZWQiLCJTaWduYWwiLCJzdWJHcnAiLCJkIiwicHJvcGVydGllcyIsImVkaXRvciIsIm9wdGlvbnMiLCJzaG93RW1wdHlQcm9wZXJ0aWVzIiwiZmlsdGVyIiwicHJvcCIsImtleXMiLCJsZW5ndGgiLCJuYW1lIiwiaSIsInN1Yl9oZWlnaHQiLCJsaW5lSGVpZ2h0IiwiYmFyIiwic2VsZiIsImNvcmUiLCJ0d2VlblRpbWUiLCJzZWxlY3RBbGwiLCJkYXRhIiwicHJvcGVydHlWYWwiLCJwcm9wZXJ0eUtleSIsImVudGVyIiwiYXBwZW5kIiwiYXR0ciIsInNldFN1YmxpbmVIZWlnaHQiLCJ4IiwidGltZXIiLCJ0b3RhbER1cmF0aW9uIiwib24iLCJsaW5lVmFsdWUiLCJfbGluZSIsImRlZiIsImRlZmF1bHQiLCJtb3VzZSIsImR4IiwiaW52ZXJ0IiwiZ2V0VGltZSIsInByZXZLZXkiLCJVdGlscyIsImdldFByZXZpb3VzS2V5IiwidmFsIiwibmV3S2V5IiwidGltZSIsIl9wcm9wZXJ0eSIsImRlZmF1bHRFYXNlIiwiZWFzZSIsInB1c2giLCJzb3J0S2V5cyIsIl9pc0RpcnR5IiwiZGlzcGF0Y2giLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwibGFiZWxfcG9zaXRpb25feCIsInJlbmRlclByb3BlcnRpZXNMYWJlbCIsIm1hcmdpbiIsImxlZnQiLCJjdXJ2ZUVkaXRFbmFibGVkIiwicHJvcGVydHkiLCJjb2xsYXBzZWQiLCJleGl0IiwicmVtb3ZlIiwiY2xhc3MiLCJ5IiwidGV4dCIsInNlbGVjdGlvbk1hbmFnZXIiLCJzZWxlY3QiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBRUE7Ozs7Ozs7O0FBRkEsSUFBSUEsS0FBSyxtQkFBQUMsQ0FBUSxFQUFSLENBQVQ7QUFDQSxJQUFJ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QU9lLFVBQUM1QixDQUFELEVBQU87QUFDbEIsZUFBS0osUUFBTCxDQUFjb0UsZ0JBQWQsQ0FBK0JDLE1BQS9CLENBQXNDakUsQ0FBdEM7QUFDRCxPQVRIO0FBVUQ7Ozs7OztrQkF0SWtCTCxVIiwiZmlsZSI6IjE5LmpzIiwic291cmNlc0NvbnRlbnQiOlsibGV0IGQzID0gcmVxdWlyZSgnZDMnKTtcbmxldCBTaWduYWxzID0gcmVxdWlyZSgnanMtc2lnbmFscycpO1xuaW1wb3J0IFV0aWxzIGZyb20gJy4uL2NvcmUvVXRpbHMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQcm9wZXJ0aWVzIHtcbiAgY29uc3RydWN0b3IodGltZWxpbmUpIHtcbiAgICB0aGlzLnRpbWVsaW5lID0gdGltZWxpbmU7XG4gICAgdGhpcy5vbktleUFkZGVkID0gbmV3IFNpZ25hbHMuU2lnbmFsKCk7XG4gICAgdGhpcy5zdWJHcnAgPSBmYWxzZTtcbiAgfVxuXG4gIHByb3BlcnR5VmFsKGQpIHtcbiAgICBpZiAoZC5wcm9wZXJ0aWVzKSB7XG4gICAgICBpZiAodGhpcy50aW1lbGluZS5lZGl0b3Iub3B0aW9ucy5zaG93RW1wdHlQcm9wZXJ0aWVzKSB7XG4gICAgICAgIHJldHVybiBkLnByb3BlcnRpZXM7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGQucHJvcGVydGllcy5maWx0ZXIoKHByb3ApID0+IHtyZXR1cm4gcHJvcC5rZXlzLmxlbmd0aDt9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbiAgcHJvcGVydHlLZXkoZCkge1xuICAgIHJldHVybiBkLm5hbWU7XG4gIH1cblxuICBzZXRTdWJsaW5lSGVpZ2h0KGQsIGkpIHtcbiAgICBjb25zdCBzdWJfaGVpZ2h0ID0gKGkgKyAxKSAqIHRoaXMudGltZWxpbmUubGluZUhlaWdodDtcbiAgICByZXR1cm4gJ3RyYW5zbGF0ZSgwLCcgKyBzdWJfaGVpZ2h0ICsgJyknO1xuICB9XG5cbiAgcmVuZGVyKGJhcikge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgZWRpdG9yID0gdGhpcy50aW1lbGluZS5lZGl0b3I7XG4gICAgdmFyIGNvcmUgPSBlZGl0b3IudHdlZW5UaW1lO1xuXG4gICAgdmFyIHByb3BlcnRpZXMgPSBiYXIuc2VsZWN0QWxsKCcubGluZS1pdGVtJykuZGF0YSgoZCkgPT4gdGhpcy5wcm9wZXJ0eVZhbChkKSwgdGhpcy5wcm9wZXJ0eUtleSk7XG4gICAgdmFyIHN1YkdycCA9IHByb3BlcnRpZXMuZW50ZXIoKVxuICAgICAgLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cignY2xhc3MnLCAnbGluZS1pdGVtJyk7XG5cbiAgICAvLyBTYXZlIHN1YkdycCBpbiBhIHZhcmlhYmxlIGZvciB1c2UgaW4gRXJyb3JzLmNvZmZlZVxuICAgIHNlbGYuc3ViR3JwID0gc3ViR3JwO1xuXG5cbiAgICBwcm9wZXJ0aWVzLmF0dHIoJ3RyYW5zZm9ybScsIChkLCBpKSA9PiB0aGlzLnNldFN1YmxpbmVIZWlnaHQoZCwgaSkpO1xuXG4gICAgc3ViR3JwLmFwcGVuZCgncmVjdCcpXG4gICAgICAuYXR0cignY2xhc3MnLCAnY2xpY2staGFuZGxlciBjbGljay1oYW5kbGVyLS1wcm9wZXJ0eScpXG4gICAgICAuYXR0cigneCcsIDApXG4gICAgICAuYXR0cigneScsIDApXG4gICAgICAuYXR0cignd2lkdGgnLCBzZWxmLnRpbWVsaW5lLngoc2VsZi50aW1lbGluZS50aW1lci50b3RhbER1cmF0aW9uICsgMTAwKSlcbiAgICAgIC5hdHRyKCdoZWlnaHQnLCBzZWxmLnRpbWVsaW5lLmxpbmVIZWlnaHQpXG4gICAgICAub24oJ2RibGNsaWNrJywgZnVuY3Rpb24oZCkge1xuICAgICAgICBjb25zdCBsaW5lVmFsdWUgPSBkLl9saW5lO1xuICAgICAgICBsZXQgZGVmID0gZC5kZWZhdWx0ID8gZC5kZWZhdWx0IDogMDtcbiAgICAgICAgY29uc3QgbW91c2UgPSBkMy5tb3VzZSh0aGlzKTtcbiAgICAgICAgbGV0IGR4ID0gc2VsZi50aW1lbGluZS54LmludmVydChtb3VzZVswXSk7XG4gICAgICAgIGR4ID0gZHguZ2V0VGltZSgpIC8gMTAwMDtcbiAgICAgICAgY29uc3QgcHJldktleSA9IFV0aWxzLmdldFByZXZpb3VzS2V5KGQua2V5cywgZHgpO1xuICAgICAgICAvLyBzZXQgdGhlIHZhbHVlIHRvIG1hdGNoIHRoZSBwcmV2aW91cyBrZXkgaWYgd2UgZm91bmQgb25lXG4gICAgICAgIGlmIChwcmV2S2V5KSB7XG4gICAgICAgICAgZGVmID0gcHJldktleS52YWw7XG4gICAgICAgIH1cbiAgICAgICAgLy9kLl9saW5lID0gbGluZVZhbHVlO1xuICAgICAgICBjb25zdCBuZXdLZXkgPSB7XG4gICAgICAgICAgdGltZTogZHgsXG4gICAgICAgICAgdmFsOiBkZWYsXG4gICAgICAgICAgX3Byb3BlcnR5OiBkXG4gICAgICAgIH07XG4gICAgICAgIGlmIChjb3JlLm9wdGlvbnMuZGVmYXVsdEVhc2UpIHtcbiAgICAgICAgICBuZXdLZXkuZWFzZSA9IGNvcmUub3B0aW9ucy5kZWZhdWx0RWFzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGQua2V5cy5wdXNoKG5ld0tleSk7XG4gICAgICAgIC8vIFNvcnQgdGhlIGtleXMgZm9yIHR3ZWVucyBjcmVhdGlvblxuICAgICAgICBkLmtleXMgPSBVdGlscy5zb3J0S2V5cyhkLmtleXMpO1xuICAgICAgICBsaW5lVmFsdWUuX2lzRGlydHkgPSB0cnVlO1xuXG4gICAgICAgIGxpbmVWYWx1ZS5faXNEaXJ0eSA9IHRydWU7XG4gICAgICAgIHNlbGYub25LZXlBZGRlZC5kaXNwYXRjaChuZXdLZXkpO1xuICAgICAgfSk7XG5cbiAgICAvLyBNYXNrXG4gICAgc3ViR3JwLmFwcGVuZCgnc3ZnJylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdsaW5lLWl0ZW1fX2tleXMgdGltZWxpbmVfX3JpZ2h0LW1hc2snKVxuICAgICAgLmF0dHIoJ3dpZHRoJywgd2luZG93LmlubmVyV2lkdGggLSBzZWxmLnRpbWVsaW5lLmxhYmVsX3Bvc2l0aW9uX3gpXG4gICAgICAuYXR0cignaGVpZ2h0Jywgc2VsZi50aW1lbGluZS5saW5lSGVpZ2h0KTtcblxuICAgIHRoaXMucmVuZGVyUHJvcGVydGllc0xhYmVsKGJhciwgcHJvcGVydGllcyk7XG5cbiAgICBzdWJHcnAuYXBwZW5kKCdsaW5lJylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdsaW5lLXNlcGFyYXRvci0tc2Vjb25kYXJ5JylcbiAgICAgIC5hdHRyKCd4MScsIC1zZWxmLnRpbWVsaW5lLm1hcmdpbi5sZWZ0KVxuICAgICAgLmF0dHIoJ3kxJywgc2VsZi50aW1lbGluZS5saW5lSGVpZ2h0KVxuICAgICAgLmF0dHIoJ3kyJywgc2VsZi50aW1lbGluZS5saW5lSGVpZ2h0KTtcblxuICAgIC8vIEhpZGUgcHJvcGVydHkgbGluZSBzZXBhcmF0b3IgaWYgY3VydmUgZWRpdG9yIGlzIGVuYWJsZWQuXG4gICAgYmFyLnNlbGVjdEFsbCgnLmxpbmUtc2VwYXJhdG9yLS1zZWNvbmRhcnknKVxuICAgICAgLmF0dHIoJ3gyJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChlZGl0b3IuY3VydmVFZGl0RW5hYmxlZCkge1xuICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZWxmLnRpbWVsaW5lLngoc2VsZi50aW1lbGluZS50aW1lci50b3RhbER1cmF0aW9uICsgMTAwKTtcbiAgICAgIH0pO1xuXG4gICAgYmFyLnNlbGVjdEFsbCgnLmxpbmUtaXRlbScpLmF0dHIoJ2Rpc3BsYXknLCBmdW5jdGlvbihwcm9wZXJ0eSkge1xuICAgICAgaWYgKCFwcm9wZXJ0eS5fbGluZS5jb2xsYXBzZWQpIHtcbiAgICAgICAgcmV0dXJuICdibG9jayc7XG4gICAgICB9XG4gICAgICByZXR1cm4gJ25vbmUnO1xuICAgIH0pO1xuXG4gICAgLy8gSGlkZSBjbGljayBoYW5kbGVyIGlmIGN1cnZlIGVkaXRvciBtb2RlLlxuICAgIGJhci5zZWxlY3RBbGwoJy5jbGljay1oYW5kbGVyJykuYXR0cignZGlzcGxheScsIGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCFlZGl0b3IuY3VydmVFZGl0RW5hYmxlZCkge1xuICAgICAgICByZXR1cm4gJ2Jsb2NrJztcbiAgICAgIH1cbiAgICAgIHJldHVybiAnbm9uZSc7XG4gICAgfSk7XG5cbiAgICBwcm9wZXJ0aWVzLmV4aXQoKS5yZW1vdmUoKTtcblxuICAgIHJldHVybiBwcm9wZXJ0aWVzO1xuICB9XG5cbiAgcmVuZGVyUHJvcGVydGllc0xhYmVsKGJhciwgc3ViR3JwKSB7XG4gICAgc3ViR3JwLmFwcGVuZCgndGV4dCcpXG4gICAgICAuYXR0cih7XG4gICAgICAgIGNsYXNzOiAnbGluZS1sYWJlbCBsaW5lLWxhYmVsLS1zdWIgbGluZS1sYWJlbC0tc21hbGwnLFxuICAgICAgICB4OiB0aGlzLnRpbWVsaW5lLmxhYmVsX3Bvc2l0aW9uX3ggKyAxMCxcbiAgICAgICAgeTogMTVcbiAgICAgIH0pXG4gICAgICAudGV4dCgoZCkgPT4gZC5uYW1lKVxuICAgICAgLm9uKCdjbGljaycsIChkKSA9PiB7XG4gICAgICAgIHRoaXMudGltZWxpbmUuc2VsZWN0aW9uTWFuYWdlci5zZWxlY3QoZCk7XG4gICAgICB9KTtcbiAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vZ3JhcGgvUHJvcGVydGllcy5qcyJdLCJzb3VyY2VSb290IjoiIn0=")},function(module,exports,__webpack_require__){eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Utils = __webpack_require__(1);\n\nvar _Utils2 = _interopRequireDefault(_Utils);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar d3 = __webpack_require__(15);\nvar Signals = __webpack_require__(6);\n\n\nvar MAX_HEIGHT = 190;\n\nvar PropertyCurveEdit = function () {\n  function PropertyCurveEdit(timeline, container) {\n    _classCallCheck(this, PropertyCurveEdit);\n\n    this.timeline = timeline;\n    this.container = container;\n    this.dy = 10 + this.timeline.margin.top;\n    this.onCurveUpdated = new Signals.Signal();\n  }\n\n  _createClass(PropertyCurveEdit, [{\n    key: 'normalizeVal',\n    value: function normalizeVal(val, min, max, min2, max2) {\n      if (min === min2 && max === max2) {\n        return val;\n      }\n      var diff = max - min;\n      var diff2 = max2 - min2;\n      var t = (val - min) / diff;\n      return min2 + t * diff2;\n    }\n\n    // Get bezier point from easing (0 to 1) and previous and next point.\n\n  }, {\n    key: 'bezierPoint',\n    value: function bezierPoint(pt, prev, next) {\n      var x = this.normalizeVal(pt.x, 0, 1, prev.x, next.x);\n      var y = this.normalizeVal(pt.y, 0, 1, prev.y, next.y);\n      return { x: x, y: y };\n    }\n\n    // Transform an array of points to a SVG bezier path.\n\n  }, {\n    key: 'getPath',\n    value: function getPath(points) {\n      // Path first start by Move command (absolute);\n      var p = 'M ' + points[0].x + ' ' + points[0].y;\n      // Then it's C a.x a.y, b.x b.y, c.x x.y\n      points.forEach(function (pt, i) {\n        // Drop first one since already in 'M' command above.\n        if (i > 0) {\n          p += ', ';\n          if ((i - 1) % 3 === 0) {\n            p += 'C ';\n          }\n          if (isNaN(pt.x) || isNaN(pt.y)) {\n            return false;\n          }\n          p += pt.x + ' ' + pt.y;\n        }\n      });\n      return p;\n    }\n  }, {\n    key: 'processCurveValues',\n    value: function processCurveValues(d) {\n      var _this = this;\n\n      var invalid = false;\n      if (d.keys.length <= 1) {\n        d._curvePoints = [];\n        d._curvePointsBezier = [];\n        d._controlPoints = [];\n        return [{ points: [], name: d.name }];\n      }\n      // preprocess min and max for keys.\n      d._min = d3.min(d.keys, function (k) {\n        return k.val;\n      });\n      d._max = d3.max(d.keys, function (k) {\n        return k.val;\n      });\n\n      d._curvePoints = [];\n      // set raw points, without bezier control yet.\n      d.keys.forEach(function (key) {\n        var x = _this.timeline.x(key.time * 1000);\n        var y = _this.normalizeVal(key.val, d._min, d._max, 0, MAX_HEIGHT);\n        d._curvePoints.push({ x: x, y: y, ease: key.ease, id: 'curve1-' + key._id, _key: key });\n      });\n\n      // Control points, grouped by point + handle.\n      d._controlPoints = [];\n      // Add all points, with controls bezier. (p1, bezier1, bezier2, p2, ).\n      d._curvePointsBezier = [];\n      d._curvePoints.forEach(function (pt, i) {\n        var next = d._curvePoints[i + 1];\n        // If non number points return an empty path.\n        if (isNaN(pt.x) || isNaN(pt.y)) {\n          invalid = true;\n        }\n        d._curvePointsBezier.push({ x: pt.x, y: pt.y, ease: pt.ease, _key: pt._key });\n        if (next) {\n          var easing = _Utils2.default.getEasingPoints(next.ease);\n          var p1 = _this.bezierPoint({ x: easing[0], y: easing[1] }, pt, next);\n          var p2 = _this.bezierPoint({ x: easing[2], y: easing[3] }, pt, next);\n\n          // Save prev point for time calculation on drag move.\n          p1._next = next;\n          p2._next = next;\n          p1._prev = pt;\n          p2._prev = pt;\n          // The index of the handles in the easing.\n          p1._Xindex = 0;\n          p1._Yindex = 1;\n          p2._Xindex = 2;\n          p2._Yindex = 3;\n          d._curvePointsBezier.push(p1);\n          d._curvePointsBezier.push(p2);\n          // If non number points return an empty path.\n          if (isNaN(next.x) || isNaN(next.y) || isNaN(p1.x) || isNaN(p1.y) || isNaN(p2.x) || isNaN(p2.y)) {\n            invalid = true;\n          }\n          d._controlPoints.push({ point: pt, handle: p1, id: pt._key._id + '-a' });\n          d._controlPoints.push({ point: next, handle: p2, id: pt._key._id + '-b' });\n        }\n      });\n      var path = this.getPath(d._curvePointsBezier);\n      // If invalid path (non number points) return an empty path.\n      if (!path || invalid) {\n        d._curvePoints = [];\n        d._curvePointsBezier = [];\n        d._controlPoints = [];\n        return [{ points: [], name: d.name }];\n      }\n      return [{ points: d._curvePoints, path: path, name: d.name }];\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var self = this;\n      var tweenTime = self.timeline.tweenTime;\n\n      var bar = this.container.selectAll('.curve-grp').data(this.timeline.tweenTime.data, function (d) {\n        return d.id;\n      });\n\n      bar.enter().append('svg').attr('class', 'curve-grp timeline__right-mask');\n\n      // Show curves only if curve editor mode.\n      bar.attr('display', function (d) {\n        var selection = self.timeline.selectionManager.getSelection();\n\n        if (_this2.timeline.editor.curveEditEnabled) {\n          // Check if this item is in selection.\n          for (var i = 0; i < selection.length; i++) {\n            if (selection[i].id === d.id) {\n              return 'block';\n            }\n            // If we selected a property inside the item.\n            if (selection[i]._line && selection[i]._line.id === d.id) {\n              return 'block';\n            }\n          }\n        }\n        return 'none';\n      });\n\n      bar.exit().remove();\n\n      var propVal1 = function propVal1(d) {\n        return d.properties || [];\n      };\n      var propKey1 = function propKey1(d) {\n        return d.name;\n      };\n\n      var properties = bar.selectAll('.curves-preview').data(propVal1, propKey1).attr('display', function (d) {\n        var selection = self.timeline.selectionManager.getSelection();\n        for (var i = 0; i < selection.length; i++) {\n          var selectedItem = selection[i];\n          if (selectedItem.name && selectedItem.name === d.name) {\n            // Also check that it is from the same item.\n            if (selectedItem._line.id === d._line.id) {\n              return 'block';\n            }\n          }\n          // If we have selected the whole item show the curve too.\n          if (selectedItem.id && selectedItem.id === d._line.id) {\n            return 'block';\n          }\n        }\n        return 'none';\n      });\n\n      properties.enter().append('g').attr({\n        class: 'curves-preview',\n        transform: 'translate(0,10)',\n        width: window.innerWidth - self.timeline.label_position_x,\n        height: 300\n      });\n\n      properties.exit().remove();\n\n      var curveKey = function curveKey(d) {\n        return d.name;\n      };\n      var curves = properties.selectAll('.curve').data(function (d) {\n        return _this2.processCurveValues(d);\n      }, curveKey);\n\n      curves.enter().append('path').attr({\n        class: 'curve',\n        fill: 'none',\n        stroke: '#aaa'\n      });\n\n      curves.attr('d', function (d) {\n        return d.path;\n      });\n\n      curves.exit().remove();\n\n      var pointVal = function pointVal(d) {\n        return d._curvePoints || [];\n      };\n      var pointKey = function pointKey(d) {\n        return d.id;\n      };\n      var handleVal = function handleVal(d) {\n        return d._controlPoints || [];\n      };\n      var handleKey = function handleKey(d) {\n        return d.id;\n      };\n\n      var handle = properties.selectAll('.curve__handle').data(handleVal, handleKey);\n\n      var handleLine = properties.selectAll('.curve__handle-line').data(handleVal, handleKey);\n\n      var points = properties.selectAll('.curve__point').data(pointVal, pointKey);\n\n      // Handle line.\n      var dragHandleStart = function dragHandleStart(d) {\n        var event = d3.event;\n        // with dragstart event the mousevent is is inside the event.sourcEvent\n        if (event.sourceEvent) {\n          event = event.sourceEvent;\n        }\n\n        // Also keep a reference to the key dom element.\n        d._dom = this;\n      };\n\n      var dragHandleMove = function dragHandleMove(d) {\n        var sourceEvent = d3.event.sourceEvent;\n\n        var point = d.handle._next;\n        var prev = d.handle._prev;\n        var handle = d.handle;\n        var key = point._key;\n        var propertyData = prev._key._property;\n        var itemData = propertyData._line;\n\n        // Get ease array.\n        var ease = _Utils2.default.getEasingPoints(point.ease);\n        var timeBetweenPrevNext = key.time - prev._key.time;\n\n        var mouse = d3.mouse(this);\n        var old_time = key.time;\n        var dx = self.timeline.x.invert(mouse[0]);\n        dx = dx.getTime() / 1000;\n        dx = (dx - prev._key.time) / timeBetweenPrevNext;\n\n        // Get point A value top in px.\n        var valueApx = self.normalizeVal(prev._key.val, propertyData._min, propertyData._max, 0, MAX_HEIGHT);\n        // Same for B key value\n        var valueBpx = self.normalizeVal(point._key.val, propertyData._min, propertyData._max, 0, MAX_HEIGHT);\n\n        var dy = (mouse[1] - valueApx) / (valueBpx - valueApx);\n\n        // dx is restricted to 0 - 1.\n        dx = Math.min(1, Math.max(0, dx));\n\n        ease[handle._Xindex] = dx;\n        ease[handle._Yindex] = dy;\n        point._key.ease = ease;\n\n        propertyData._isDirty = true;\n        itemData._isDirty = true;\n        self.onCurveUpdated.dispatch();\n      };\n\n      var dragHandleEnd = function dragHandleEnd(d) {};\n\n      var dragHandle = d3.behavior.drag().origin(function (d) {\n        return d;\n      }).on('drag', dragHandleMove).on('dragstart', dragHandleStart).on('dragend', dragHandleEnd);\n\n      handleLine.enter().append('line').attr({\n        class: 'curve__handle-line',\n        fill: 'none'\n      });\n\n      handleLine.attr({\n        x1: function x1(d) {\n          return d.point.x;\n        },\n        y1: function y1(d) {\n          return d.point.y;\n        },\n        x2: function x2(d) {\n          return d.handle.x;\n        },\n        y2: function y2(d) {\n          return d.handle.y;\n        }\n      });\n\n      handleLine.exit().remove();\n\n      // The key point.\n      points.enter().append('circle').attr({\n        class: 'curve__point',\n        fill: '#fff',\n        r: 4\n      });\n\n      points.attr({\n        cx: function cx(d) {\n          return d.x;\n        },\n        cy: function cy(d) {\n          return d.y;\n        }\n      });\n\n      points.exit().remove();\n\n      // Handle point.\n      handle.enter().append('circle').attr({\n        class: 'curve__handle',\n        fill: '#aaa',\n        r: 4\n      }).on('mousedown', function () {\n        // Don't trigger mousedown on handler else\n        // it create the selection rectangle\n        d3.event.stopPropagation();\n      }).call(dragHandle);\n\n      handle.attr({\n        cx: function cx(d) {\n          return d.handle.x;\n        },\n        cy: function cy(d) {\n          return d.handle.y;\n        }\n      });\n\n      handle.exit().remove();\n    }\n  }]);\n\n  return PropertyCurveEdit;\n}();\n\nexports.default = PropertyCurveEdit;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ncmFwaC9Qcm9wZXJ0eUN1cnZlRWRpdC5qcz8xOGQwIl0sIm5hbWVzIjpbImQzIiwicmVxdWlyZSIsIlNpZ25hbHMiLCJNQVhfSEVJR0hUIiwiUHJvcGVydHlDdXJ2ZUVkaXQiLCJ0aW1lbGluZSIsImNvbnRhaW5lciIsImR5IiwibWFyZ2luIiwidG9wIiwib25DdXJ2ZVVwZGF0ZWQiLCJTaWduYWwiLCJ2YWwiLCJtaW4iLCJtYXgiLCJtaW4yIiwibWF4MiIsImRpZmYiLCJkaWZmMiIsInQiLCJwdCIsInByZXYiLCJuZXh0IiwieCIsIm5vcm1hbGl6ZVZhbCIsInkiLCJwb2ludHMiLCJwIiwiZm9yRWFjaCIsImkiLCJpc05hTiIsImQiLCJpbnZhbGlkIiwia2V5cyIsImxlbmd0aCIsIl9jdXJ2ZVBvaW50cyIsIl9jdXJ2ZVBvaW50c0JlemllciIsIl9jb250cm9sUG9pbnRzIiwibmFtZSIsIl9taW4iLCJrIiwiX21heCIsImtleSIsInRpbWUiLCJwdXNoIiwiZWFzZSIsImlkIiwiX2lkIiwiX2tleSIsImVhc2luZyIsIlV0aWxzIiwiZ2V0RWFzaW5nUG9pbnRzIiwicDEiLCJiZXppZXJQb2ludCIsInAyIiwiX25leHQiLCJfcHJldiIsIl9YaW5kZXgiLCJfWWluZGV4IiwicG9pbnQiLCJoYW5kbGUiLCJwYXRoIiwiZ2V0UGF0aCIsInNlbGYiLCJ0d2VlblRpbWUiLCJiYXIiLCJzZWxlY3RBbGwiLCJkYXRhIiwiZW50ZXIiLCJhcHBlbmQiLCJhdHRyIiwic2VsZWN0aW9uIiwic2VsZWN0aW9uTWFuYWdlciIsImdldFNlbGVjdGlvbiIsImVkaXRvciIsImN1cnZlRWRpdEVuYWJsZWQiLCJfbGluZSIsImV4aXQiLCJyZW1vdmUiLCJwcm9wVmFsMSIsInByb3BlcnRpZXMiLCJwcm9wS2V5MSIsInNlbGVjdGVkSXRlbSIsImNsYXNzIiwidHJhbnNmb3JtIiwid2lkdGgiLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwibGFiZWxfcG9zaXRpb25feCIsImhlaWdodCIsImN1cnZlS2V5IiwiY3VydmVzIiwicHJvY2Vzc0N1cnZlVmFsdWVzIiwiZmlsbCIsInN0cm9rZSIsInBvaW50VmFsIiwicG9pbnRLZXkiLCJoYW5kbGVWYWwiLCJoYW5kbGVLZXkiLCJoYW5kbGVMaW5lIiwiZHJhZ0hhbmRsZVN0YXJ0IiwiZXZlbnQiLCJzb3VyY2VFdmVudCIsIl9kb20iLCJkcmFnSGFuZGxlTW92ZSIsInByb3BlcnR5RGF0YSIsIl9wcm9wZXJ0eSIsIml0ZW1EYXRhIiwidGltZUJldHdlZW5QcmV2TmV4dCIsIm1vdXNlIiwib2xkX3RpbWUiLCJkeCIsImludmVydCIsImdldFRpbWUiLCJ2YWx1ZUFweCIsInZhbHVlQnB4IiwiTWF0aCIsIl9pc0RpcnR5IiwiZGlzcGF0Y2giLCJkcmFnSGFuZGxlRW5kIiwiZHJhZ0hhbmRsZSIsImJlaGF2aW9yIiwiZHJhZyIsIm9yaWdpbiIsIm9uIiwieDEiLCJ5MSIsIngyIiwieTIiLCJyIiwiY3giLCJjeSIsInN0b3BQcm9wYWdhdGlvbiIsImNhbGwiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBRUE7Ozs7Ozs7O0FBRkEsSUFBSUEsS0FBSyxtQkFBQUMsQ0FBUSxFQUFSLENBQVQ7QUFDQSxJQUFJQyxVQUFVLG1CQUFBRCxDQUFRLENBQVIsQ0FBZDs7O0FBR0EsSUFBTUUsYUFBYSxHQUFuQjs7SUFFcUJDLGlCO0FBQ25CLDZCQUFZQyxRQUFaLEVBQXNCQyxTQUF0QixFQUFpQztBQUFBOztBQUMvQixTQUFLRCxRQUFMLEdBQWdCQSxRQUFoQjtBQUNBLFNBQUtDLFNBQUwsR0FBaUJBLFNBQWpCO0FBQ0EsU0FBS0MsRUFBTCxHQUFVLEtBQUssS0FBS0YsUUFBTCxDQUFjRyxNQUFkLENBQXFCQyxHQUFwQztBQUNBLFNBQUtDLGNBQUwsR0FBc0IsSUFBSVIsUUFBUVMsTUFBWixFQUF0QjtBQUNEOzs7O2lDQUVZQyxHLEVBQUtDLEcsRUFBS0MsRyxFQUFLQyxJLEVBQU1DLEksRUFBTTtBQUN0QyxVQUFJSCxRQUFRRSxJQUFSLElBQWdC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Q1Y0RCxZQUFJLFlBQUNuRyxDQUFEO0FBQUEsaUJBQU9BLEVBQUVSLENBQVQ7QUFBQSxTQURNO0FBRVY0RyxZQUFJLFlBQUNwRyxDQUFEO0FBQUEsaUJBQU9BLEVBQUVOLENBQVQ7QUFBQTtBQUZNLE9BQVo7O0FBS0FDLGFBQU9tRCxJQUFQLEdBQWNDLE1BQWQ7O0FBRUE7QUFDQWxCLGFBQU9RLEtBQVAsR0FDR0MsTUFESCxDQUNVLFFBRFYsRUFFR0MsSUFGSCxDQUVRO0FBQ0phLGVBQU8sZUFESDtBQUVKVSxjQUFNLE1BRkY7QUFHSm9DLFdBQUc7QUFIQyxPQUZSLEVBT0dMLEVBUEgsQ0FPTSxXQVBOLEVBT21CLFlBQVc7QUFDMUI7QUFDQTtBQUNBNUgsV0FBR3FHLEtBQUgsQ0FBUytCLGVBQVQ7QUFDRCxPQVhILEVBWUdDLElBWkgsQ0FZUWIsVUFaUjs7QUFjQTVELGFBQU9VLElBQVAsQ0FBWTtBQUNWNEQsWUFBSSxZQUFDbkcsQ0FBRDtBQUFBLGlCQUFPQSxFQUFFNkIsTUFBRixDQUFTckMsQ0FBaEI7QUFBQSxTQURNO0FBRVY0RyxZQUFJLFlBQUNwRyxDQUFEO0FBQUEsaUJBQU9BLEVBQUU2QixNQUFGLENBQVNuQyxDQUFoQjtBQUFBO0FBRk0sT0FBWjs7QUFLQW1DLGFBQU9pQixJQUFQLEdBQWNDLE1BQWQ7QUFDRDs7Ozs7O2tCQXJVa0IxRSxpQiIsImZpbGUiOiIyMC5qcyIsInNvdXJjZXNDb250ZW50IjpbImxldCBkMyA9IHJlcXVpcmUoJ2QzJyk7XG5sZXQgU2lnbmFscyA9IHJlcXVpcmUoJ2pzLXNpZ25hbHMnKTtcbmltcG9ydCBVdGlscyBmcm9tICcuLi9jb3JlL1V0aWxzJztcblxuY29uc3QgTUFYX0hFSUdIVCA9IDE5MDtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvcGVydHlDdXJ2ZUVkaXQge1xuICBjb25zdHJ1Y3Rvcih0aW1lbGluZSwgY29udGFpbmVyKSB7XG4gICAgdGhpcy50aW1lbGluZSA9IHRpbWVsaW5lO1xuICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgIHRoaXMuZHkgPSAxMCArIHRoaXMudGltZWxpbmUubWFyZ2luLnRvcDtcbiAgICB0aGlzLm9uQ3VydmVVcGRhdGVkID0gbmV3IFNpZ25hbHMuU2lnbmFsKCk7XG4gIH1cblxuICBub3JtYWxpemVWYWwodmFsLCBtaW4sIG1heCwgbWluMiwgbWF4Mikge1xuICAgIGlmIChtaW4gPT09IG1pbjIgJiYgbWF4ID09PSBtYXgyKSB7XG4gICAgICByZXR1cm4gdmFsO1xuICAgIH1cbiAgICBjb25zdCBkaWZmID0gbWF4IC0gbWluO1xuICAgIGNvbnN0IGRpZmYyID0gbWF4MiAtIG1pbjI7XG4gICAgY29uc3QgdCA9ICh2YWwgLSBtaW4pIC8gZGlmZjtcbiAgICByZXR1cm4gbWluMiArIHQgKiBkaWZmMjtcbiAgfVxuXG4gIC8vIEdldCBiZXppZXIgcG9pbnQgZnJvbSBlYXNpbmcgKDAgdG8gMSkgYW5kIHByZXZpb3VzIGFuZCBuZXh0IHBvaW50LlxuICBiZXppZXJQb2ludChwdCwgcHJldiwgbmV4dCkge1xuICAgIGNvbnN0IHggPSB0aGlzLm5vcm1hbGl6ZVZhbChwdC54LCAwLCAxLCBwcmV2LngsIG5leHQueCk7XG4gICAgY29uc3QgeSA9IHRoaXMubm9ybWFsaXplVmFsKHB0LnksIDAsIDEsIHByZXYueSwgbmV4dC55KTtcbiAgICByZXR1cm4ge3gsIHl9O1xuICB9XG5cbiAgLy8gVHJhbnNmb3JtIGFuIGFycmF5IG9mIHBvaW50cyB0byBhIFNWRyBiZXppZXIgcGF0aC5cbiAgZ2V0UGF0aChwb2ludHMpIHtcbiAgICAvLyBQYXRoIGZpcnN0IHN0YXJ0IGJ5IE1vdmUgY29tbWFuZCAoYWJzb2x1dGUpO1xuICAgIGxldCBwID0gYE0gJHtwb2ludHNbMF0ueH0gJHtwb2ludHNbMF0ueX1gO1xuICAgIC8vIFRoZW4gaXQncyBDIGEueCBhLnksIGIueCBiLnksIGMueCB4LnlcbiAgICBwb2ludHMuZm9yRWFjaCgocHQsIGkpID0+IHtcbiAgICAgIC8vIERyb3AgZmlyc3Qgb25lIHNpbmNlIGFscmVhZHkgaW4gJ00nIGNvbW1hbmQgYWJvdmUuXG4gICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgcCArPSAnLCAnO1xuICAgICAgICBpZiAoKGkgLSAxKSAlIDMgPT09IDApIHtcbiAgICAgICAgICBwICs9ICdDICc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzTmFOKHB0LngpIHx8IGlzTmFOKHB0LnkpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHAgKz0gYCR7cHQueH0gJHtwdC55fWA7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHA7XG4gIH1cblxuICBwcm9jZXNzQ3VydmVWYWx1ZXMoZCkge1xuICAgIGxldCBpbnZhbGlkID0gZmFsc2U7XG4gICAgaWYgKGQua2V5cy5sZW5ndGggPD0gMSkge1xuICAgICAgZC5fY3VydmVQb2ludHMgPSBbXTtcbiAgICAgIGQuX2N1cnZlUG9pbnRzQmV6aWVyID0gW107XG4gICAgICBkLl9jb250cm9sUG9pbnRzID0gW107XG4gICAgICByZXR1cm4gW3twb2ludHM6IFtdLCBuYW1lOiBkLm5hbWV9XTtcbiAgICB9XG4gICAgLy8gcHJlcHJvY2VzcyBtaW4gYW5kIG1heCBmb3Iga2V5cy5cbiAgICBkLl9taW4gPSBkMy5taW4oZC5rZXlzLCAoaykgPT4gay52YWwpO1xuICAgIGQuX21heCA9IGQzLm1heChkLmtleXMsIChrKSA9PiBrLnZhbCk7XG5cbiAgICBkLl9jdXJ2ZVBvaW50cyA9IFtdO1xuICAgIC8vIHNldCByYXcgcG9pbnRzLCB3aXRob3V0IGJlemllciBjb250cm9sIHlldC5cbiAgICBkLmtleXMuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICBjb25zdCB4ID0gdGhpcy50aW1lbGluZS54KGtleS50aW1lICogMTAwMCk7XG4gICAgICBjb25zdCB5ID0gdGhpcy5ub3JtYWxpemVWYWwoa2V5LnZhbCwgZC5fbWluLCBkLl9tYXgsIDAsIE1BWF9IRUlHSFQpO1xuICAgICAgZC5fY3VydmVQb2ludHMucHVzaCh7eCwgeSwgZWFzZToga2V5LmVhc2UsIGlkOiBgY3VydmUxLSR7a2V5Ll9pZH1gLCBfa2V5OiBrZXl9KTtcbiAgICB9KTtcblxuICAgIC8vIENvbnRyb2wgcG9pbnRzLCBncm91cGVkIGJ5IHBvaW50ICsgaGFuZGxlLlxuICAgIGQuX2NvbnRyb2xQb2ludHMgPSBbXTtcbiAgICAvLyBBZGQgYWxsIHBvaW50cywgd2l0aCBjb250cm9scyBiZXppZXIuIChwMSwgYmV6aWVyMSwgYmV6aWVyMiwgcDIsIOKApikuXG4gICAgZC5fY3VydmVQb2ludHNCZXppZXIgPSBbXTtcbiAgICBkLl9jdXJ2ZVBvaW50cy5mb3JFYWNoKChwdCwgaSkgPT4ge1xuICAgICAgY29uc3QgbmV4dCA9IGQuX2N1cnZlUG9pbnRzW2kgKyAxXTtcbiAgICAgIC8vIElmIG5vbiBudW1iZXIgcG9pbnRzIHJldHVybiBhbiBlbXB0eSBwYXRoLlxuICAgICAgaWYgKGlzTmFOKHB0LngpIHx8IGlzTmFOKHB0LnkpKSB7XG4gICAgICAgIGludmFsaWQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgZC5fY3VydmVQb2ludHNCZXppZXIucHVzaCh7eDogcHQueCwgeTogcHQueSwgZWFzZTogcHQuZWFzZSwgX2tleTogcHQuX2tleX0pO1xuICAgICAgaWYgKG5leHQpIHtcbiAgICAgICAgY29uc3QgZWFzaW5nID0gVXRpbHMuZ2V0RWFzaW5nUG9pbnRzKG5leHQuZWFzZSk7XG4gICAgICAgIGNvbnN0IHAxID0gdGhpcy5iZXppZXJQb2ludCh7eDogZWFzaW5nWzBdLCB5OiBlYXNpbmdbMV19LCBwdCwgbmV4dCk7XG4gICAgICAgIGNvbnN0IHAyID0gdGhpcy5iZXppZXJQb2ludCh7eDogZWFzaW5nWzJdLCB5OiBlYXNpbmdbM119LCBwdCwgbmV4dCk7XG5cbiAgICAgICAgLy8gU2F2ZSBwcmV2IHBvaW50IGZvciB0aW1lIGNhbGN1bGF0aW9uIG9uIGRyYWcgbW92ZS5cbiAgICAgICAgcDEuX25leHQgPSBuZXh0O1xuICAgICAgICBwMi5fbmV4dCA9IG5leHQ7XG4gICAgICAgIHAxLl9wcmV2ID0gcHQ7XG4gICAgICAgIHAyLl9wcmV2ID0gcHQ7XG4gICAgICAgIC8vIFRoZSBpbmRleCBvZiB0aGUgaGFuZGxlcyBpbiB0aGUgZWFzaW5nLlxuICAgICAgICBwMS5fWGluZGV4ID0gMDtcbiAgICAgICAgcDEuX1lpbmRleCA9IDE7XG4gICAgICAgIHAyLl9YaW5kZXggPSAyO1xuICAgICAgICBwMi5fWWluZGV4ID0gMztcbiAgICAgICAgZC5fY3VydmVQb2ludHNCZXppZXIucHVzaChwMSk7XG4gICAgICAgIGQuX2N1cnZlUG9pbnRzQmV6aWVyLnB1c2gocDIpO1xuICAgICAgICAvLyBJZiBub24gbnVtYmVyIHBvaW50cyByZXR1cm4gYW4gZW1wdHkgcGF0aC5cbiAgICAgICAgaWYgKGlzTmFOKG5leHQueCkgfHwgaXNOYU4obmV4dC55KSB8fFxuICAgICAgICAgICAgaXNOYU4ocDEueCkgfHwgaXNOYU4ocDEueSkgfHxcbiAgICAgICAgICAgIGlzTmFOKHAyLngpIHx8IGlzTmFOKHAyLnkpKSB7XG4gICAgICAgICAgaW52YWxpZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZC5fY29udHJvbFBvaW50cy5wdXNoKHtwb2ludDogcHQsIGhhbmRsZTogcDEsIGlkOiBgJHtwdC5fa2V5Ll9pZH0tYWB9KTtcbiAgICAgICAgZC5fY29udHJvbFBvaW50cy5wdXNoKHtwb2ludDogbmV4dCwgaGFuZGxlOiBwMiwgaWQ6IGAke3B0Ll9rZXkuX2lkfS1iYH0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IHBhdGggPSB0aGlzLmdldFBhdGgoZC5fY3VydmVQb2ludHNCZXppZXIpO1xuICAgIC8vIElmIGludmFsaWQgcGF0aCAobm9uIG51bWJlciBwb2ludHMpIHJldHVybiBhbiBlbXB0eSBwYXRoLlxuICAgIGlmICghcGF0aCB8fCBpbnZhbGlkKSB7XG4gICAgICBkLl9jdXJ2ZVBvaW50cyA9IFtdO1xuICAgICAgZC5fY3VydmVQb2ludHNCZXppZXIgPSBbXTtcbiAgICAgIGQuX2NvbnRyb2xQb2ludHMgPSBbXTtcbiAgICAgIHJldHVybiBbe3BvaW50czogW10sIG5hbWU6IGQubmFtZX1dO1xuICAgIH1cbiAgICByZXR1cm4gW3twb2ludHM6IGQuX2N1cnZlUG9pbnRzLCBwYXRoLCBuYW1lOiBkLm5hbWV9XTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCB0d2VlblRpbWUgPSBzZWxmLnRpbWVsaW5lLnR3ZWVuVGltZTtcblxuICAgIGNvbnN0IGJhciA9IHRoaXMuY29udGFpbmVyLnNlbGVjdEFsbCgnLmN1cnZlLWdycCcpXG4gICAgICAuZGF0YSh0aGlzLnRpbWVsaW5lLnR3ZWVuVGltZS5kYXRhLCAoZCkgPT4gZC5pZCk7XG5cbiAgICBiYXIuZW50ZXIoKVxuICAgICAgLmFwcGVuZCgnc3ZnJykuYXR0cignY2xhc3MnLCAnY3VydmUtZ3JwIHRpbWVsaW5lX19yaWdodC1tYXNrJyk7XG5cbiAgICAvLyBTaG93IGN1cnZlcyBvbmx5IGlmIGN1cnZlIGVkaXRvciBtb2RlLlxuICAgIGJhci5hdHRyKCdkaXNwbGF5JywgKGQpID0+IHtcbiAgICAgIGNvbnN0IHNlbGVjdGlvbiA9IHNlbGYudGltZWxpbmUuc2VsZWN0aW9uTWFuYWdlci5nZXRTZWxlY3Rpb24oKTtcblxuICAgICAgaWYgKHRoaXMudGltZWxpbmUuZWRpdG9yLmN1cnZlRWRpdEVuYWJsZWQpIHtcbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhpcyBpdGVtIGlzIGluIHNlbGVjdGlvbi5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWxlY3Rpb24ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAoc2VsZWN0aW9uW2ldLmlkID09PSBkLmlkKSB7XG4gICAgICAgICAgICByZXR1cm4gJ2Jsb2NrJztcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gSWYgd2Ugc2VsZWN0ZWQgYSBwcm9wZXJ0eSBpbnNpZGUgdGhlIGl0ZW0uXG4gICAgICAgICAgaWYgKHNlbGVjdGlvbltpXS5fbGluZSAmJiBzZWxlY3Rpb25baV0uX2xpbmUuaWQgPT09IGQuaWQpIHtcbiAgICAgICAgICAgIHJldHVybiAnYmxvY2snO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuICdub25lJztcbiAgICB9KTtcblxuICAgIGJhci5leGl0KCkucmVtb3ZlKCk7XG5cbiAgICBjb25zdCBwcm9wVmFsMSA9IChkKSA9PiBkLnByb3BlcnRpZXMgfHwgW107XG4gICAgY29uc3QgcHJvcEtleTEgPSAoZCkgPT4gZC5uYW1lO1xuXG4gICAgY29uc3QgcHJvcGVydGllcyA9IGJhci5zZWxlY3RBbGwoJy5jdXJ2ZXMtcHJldmlldycpXG4gICAgICAuZGF0YShwcm9wVmFsMSwgcHJvcEtleTEpXG4gICAgICAuYXR0cignZGlzcGxheScsIChkKSA9PiB7XG4gICAgICAgIGNvbnN0IHNlbGVjdGlvbiA9IHNlbGYudGltZWxpbmUuc2VsZWN0aW9uTWFuYWdlci5nZXRTZWxlY3Rpb24oKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWxlY3Rpb24ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBjb25zdCBzZWxlY3RlZEl0ZW0gPSBzZWxlY3Rpb25baV07XG4gICAgICAgICAgaWYgKHNlbGVjdGVkSXRlbS5uYW1lICYmIHNlbGVjdGVkSXRlbS5uYW1lID09PSBkLm5hbWUpIHtcbiAgICAgICAgICAgIC8vIEFsc28gY2hlY2sgdGhhdCBpdCBpcyBmcm9tIHRoZSBzYW1lIGl0ZW0uXG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRJdGVtLl9saW5lLmlkID09PSBkLl9saW5lLmlkKSB7XG4gICAgICAgICAgICAgIHJldHVybiAnYmxvY2snO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBJZiB3ZSBoYXZlIHNlbGVjdGVkIHRoZSB3aG9sZSBpdGVtIHNob3cgdGhlIGN1cnZlIHRvby5cbiAgICAgICAgICBpZiAoc2VsZWN0ZWRJdGVtLmlkICYmIHNlbGVjdGVkSXRlbS5pZCA9PT0gZC5fbGluZS5pZCkge1xuICAgICAgICAgICAgcmV0dXJuICdibG9jayc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAnbm9uZSc7XG4gICAgICB9KTtcblxuICAgIHByb3BlcnRpZXMuZW50ZXIoKVxuICAgICAgLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cih7XG4gICAgICAgIGNsYXNzOiAnY3VydmVzLXByZXZpZXcnLFxuICAgICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoMCwxMCknLFxuICAgICAgICB3aWR0aDogd2luZG93LmlubmVyV2lkdGggLSBzZWxmLnRpbWVsaW5lLmxhYmVsX3Bvc2l0aW9uX3gsXG4gICAgICAgIGhlaWdodDogMzAwXG4gICAgICB9KTtcblxuICAgIHByb3BlcnRpZXMuZXhpdCgpLnJlbW92ZSgpO1xuXG4gICAgY29uc3QgY3VydmVLZXkgPSAoZCkgPT4gZC5uYW1lO1xuICAgIHZhciBjdXJ2ZXMgPSBwcm9wZXJ0aWVzLnNlbGVjdEFsbCgnLmN1cnZlJylcbiAgICAgIC5kYXRhKChkKSA9PiB0aGlzLnByb2Nlc3NDdXJ2ZVZhbHVlcyhkKSwgY3VydmVLZXkpO1xuXG4gICAgY3VydmVzLmVudGVyKClcbiAgICAgIC5hcHBlbmQoJ3BhdGgnKVxuICAgICAgLmF0dHIoe1xuICAgICAgICBjbGFzczogJ2N1cnZlJyxcbiAgICAgICAgZmlsbDogJ25vbmUnLFxuICAgICAgICBzdHJva2U6ICcjYWFhJ1xuICAgICAgfSk7XG5cbiAgICBjdXJ2ZXMuYXR0cignZCcsIChkKSA9PiBkLnBhdGgpO1xuXG4gICAgY3VydmVzLmV4aXQoKS5yZW1vdmUoKTtcblxuICAgIGNvbnN0IHBvaW50VmFsID0gKGQpID0+IGQuX2N1cnZlUG9pbnRzIHx8IFtdO1xuICAgIGNvbnN0IHBvaW50S2V5ID0gKGQpID0+IGQuaWQ7XG4gICAgY29uc3QgaGFuZGxlVmFsID0gKGQpID0+IGQuX2NvbnRyb2xQb2ludHMgfHwgW107XG4gICAgY29uc3QgaGFuZGxlS2V5ID0gKGQpID0+IGQuaWQ7XG5cbiAgICBjb25zdCBoYW5kbGUgPSBwcm9wZXJ0aWVzLnNlbGVjdEFsbCgnLmN1cnZlX19oYW5kbGUnKVxuICAgICAgLmRhdGEoaGFuZGxlVmFsLCBoYW5kbGVLZXkpO1xuXG4gICAgY29uc3QgaGFuZGxlTGluZSA9IHByb3BlcnRpZXMuc2VsZWN0QWxsKCcuY3VydmVfX2hhbmRsZS1saW5lJylcbiAgICAgIC5kYXRhKGhhbmRsZVZhbCwgaGFuZGxlS2V5KTtcblxuICAgIGNvbnN0IHBvaW50cyA9IHByb3BlcnRpZXMuc2VsZWN0QWxsKCcuY3VydmVfX3BvaW50JylcbiAgICAgIC5kYXRhKHBvaW50VmFsLCBwb2ludEtleSk7XG5cbiAgICAvLyBIYW5kbGUgbGluZS5cbiAgICBjb25zdCBkcmFnSGFuZGxlU3RhcnQgPSBmdW5jdGlvbihkKSB7XG4gICAgICB2YXIgZXZlbnQgPSBkMy5ldmVudDtcbiAgICAgIC8vIHdpdGggZHJhZ3N0YXJ0IGV2ZW50IHRoZSBtb3VzZXZlbnQgaXMgaXMgaW5zaWRlIHRoZSBldmVudC5zb3VyY0V2ZW50XG4gICAgICBpZiAoZXZlbnQuc291cmNlRXZlbnQpIHtcbiAgICAgICAgZXZlbnQgPSBldmVudC5zb3VyY2VFdmVudDtcbiAgICAgIH1cblxuICAgICAgLy8gQWxzbyBrZWVwIGEgcmVmZXJlbmNlIHRvIHRoZSBrZXkgZG9tIGVsZW1lbnQuXG4gICAgICBkLl9kb20gPSB0aGlzO1xuICAgIH07XG5cbiAgICBjb25zdCBkcmFnSGFuZGxlTW92ZSA9IGZ1bmN0aW9uKGQpIHtcbiAgICAgIHZhciBzb3VyY2VFdmVudCA9IGQzLmV2ZW50LnNvdXJjZUV2ZW50O1xuXG4gICAgICBjb25zdCBwb2ludCA9IGQuaGFuZGxlLl9uZXh0O1xuICAgICAgY29uc3QgcHJldiA9IGQuaGFuZGxlLl9wcmV2O1xuICAgICAgY29uc3QgaGFuZGxlID0gZC5oYW5kbGU7XG4gICAgICBjb25zdCBrZXkgPSBwb2ludC5fa2V5O1xuICAgICAgY29uc3QgcHJvcGVydHlEYXRhID0gcHJldi5fa2V5Ll9wcm9wZXJ0eTtcbiAgICAgIGNvbnN0IGl0ZW1EYXRhID0gcHJvcGVydHlEYXRhLl9saW5lO1xuXG4gICAgICAvLyBHZXQgZWFzZSBhcnJheS5cbiAgICAgIGNvbnN0IGVhc2UgPSBVdGlscy5nZXRFYXNpbmdQb2ludHMocG9pbnQuZWFzZSk7XG4gICAgICBjb25zdCB0aW1lQmV0d2VlblByZXZOZXh0ID0ga2V5LnRpbWUgLSBwcmV2Ll9rZXkudGltZTtcblxuICAgICAgY29uc3QgbW91c2UgPSBkMy5tb3VzZSh0aGlzKTtcbiAgICAgIGNvbnN0IG9sZF90aW1lID0ga2V5LnRpbWU7XG4gICAgICBsZXQgZHggPSBzZWxmLnRpbWVsaW5lLnguaW52ZXJ0KG1vdXNlWzBdKTtcbiAgICAgIGR4ID0gZHguZ2V0VGltZSgpIC8gMTAwMDtcbiAgICAgIGR4ID0gKGR4IC0gcHJldi5fa2V5LnRpbWUpIC8gdGltZUJldHdlZW5QcmV2TmV4dDtcblxuXG4gICAgICAvLyBHZXQgcG9pbnQgQSB2YWx1ZSB0b3AgaW4gcHguXG4gICAgICBjb25zdCB2YWx1ZUFweCA9IHNlbGYubm9ybWFsaXplVmFsKHByZXYuX2tleS52YWwsIHByb3BlcnR5RGF0YS5fbWluLCBwcm9wZXJ0eURhdGEuX21heCwgMCwgTUFYX0hFSUdIVCk7XG4gICAgICAvLyBTYW1lIGZvciBCIGtleSB2YWx1ZVxuICAgICAgY29uc3QgdmFsdWVCcHggPSBzZWxmLm5vcm1hbGl6ZVZhbChwb2ludC5fa2V5LnZhbCwgcHJvcGVydHlEYXRhLl9taW4sIHByb3BlcnR5RGF0YS5fbWF4LCAwLCBNQVhfSEVJR0hUKTtcblxuICAgICAgdmFyIGR5ID0gKG1vdXNlWzFdIC0gdmFsdWVBcHgpIC8gKHZhbHVlQnB4IC0gdmFsdWVBcHgpO1xuXG4gICAgICAvLyBkeCBpcyByZXN0cmljdGVkIHRvIDAgLSAxLlxuICAgICAgZHggPSBNYXRoLm1pbigxLCBNYXRoLm1heCgwLCBkeCkpO1xuXG4gICAgICBlYXNlW2hhbmRsZS5fWGluZGV4XSA9IGR4O1xuICAgICAgZWFzZVtoYW5kbGUuX1lpbmRleF0gPSBkeTtcbiAgICAgIHBvaW50Ll9rZXkuZWFzZSA9IGVhc2U7XG5cbiAgICAgIHByb3BlcnR5RGF0YS5faXNEaXJ0eSA9IHRydWU7XG4gICAgICBpdGVtRGF0YS5faXNEaXJ0eSA9IHRydWU7XG4gICAgICBzZWxmLm9uQ3VydmVVcGRhdGVkLmRpc3BhdGNoKCk7XG4gICAgfTtcblxuICAgIGNvbnN0IGRyYWdIYW5kbGVFbmQgPSAoZCkgPT4ge1xuXG4gICAgfTtcblxuICAgIGNvbnN0IGRyYWdIYW5kbGUgPSBkMy5iZWhhdmlvci5kcmFnKClcbiAgICAgIC5vcmlnaW4oKGQpID0+IHtyZXR1cm4gZDt9KVxuICAgICAgLm9uKCdkcmFnJywgZHJhZ0hhbmRsZU1vdmUpXG4gICAgICAub24oJ2RyYWdzdGFydCcsIGRyYWdIYW5kbGVTdGFydClcbiAgICAgIC5vbignZHJhZ2VuZCcsIGRyYWdIYW5kbGVFbmQpO1xuXG4gICAgaGFuZGxlTGluZS5lbnRlcigpXG4gICAgICAuYXBwZW5kKCdsaW5lJylcbiAgICAgIC5hdHRyKHtcbiAgICAgICAgY2xhc3M6ICdjdXJ2ZV9faGFuZGxlLWxpbmUnLFxuICAgICAgICBmaWxsOiAnbm9uZSdcbiAgICAgIH0pO1xuXG4gICAgaGFuZGxlTGluZS5hdHRyKHtcbiAgICAgIHgxOiAoZCkgPT4gZC5wb2ludC54LFxuICAgICAgeTE6IChkKSA9PiBkLnBvaW50LnksXG4gICAgICB4MjogKGQpID0+IGQuaGFuZGxlLngsXG4gICAgICB5MjogKGQpID0+IGQuaGFuZGxlLnlcbiAgICB9KTtcblxuICAgIGhhbmRsZUxpbmUuZXhpdCgpLnJlbW92ZSgpO1xuXG4gICAgLy8gVGhlIGtleSBwb2ludC5cbiAgICBwb2ludHMuZW50ZXIoKVxuICAgICAgLmFwcGVuZCgnY2lyY2xlJylcbiAgICAgIC5hdHRyKHtcbiAgICAgICAgY2xhc3M6ICdjdXJ2ZV9fcG9pbnQnLFxuICAgICAgICBmaWxsOiAnI2ZmZicsXG4gICAgICAgIHI6IDRcbiAgICAgIH0pO1xuXG4gICAgcG9pbnRzLmF0dHIoe1xuICAgICAgY3g6IChkKSA9PiBkLngsXG4gICAgICBjeTogKGQpID0+IGQueVxuICAgIH0pO1xuXG4gICAgcG9pbnRzLmV4aXQoKS5yZW1vdmUoKTtcblxuICAgIC8vIEhhbmRsZSBwb2ludC5cbiAgICBoYW5kbGUuZW50ZXIoKVxuICAgICAgLmFwcGVuZCgnY2lyY2xlJylcbiAgICAgIC5hdHRyKHtcbiAgICAgICAgY2xhc3M6ICdjdXJ2ZV9faGFuZGxlJyxcbiAgICAgICAgZmlsbDogJyNhYWEnLFxuICAgICAgICByOiA0XG4gICAgICB9KVxuICAgICAgLm9uKCdtb3VzZWRvd24nLCBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gRG9uJ3QgdHJpZ2dlciBtb3VzZWRvd24gb24gaGFuZGxlciBlbHNlXG4gICAgICAgIC8vIGl0IGNyZWF0ZSB0aGUgc2VsZWN0aW9uIHJlY3RhbmdsZVxuICAgICAgICBkMy5ldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIH0pXG4gICAgICAuY2FsbChkcmFnSGFuZGxlKTtcblxuICAgIGhhbmRsZS5hdHRyKHtcbiAgICAgIGN4OiAoZCkgPT4gZC5oYW5kbGUueCxcbiAgICAgIGN5OiAoZCkgPT4gZC5oYW5kbGUueVxuICAgIH0pO1xuXG4gICAgaGFuZGxlLmV4aXQoKS5yZW1vdmUoKTtcbiAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vZ3JhcGgvUHJvcGVydHlDdXJ2ZUVkaXQuanMiXSwic291cmNlUm9vdCI6IiJ9");
},function(module,exports,__webpack_require__){eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Utils = __webpack_require__(1);\n\nvar _Utils2 = _interopRequireDefault(_Utils);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar d3 = __webpack_require__(15);\nvar Signals = __webpack_require__(6);\n\nvar _ = __webpack_require__(12);\n\nvar Keys = function () {\n  function Keys(timeline) {\n    _classCallCheck(this, Keys);\n\n    this.timeline = timeline;\n    this.onKeyUpdated = new Signals.Signal();\n  }\n\n  _createClass(Keys, [{\n    key: 'selectNewKey',\n    value: function selectNewKey(data) {\n      var self = this;\n      var key = d3.selectAll('.key').filter(function (item) {\n        return item._id === data._id;\n      });\n      if (key.length) {\n        d3.selectAll('.key--selected').classed('key--selected', false);\n        key.classed('key--selected', true);\n        key = key[0][0];\n        data._dom = key;\n        self.timeline.selectionManager.select(data);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render(properties) {\n      var self = this;\n      var tweenTime = self.timeline.tweenTime;\n\n      var dragmove = function dragmove(key_data) {\n        var sourceEvent = d3.event.sourceEvent;\n        var propertyData = key_data._property;\n        var lineData = propertyData._line;\n\n        var currentDomainStart = self.timeline.x.domain()[0];\n        var mouse = d3.mouse(this);\n        var old_time = key_data.time;\n        var dx = self.timeline.x.invert(mouse[0]);\n        dx = dx.getTime();\n        dx = dx / 1000 - currentDomainStart / 1000;\n        dx = key_data.time + dx;\n\n        var selection = self.timeline.selectionManager.getSelection();\n        var selection_first_time = false;\n        var selection_last_time = false;\n        if (selection.length) {\n          selection_first_time = selection[0].time;\n          selection_last_time = selection[selection.length - 1].time;\n        }\n\n        selection = _.filter(selection, function (item) {\n          return _.isEqual(item, key_data) === false;\n        });\n\n        var timeMatch = false;\n        if (sourceEvent.shiftKey) {\n          timeMatch = _Utils2.default.getClosestTime(tweenTime.data, dx, lineData.id, propertyData.name, tweenTime.timer);\n        }\n        if (timeMatch === false) {\n          timeMatch = dx;\n        }\n\n        key_data.time = timeMatch;\n        // Sort the keys of the current selected item.\n        propertyData.keys = _Utils2.default.sortKeys(propertyData.keys);\n        var time_offset = key_data.time - old_time;\n\n        var updateKeyItem = function updateKeyItem(item) {\n          var property = item._property;\n          property._line._isDirty = true;\n          property.keys = _Utils2.default.sortKeys(property.keys);\n        };\n\n        var key_scale = false;\n        var is_first = false;\n        if (selection.length) {\n          if (sourceEvent.altKey && selection_first_time !== false && selection_last_time !== false) {\n            is_first = selection_first_time === old_time;\n            if (is_first) {\n              key_scale = (selection_last_time - key_data.time) / (selection_last_time - old_time);\n            } else {\n              key_scale = (key_data.time - selection_first_time) / (old_time - selection_first_time);\n            }\n          }\n\n          for (var i = 0; i < selection.length; i++) {\n            var data = selection[i];\n            if (key_scale === false) {\n              data.time += time_offset;\n            } else {\n              if (is_first) {\n                data.time = selection_last_time - (selection_last_time - data.time) * key_scale;\n              } else {\n                data.time = selection_first_time + (data.time - selection_first_time) * key_scale;\n              }\n            }\n            updateKeyItem(data);\n          }\n        }\n\n        lineData._isDirty = true;\n        self.onKeyUpdated.dispatch();\n      };\n\n      var propValue = function propValue(d) {\n        return d.keys;\n      };\n      var propKey = function propKey(d) {\n        if (!d._id) {\n          d._id = _Utils2.default.guid();\n        }\n        return d._id;\n      };\n      var keys = properties.select('.line-item__keys').selectAll('.key').data(propValue, propKey);\n\n      // Hide keys if curve editor mode.\n      properties.select('.line-item__keys').attr('display', function () {\n        if (!self.timeline.editor.curveEditEnabled) {\n          return 'block';\n        }\n        return 'none';\n      });\n\n      // selectKey is triggered by dragstart event\n      var selectKey = function selectKey(key_data) {\n        var event = d3.event;\n        // with dragstart event the mousevent is is inside the event.sourcEvent\n        if (event.sourceEvent) {\n          event = event.sourceEvent;\n        }\n\n        var addToSelection = event.shiftKey;\n        // if element is already selectionned and we are on\n        // the dragstart event, we stop there since it is already selected.\n        if (d3.event.type && d3.event.type === 'dragstart') {\n          if (d3.select(this).classed('key--selected')) {\n            return;\n          }\n        }\n\n        // Also keep a reference to the key dom element.\n        key_data._dom = this;\n\n        self.timeline.selectionManager.select(key_data, addToSelection);\n      };\n\n      var dragend = function dragend() {\n        self.timeline.editor.undoManager.addState();\n      };\n\n      var drag = d3.behavior.drag().origin(function (d) {\n        return d;\n      }).on('drag', dragmove).on('dragstart', selectKey).on('dragend', dragend);\n\n      var key_grp = keys.enter().append('g').attr('class', 'key')\n      // Use the unique id added in propKey above for the dom element id.\n      .attr('id', function (d) {\n        return d._id;\n      }).on('mousedown', function () {\n        // Don't trigger mousedown on linescontainer else\n        // it create the selection rectangle\n        d3.event.stopPropagation();\n      }).call(drag);\n\n      properties.selectAll('.key').attr('class', function (d) {\n        var cls = 'key';\n        // keep selected class\n        if (d3.select(this).classed('key--selected')) {\n          cls += ' key--selected';\n        }\n        if (d.ease) {\n          if (Array.isArray(d.ease)) {\n            cls += ' easeCustom';\n          } else {\n            var ease = d.ease.split('.');\n            if (ease.length === 2) {\n              cls += ' ' + ease[1];\n            }\n          }\n        } else {\n          // If no easing specified, the it's the default Quad.easeOut\n          cls += ' easeOut';\n        }\n        return cls;\n      });\n\n      var grp_linear = key_grp.append('g').attr('class', 'ease-linear');\n      grp_linear.append('path').attr('class', 'key__shape-arrow').attr('d', 'M 0 -6 L 6 0 L 0 6');\n      grp_linear.append('path').attr('class', 'key__shape-arrow').attr('d', 'M 0 -6 L -6 0 L 0 6');\n\n      var grp_in = key_grp.append('g').attr('class', 'ease-in');\n      grp_in.append('path').attr('class', 'key__shape-rect').attr('d', 'M 0 -6 L 0 6 L 4 5 L 1 0 L 4 -5');\n      grp_in.append('path').attr('class', 'key__shape-arrow').attr('d', 'M 0 -6 L -6 0 L 0 6');\n\n      var grp_out = key_grp.append('g').attr('class', 'ease-out');\n      grp_out.append('path').attr('class', 'key__shape-rect').attr('d', 'M 0 -6 L 0 6 L -4 5 L -1 0 L -4 -5');\n      grp_out.append('path').attr('class', 'key__shape-arrow').attr('d', 'M 0 -6 L 6 0 L 0 6');\n\n      var grp_inout = key_grp.append('g').attr('class', 'ease-inout');\n      grp_inout.append('circle').attr('cx', 0).attr('cy', 0).attr('r', 5);\n\n      var grp_custom = key_grp.append('g').attr('class', 'ease-custom');\n      grp_custom.append('path').attr('class', 'key__shape-arrow').attr('d', 'M 0 -6 L 6 0 L 0 6').attr({\n        transform: 'translate(-5, 0)'\n      });\n\n      var g2 = grp_custom.append('g').attr({\n        transform: 'scale(-1, 1) translate(-5, 0)'\n      });\n\n      g2.append('path').attr('class', 'key__shape-arrow').attr('d', 'M 0 -6 L 6 0 L 0 6');\n\n      keys.attr('transform', function (d) {\n        var dx = self.timeline.x(d.time * 1000);\n        dx = parseInt(dx, 10);\n        var dy = 10;\n        return 'translate(' + dx + ',' + dy + ')';\n      });\n\n      keys.exit().remove();\n    }\n  }]);\n\n  return Keys;\n}();\n\nexports.default = Keys;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ncmFwaC9LZXlzLmpzPzIzM2IiXSwibmFtZXMiOlsiZDMiLCJyZXF1aXJlIiwiU2lnbmFscyIsIl8iLCJLZXlzIiwidGltZWxpbmUiLCJvbktleVVwZGF0ZWQiLCJTaWduYWwiLCJkYXRhIiwic2VsZiIsImtleSIsInNlbGVjdEFsbCIsImZpbHRlciIsIml0ZW0iLCJfaWQiLCJsZW5ndGgiLCJjbGFzc2VkIiwiX2RvbSIsInNlbGVjdGlvbk1hbmFnZXIiLCJzZWxlY3QiLCJwcm9wZXJ0aWVzIiwidHdlZW5UaW1lIiwiZHJhZ21vdmUiLCJrZXlfZGF0YSIsInNvdXJjZUV2ZW50IiwiZXZlbnQiLCJwcm9wZXJ0eURhdGEiLCJfcHJvcGVydHkiLCJsaW5lRGF0YSIsIl9saW5lIiwiY3VycmVudERvbWFpblN0YXJ0IiwieCIsImRvbWFpbiIsIm1vdXNlIiwib2xkX3RpbWUiLCJ0aW1lIiwiZHgiLCJpbnZlcnQiLCJnZXRUaW1lIiwic2VsZWN0aW9uIiwiZ2V0U2VsZWN0aW9uIiwic2VsZWN0aW9uX2ZpcnN0X3RpbWUiLCJzZWxlY3Rpb25fbGFzdF90aW1lIiwiaXNFcXVhbCIsInRpbWVNYXRjaCIsInNoaWZ0S2V5IiwiVXRpbHMiLCJnZXRDbG9zZXN0VGltZSIsImlkIiwibmFtZSIsInRpbWVyIiwia2V5cyIsInNvcnRLZXlzIiwidGltZV9vZmZzZXQiLCJ1cGRhdGVLZXlJdGVtIiwicHJvcGVydHkiLCJfaXNEaXJ0eSIsImtleV9zY2FsZSIsImlzX2ZpcnN0IiwiYWx0S2V5IiwiaSIsImRpc3BhdGNoIiwicHJvcFZhbHVlIiwiZCIsInByb3BLZXkiLCJndWlkIiwiYXR0ciIsImVkaXRvciIsImN1cnZlRWRpdEVuYWJsZWQiLCJzZWxlY3RLZXkiLCJhZGRUb1NlbGVjdGlvbiIsInR5cGUiLCJkcmFnZW5kIiwidW5kb01hbmFnZXIiLCJhZGRTdGF0ZSIsImRyYWciLCJiZWhhdmlvciIsIm9yaWdpbiIsIm9uIiwia2V5X2dycCIsImVudGVyIiwiYXBwZW5kIiwic3RvcFByb3BhZ2F0aW9uIiwiY2FsbCIsImNscyIsImVhc2UiLCJBcnJheSIsImlzQXJyYXkiLCJzcGxpdCIsImdycF9saW5lYXIiLCJncnBfaW4iLCJncnBfb3V0IiwiZ3JwX2lub3V0IiwiZ3JwX2N1c3RvbSIsInRyYW5zZm9ybSIsImcyIiwicGFyc2VJbnQiLCJkeSIsImV4aXQiLCJyZW1vdmUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBRUE7Ozs7Ozs7O0FBRkEsSUFBSUEsS0FBSyxtQkFBQUMsQ0FBUSxFQUFSLENBQVQ7QUFDQSxJQUFJQyxVQUFVLG1CQUFBRCxDQUFRLENBQVIsQ0FBZDs7QUFFQSxJQUFJRSxJQUFJLG1CQUFBRixDQUFRLEVBQVIsQ0FBUjs7SUFFcUJHLEk7QUFDbkIsZ0JBQVlDLFFBQVosRUFBc0I7QUFBQTs7QUFDcEIsU0FBS0EsUUFBTCxHQUFnQkEsUUFBaEI7QUFDQSxTQUFLQyxZQUFMLEdBQW9CLElBQUlKLFFBQVFLLE1BQVosRUFBcEI7QUFDRDs7OztpQ0FFWUMsSSxFQUFNO0FBQ2pCLFVBQUlDLE9BQU8sSUFBWDtBQUNBLFVBQUlDLE1BQU1WLEdBQUdXLFNBQUgsQ0FBYSxNQUFiLEVBQXFCQyxNQUFyQixDQUE0QixVQUFTQyxJQUFULEVBQWU7QUFDbkQsZUFBT0EsS0FBS0MsR0FBTCxLQUFhTixLQUFLTSxHQUF6QjtBQUNELE9BRlMsQ0FBVjtBQUdBLFVBQUlKLElBQUlLLE1BQVIsRUFBZ0I7QUFDZGYsV0FBR1csU0FBSCxDQUFhLGdCQUFiLEVBQStCSyxPQUEvQixDQUF1QyxlQUF2QyxFQUF3RCxLQUF4RDtBQUNBTixZQUFJTSxPQUFKLENBQVksZUFBWixFQUE2QixJQUE3QjtBQUNBTixjQUFNQSxJQUFJLENBQUosRUFBTyxDQUFQLENBQU47QUFDQUYsYUFBS1MsSUFBTCxHQUFZUCxHQUFaO0FBQ0FELGFBQUtKLFFBQUwsQ0FBY2EsZ0JBQWQsQ0FBK0JDLE1BQS9CLENBQXNDWCxJQUF0QztBQUNEO0FBQ0Y7OzsyQkFFTVksVSxFQUFZO0FBQ2pCLFVBQU1YLE9BQU8sSUFBYjtBQUNBLFVBQU1ZLFlBQVlaLEtBQUtKLFFBQUwsQ0FBY2dCLFNBQWhDOztBQUVBLFVBQU1DLFdBQVcsU0FBWEEsUUFBVyxDQUFTQyxRQUFULEVBQW1CO0FBQ2xDLFlBQU1DLGNBQWN4QixHQUFHeUIsS0FBSCxDQUFTRCxXQUE3QjtBQUNBLFlBQU1FLGVBQWVILFNBQVNJLFNBQTlCO0FBQ0EsWUFBTUMsV0FBV0YsYUFBYUcsS0FBOUI7O0FBRUEsWUFBTUMscUJBQXFCckIsS0FBS0osUUFBTCxDQUFjMEIsQ0FBZCxDQUFnQkMsTUFBaEIsR0FBeUIsQ0FBekIsQ0FBM0I7QUFDQSxZQUFJQyxRQUFRakMsR0FBR2lDLEtBQUgsQ0FBUyxJQUFULENBQVo7QUFDQSxZQUFJQyxXQUFXWCxTQUFTWSxJQUF4QjtBQUNBLFlBQUlDLEtBQUszQixLQUFLSixRQUFMLENBQWMwQixDQUFkLENBQWdCTSxNQUFoQixDQUF1QkosTUFBTSxDQUFOLENBQXZCLENBQVQ7QUFDQUcsYUFBS0EsR0FBR0UsT0FBSCxFQUFMO0FBQ0FGLGFBQUtBLEtBQUssSUFBTCxHQUFZTixxQkFBcUIsSUFBdEM7QUFDQU0sYUFBS2IsU0FBU1ksSUFBVCxHQUFnQkMsRUFBckI7O0FBRUEsWUFBSUcsWUFBWTlCLEtBQUtKLFFBQUwsQ0FBY2EsZ0JBQWQsQ0FBK0JzQixZQUEvQixFQUFoQjtBQUNBLFlBQUlDLHVCQUF1QixLQUEzQjtBQUNBLFlBQUlDLHNCQUFzQixLQUExQjtBQUNBLFlBQUlILFVBQVV4QixNQUFkLEVBQXNCO0FBQ3BCMEIsaUNBQXVCRixVQUFVLENBQVYsRUFBYUosSUFBcEM7QUFDQU8sZ0NBQXNCSCxVQUFVQSxVQUFVeEIsTUFBVixHQUFtQixDQUE3QixFQUFnQ29CLElBQXREO0FBQ0Q7O0FBRURJLG9CQUFZcEMsRUFBRVMsTUFBRixDQUFTMkIsU0FBVCxFQUFvQixVQUFDMUIsSUFBRCxFQUFVO0FBQUMsaUJBQU9WLEVBQUV3QyxPQUFGLENBQVU5QixJQUFWLEVBQWdCVSxRQUFoQixNQUE4QixLQUFyQztBQUE0QyxTQUEzRSxDQUFaOztBQUVBLFlBQUlxQixZQUFZLEtBQWhCO0FBQ0EsWUFBSXBCLFlBQVlxQixRQUFoQixFQUEwQjtBQUN4QkQsc0JBQVlFLGdCQUFNQyxjQUFOLENBQXFCMUIsVUFBVWIsSUFBL0IsRUFBcUM0QixFQUFyQyxFQUF5Q1IsU0FBU29CLEVBQWxELEVBQXNEdEIsYUFBYXVCLElBQW5FLEVBQXlFNUIsVUFBVTZCLEtBQW5GLENBQVo7QUFDRDtBQUNELFlBQUlOLGNBQWMsS0FBbEIsRUFBeUI7QUFDdkJBLHNCQUFZUixFQUFaO0FBQ0Q7O0FBRURiLGlCQUFTWSxJQUFULEdBQWdCUyxTQUFoQjtBQUNBO0FBQ0FsQixxQkFBYXlCLElBQWIsR0FBb0JMLGdCQUFNTSxRQUFOLENBQWUxQixhQUFheUIsSUFBNUIsQ0FBcEI7QUFDQSxZQUFJRSxjQUFjOUIsU0FBU1ksSUFBVCxHQUFnQkQsUUFBbEM7O0FBRUEsWUFBSW9CLGdCQUFnQixTQUFoQkEsYUFBZ0IsQ0FBU3pDLElBQVQsRUFBZTtBQUNqQyxjQUFJMEMsV0FBVzFDLEtBQUtjLFNBQXBCO0FBQ0E0QixtQkFBUzFCLEtBQVQsQ0FBZTJCLFFBQWYsR0FBMEIsSUFBMUI7QUFDQUQsbUJBQVNKLElBQVQsR0FBZ0JMLGdCQUFNTSxRQUFOLENBQWVHLFNBQVNKLElBQXhCLENBQWhCO0FBQ0QsU0FKRDs7QUFNQSxZQUFJTSxZQUFZLEtBQWhCO0FBQ0EsWUFBSUMsV0FBVyxLQUFmO0FBQ0EsWUFBSW5CLFVBQVV4QixNQUFkLEVBQXNCO0FBQ3BCLGNBQUlTLFlBQVltQyxNQUFaLElBQXNCbEIseUJBQXlCLEtBQS9DLElBQXdEQyx3QkFBd0IsS0FBcEYsRUFBMkY7QUFDekZnQix1QkFBV2pCLHlCQUF5QlAsUUFBcEM7QUFDQSxnQkFBSXdCLFFBQUosRUFBYztBQUNaRCwwQkFBWSxDQUFDZixzQkFBc0JuQixTQUFTWSxJQUFoQyxLQUF5Q08sc0JBQXNCUixRQUEvRCxDQUFaO0FBQ0QsYUFGRCxNQUdLO0FBQ0h1QiwwQkFBWSxDQUFDbEMsU0FBU1ksSUFBVCxHQUFnQk0sb0JBQWpCLEtBQTBDUCxXQUFXTyxvQkFBckQsQ0FBWjtBQUNEO0FBQ0Y7O0FBRUQsZUFBSyxJQUFJbUIsSUFBSSxDQUFiLEVBQWdCQSxJQUFJckIsVUFBVXhCLE1BQTlCLEVBQXNDNkMsR0FBdEMsRUFBMkM7QUFDekMsZ0JBQUlwRCxPQUFPK0IsVUFBVXFCLENBQVYsQ0FBWDtBQUNBLGdCQUFJSCxjQUFjLEtBQWxCLEVBQXlCO0FBQ3ZCakQsbUJBQUsyQixJQUFMLElBQWFrQixXQUFiO0FBQ0QsYUFGRCxNQUdLO0FBQ0gsa0JBQUlLLFFBQUosRUFBYztBQUNabEQscUJBQUsyQixJQUFMLEdBQVlPLHNCQUFzQixDQUFDQSxzQkFBc0JsQyxLQUFLMkIsSUFBNUIsSUFBb0NzQixTQUF0RTtBQUNELGVBRkQsTUFHSztBQUNIakQscUJBQUsyQixJQUFMLEdBQVlNLHVCQUF1QixDQUFDakMsS0FBSzJCLElBQUwsR0FBWU0sb0JBQWIsSUFBcUNnQixTQUF4RTtBQUNEO0FBQ0Y7QUFDREgsMEJBQWM5QyxJQUFkO0FBQ0Q7QUFDRjs7QUFFRG9CLGlCQUFTNEIsUUFBVCxHQUFvQixJQUFwQjtBQUNBL0MsYUFBS0gsWUFBTCxDQUFrQnVELFFBQWxCO0FBQ0QsT0ExRUQ7O0FBNEVBLFVBQUlDLFlBQVksU0FBWkEsU0FBWSxDQUFTQyxDQUFULEVBQVk7QUFDMUIsZUFBT0EsRUFBRVosSUFBVDtBQUNELE9BRkQ7QUFHQSxVQUFJYSxVQUFVLFNBQVZBLE9BQVUsQ0FBU0QsQ0FBVCxFQUFZO0FBQ3hCLFlBQUksQ0FBQ0EsRUFBRWpELEdBQVAsRUFBWTtBQUNWaUQsWUFBRWpELEdBQUYsR0FBUWdDLGdCQUFNbUIsSUFBTixFQUFSO0FBQ0Q7QUFDRCxlQUFPRixFQUFFakQsR0FBVDtBQUNELE9BTEQ7QUFNQSxVQUFJcUMsT0FBTy9CLFdBQVdELE1BQVgsQ0FBa0Isa0JBQWxCLEVBQXNDUixTQUF0QyxDQUFnRCxNQUFoRCxFQUF3REgsSUFBeEQsQ0FBNkRzRCxTQUE3RCxFQUF3RUUsT0FBeEUsQ0FBWDs7QUFFQTtBQUNBNUMsaUJBQVdELE1BQVgsQ0FBa0Isa0JBQWxCLEVBQXNDK0MsSUFBdEMsQ0FBMkMsU0FBM0MsRUFBc0QsWUFBVztBQUMvRCxZQUFJLENBQUN6RCxLQUFLSixRQUFMLENBQWM4RCxNQUFkLENBQXFCQyxnQkFBMUIsRUFBNEM7QUFDMUMsaUJBQU8sT0FBUDtBQUNEO0FBQ0QsZUFBTyxNQUFQO0FBQ0QsT0FMRDs7QUFPQTtBQUNBLFVBQUlDLFlBQVksU0FBWkEsU0FBWSxDQUFTOUMsUUFBVCxFQUFtQjtBQUNqQyxZQUFJRSxRQUFRekIsR0FBR3lCLEtBQWY7QUFDQTtBQUNBLFlBQUlBLE1BQU1ELFdBQVYsRUFBdUI7QUFDckJDLGtCQUFRQSxNQUFNRCxXQUFkO0FBQ0Q7O0FBRUQsWUFBSThDLGlCQUFpQjdDLE1BQU1vQixRQUEzQjtBQUNBO0FBQ0E7QUFDQSxZQUFJN0MsR0FBR3lCLEtBQUgsQ0FBUzhDLElBQVQsSUFBaUJ2RSxHQUFHeUIsS0FBSCxDQUFTOEMsSUFBVCxLQUFrQixXQUF2QyxFQUFvRDtBQUNsRCxjQUFJdkUsR0FBR21CLE1BQUgsQ0FBVSxJQUFWLEVBQWdCSCxPQUFoQixDQUF3QixlQUF4QixDQUFKLEVBQThDO0FBQzVDO0FBQ0Q7QUFDRjs7QUFFRDtBQUNBTyxpQkFBU04sSUFBVCxHQUFnQixJQUFoQjs7QUFFQVIsYUFBS0osUUFBTCxDQUFjYSxnQkFBZCxDQUErQkMsTUFBL0IsQ0FBc0NJLFFBQXRDLEVBQWdEK0MsY0FBaEQ7QUFDRCxPQXBCRDs7QUFzQkEsVUFBSUUsVUFBVSxTQUFWQSxPQUFVLEdBQVc7QUFDdkIvRCxhQUFLSixRQUFMLENBQWM4RCxNQUFkLENBQXFCTSxXQUFyQixDQUFpQ0MsUUFBakM7QUFDRCxPQUZEOztBQUlBLFVBQUlDLE9BQU8zRSxHQUFHNEUsUUFBSCxDQUFZRCxJQUFaLEdBQ1JFLE1BRFEsQ0FDRCxVQUFDZCxDQUFELEVBQU87QUFBQyxlQUFPQSxDQUFQO0FBQVUsT0FEakIsRUFFUmUsRUFGUSxDQUVMLE1BRkssRUFFR3hELFFBRkgsRUFHUndELEVBSFEsQ0FHTCxXQUhLLEVBR1FULFNBSFIsRUFJUlMsRUFKUSxDQUlMLFNBSkssRUFJTU4sT0FKTixDQUFYOztBQU1BLFVBQUlPLFVBQVU1QixLQUFLNkIsS0FBTCxHQUNYQyxNQURXLENBQ0osR0FESSxFQUVYZixJQUZXLENBRU4sT0FGTSxFQUVHLEtBRkg7QUFHWjtBQUhZLE9BSVhBLElBSlcsQ0FJTixJQUpNLEVBSUEsVUFBQ0gsQ0FBRCxFQUFPO0FBQUMsZUFBT0EsRUFBRWpELEdBQVQ7QUFBYyxPQUp0QixFQUtYZ0UsRUFMVyxDQUtSLFdBTFEsRUFLSyxZQUFXO0FBQzFCO0FBQ0E7QUFDQTlFLFdBQUd5QixLQUFILENBQVN5RCxlQUFUO0FBQ0QsT0FUVyxFQVVYQyxJQVZXLENBVU5SLElBVk0sQ0FBZDs7QUFZQXZELGlCQUFXVCxTQUFYLENBQXFCLE1BQXJCLEVBQ0d1RCxJQURILENBQ1EsT0FEUixFQUNpQixVQUFTSCxDQUFULEVBQVk7QUFDekIsWUFBSXFCLE1BQU0sS0FBVjtBQUNBO0FBQ0EsWUFBSXBGLEdBQUdtQixNQUFILENBQVUsSUFBVixFQUFnQkgsT0FBaEIsQ0FBd0IsZUFBeEIsQ0FBSixFQUE4QztBQUM1Q29FLGlCQUFPLGdCQUFQO0FBQ0Q7QUFDRCxZQUFJckIsRUFBRXNCLElBQU4sRUFBWTtBQUNWLGNBQUlDLE1BQU1DLE9BQU4sQ0FBY3hCLEVBQUVzQixJQUFoQixDQUFKLEVBQTJCO0FBQ3pCRCxtQkFBTyxhQUFQO0FBQ0QsV0FGRCxNQUdLO0FBQ0gsZ0JBQUlDLE9BQU90QixFQUFFc0IsSUFBRixDQUFPRyxLQUFQLENBQWEsR0FBYixDQUFYO0FBQ0EsZ0JBQUlILEtBQUt0RSxNQUFMLEtBQWdCLENBQXBCLEVBQXVCO0FBQ3JCcUUscUJBQU8sTUFBTUMsS0FBSyxDQUFMLENBQWI7QUFDRDtBQUNGO0FBRUYsU0FYRCxNQVlLO0FBQ0g7QUFDQUQsaUJBQU8sVUFBUDtBQUNEO0FBQ0QsZUFBT0EsR0FBUDtBQUNELE9BeEJIOztBQTBCQSxVQUFJSyxhQUFhVixRQUFRRSxNQUFSLENBQWUsR0FBZixFQUNkZixJQURjLENBQ1QsT0FEUyxFQUNBLGFBREEsQ0FBakI7QUFFQXVCLGlCQUFXUixNQUFYLENBQWtCLE1BQWxCLEVBQ0dmLElBREgsQ0FDUSxPQURSLEVBQ2lCLGtCQURqQixFQUVHQSxJQUZILENBRVEsR0FGUixFQUVhLG9CQUZiO0FBR0F1QixpQkFBV1IsTUFBWCxDQUFrQixNQUFsQixFQUNHZixJQURILENBQ1EsT0FEUixFQUNpQixrQkFEakIsRUFFR0EsSUFGSCxDQUVRLEdBRlIsRUFFYSxxQkFGYjs7QUFJQSxVQUFJd0IsU0FBU1gsUUFBUUUsTUFBUixDQUFlLEdBQWYsRUFDVmYsSUFEVSxDQUNMLE9BREssRUFDSSxTQURKLENBQWI7QUFFQXdCLGFBQU9ULE1BQVAsQ0FBYyxNQUFkLEVBQ0dmLElBREgsQ0FDUSxPQURSLEVBQ2lCLGlCQURqQixFQUVHQSxJQUZILENBRVEsR0FGUixFQUVhLGlDQUZiO0FBR0F3QixhQUFPVCxNQUFQLENBQWMsTUFBZCxFQUNHZixJQURILENBQ1EsT0FEUixFQUNpQixrQkFEakIsRUFFR0EsSUFGSCxDQUVRLEdBRlIsRUFFYSxxQkFGYjs7QUFJQSxVQUFJeUIsVUFBVVosUUFBUUUsTUFBUixDQUFlLEdBQWYsRUFDWGYsSUFEVyxDQUNOLE9BRE0sRUFDRyxVQURILENBQWQ7QUFFQXlCLGNBQVFWLE1BQVIsQ0FBZSxNQUFmLEVBQ0dmLElBREgsQ0FDUSxPQURSLEVBQ2lCLGlCQURqQixFQUVHQSxJQUZILENBRVEsR0FGUixFQUVhLG9DQUZiO0FBR0F5QixjQUFRVixNQUFSLENBQWUsTUFBZixFQUNHZixJQURILENBQ1EsT0FEUixFQUNpQixrQkFEakIsRUFFR0EsSUFGSCxDQUVRLEdBRlIsRUFFYSxvQkFGYjs7QUFJQSxVQUFJMEIsWUFBWWIsUUFBUUUsTUFBUixDQUFlLEdBQWYsRUFDYmYsSUFEYSxDQUNSLE9BRFEsRUFDQyxZQURELENBQWhCO0FBRUEwQixnQkFBVVgsTUFBVixDQUFpQixRQUFqQixFQUNHZixJQURILENBQ1EsSUFEUixFQUNjLENBRGQsRUFFR0EsSUFGSCxDQUVRLElBRlIsRUFFYyxDQUZkLEVBR0dBLElBSEgsQ0FHUSxHQUhSLEVBR2EsQ0FIYjs7QUFLQSxVQUFJMkIsYUFBYWQsUUFBUUUsTUFBUixDQUFlLEdBQWYsRUFDZGYsSUFEYyxDQUNULE9BRFMsRUFDQSxhQURBLENBQWpCO0FBRUEyQixpQkFBV1osTUFBWCxDQUFrQixNQUFsQixFQUNHZixJQURILENBQ1EsT0FEUixFQUNpQixrQkFEakIsRUFFR0EsSUFGSCxDQUVRLEdBRlIsRUFFYSxvQkFGYixFQUdHQSxJQUhILENBR1E7QUFDSjRCLG1CQUFXO0FBRFAsT0FIUjs7QUFPQSxVQUFJQyxLQUFLRixXQUFXWixNQUFYLENBQWtCLEdBQWxCLEVBQ05mLElBRE0sQ0FDRDtBQUNKNEIsbUJBQVc7QUFEUCxPQURDLENBQVQ7O0FBS0FDLFNBQUdkLE1BQUgsQ0FBVSxNQUFWLEVBQ0dmLElBREgsQ0FDUSxPQURSLEVBQ2lCLGtCQURqQixFQUVHQSxJQUZILENBRVEsR0FGUixFQUVhLG9CQUZiOztBQUlBZixXQUFLZSxJQUFMLENBQVUsV0FBVixFQUF1QixVQUFTSCxDQUFULEVBQVk7QUFDakMsWUFBSTNCLEtBQUszQixLQUFLSixRQUFMLENBQWMwQixDQUFkLENBQWdCZ0MsRUFBRTVCLElBQUYsR0FBUyxJQUF6QixDQUFUO0FBQ0FDLGFBQUs0RCxTQUFTNUQsRUFBVCxFQUFhLEVBQWIsQ0FBTDtBQUNBLFlBQUk2RCxLQUFLLEVBQVQ7QUFDQSxlQUFPLGVBQWU3RCxFQUFmLEdBQW9CLEdBQXBCLEdBQTBCNkQsRUFBMUIsR0FBK0IsR0FBdEM7QUFDRCxPQUxEOztBQU9BOUMsV0FBSytDLElBQUwsR0FBWUMsTUFBWjtBQUNEOzs7Ozs7a0JBMVBrQi9GLEkiLCJmaWxlIjoiMjEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgZDMgPSByZXF1aXJlKCdkMycpO1xubGV0IFNpZ25hbHMgPSByZXF1aXJlKCdqcy1zaWduYWxzJyk7XG5pbXBvcnQgVXRpbHMgZnJvbSAnLi4vY29yZS9VdGlscyc7XG5sZXQgXyA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBLZXlzIHtcbiAgY29uc3RydWN0b3IodGltZWxpbmUpIHtcbiAgICB0aGlzLnRpbWVsaW5lID0gdGltZWxpbmU7XG4gICAgdGhpcy5vbktleVVwZGF0ZWQgPSBuZXcgU2lnbmFscy5TaWduYWwoKTtcbiAgfVxuXG4gIHNlbGVjdE5ld0tleShkYXRhKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBrZXkgPSBkMy5zZWxlY3RBbGwoJy5rZXknKS5maWx0ZXIoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgcmV0dXJuIGl0ZW0uX2lkID09PSBkYXRhLl9pZDtcbiAgICB9KTtcbiAgICBpZiAoa2V5Lmxlbmd0aCkge1xuICAgICAgZDMuc2VsZWN0QWxsKCcua2V5LS1zZWxlY3RlZCcpLmNsYXNzZWQoJ2tleS0tc2VsZWN0ZWQnLCBmYWxzZSk7XG4gICAgICBrZXkuY2xhc3NlZCgna2V5LS1zZWxlY3RlZCcsIHRydWUpO1xuICAgICAga2V5ID0ga2V5WzBdWzBdO1xuICAgICAgZGF0YS5fZG9tID0ga2V5O1xuICAgICAgc2VsZi50aW1lbGluZS5zZWxlY3Rpb25NYW5hZ2VyLnNlbGVjdChkYXRhKTtcbiAgICB9XG4gIH1cblxuICByZW5kZXIocHJvcGVydGllcykge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IHR3ZWVuVGltZSA9IHNlbGYudGltZWxpbmUudHdlZW5UaW1lO1xuXG4gICAgY29uc3QgZHJhZ21vdmUgPSBmdW5jdGlvbihrZXlfZGF0YSkge1xuICAgICAgY29uc3Qgc291cmNlRXZlbnQgPSBkMy5ldmVudC5zb3VyY2VFdmVudDtcbiAgICAgIGNvbnN0IHByb3BlcnR5RGF0YSA9IGtleV9kYXRhLl9wcm9wZXJ0eTtcbiAgICAgIGNvbnN0IGxpbmVEYXRhID0gcHJvcGVydHlEYXRhLl9saW5lO1xuXG4gICAgICBjb25zdCBjdXJyZW50RG9tYWluU3RhcnQgPSBzZWxmLnRpbWVsaW5lLnguZG9tYWluKClbMF07XG4gICAgICB2YXIgbW91c2UgPSBkMy5tb3VzZSh0aGlzKTtcbiAgICAgIHZhciBvbGRfdGltZSA9IGtleV9kYXRhLnRpbWU7XG4gICAgICB2YXIgZHggPSBzZWxmLnRpbWVsaW5lLnguaW52ZXJ0KG1vdXNlWzBdKTtcbiAgICAgIGR4ID0gZHguZ2V0VGltZSgpO1xuICAgICAgZHggPSBkeCAvIDEwMDAgLSBjdXJyZW50RG9tYWluU3RhcnQgLyAxMDAwO1xuICAgICAgZHggPSBrZXlfZGF0YS50aW1lICsgZHg7XG5cbiAgICAgIHZhciBzZWxlY3Rpb24gPSBzZWxmLnRpbWVsaW5lLnNlbGVjdGlvbk1hbmFnZXIuZ2V0U2VsZWN0aW9uKCk7XG4gICAgICB2YXIgc2VsZWN0aW9uX2ZpcnN0X3RpbWUgPSBmYWxzZTtcbiAgICAgIHZhciBzZWxlY3Rpb25fbGFzdF90aW1lID0gZmFsc2U7XG4gICAgICBpZiAoc2VsZWN0aW9uLmxlbmd0aCkge1xuICAgICAgICBzZWxlY3Rpb25fZmlyc3RfdGltZSA9IHNlbGVjdGlvblswXS50aW1lO1xuICAgICAgICBzZWxlY3Rpb25fbGFzdF90aW1lID0gc2VsZWN0aW9uW3NlbGVjdGlvbi5sZW5ndGggLSAxXS50aW1lO1xuICAgICAgfVxuXG4gICAgICBzZWxlY3Rpb24gPSBfLmZpbHRlcihzZWxlY3Rpb24sIChpdGVtKSA9PiB7cmV0dXJuIF8uaXNFcXVhbChpdGVtLCBrZXlfZGF0YSkgPT09IGZhbHNlO30pO1xuXG4gICAgICB2YXIgdGltZU1hdGNoID0gZmFsc2U7XG4gICAgICBpZiAoc291cmNlRXZlbnQuc2hpZnRLZXkpIHtcbiAgICAgICAgdGltZU1hdGNoID0gVXRpbHMuZ2V0Q2xvc2VzdFRpbWUodHdlZW5UaW1lLmRhdGEsIGR4LCBsaW5lRGF0YS5pZCwgcHJvcGVydHlEYXRhLm5hbWUsIHR3ZWVuVGltZS50aW1lcik7XG4gICAgICB9XG4gICAgICBpZiAodGltZU1hdGNoID09PSBmYWxzZSkge1xuICAgICAgICB0aW1lTWF0Y2ggPSBkeDtcbiAgICAgIH1cblxuICAgICAga2V5X2RhdGEudGltZSA9IHRpbWVNYXRjaDtcbiAgICAgIC8vIFNvcnQgdGhlIGtleXMgb2YgdGhlIGN1cnJlbnQgc2VsZWN0ZWQgaXRlbS5cbiAgICAgIHByb3BlcnR5RGF0YS5rZXlzID0gVXRpbHMuc29ydEtleXMocHJvcGVydHlEYXRhLmtleXMpO1xuICAgICAgdmFyIHRpbWVfb2Zmc2V0ID0ga2V5X2RhdGEudGltZSAtIG9sZF90aW1lO1xuXG4gICAgICB2YXIgdXBkYXRlS2V5SXRlbSA9IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgdmFyIHByb3BlcnR5ID0gaXRlbS5fcHJvcGVydHk7XG4gICAgICAgIHByb3BlcnR5Ll9saW5lLl9pc0RpcnR5ID0gdHJ1ZTtcbiAgICAgICAgcHJvcGVydHkua2V5cyA9IFV0aWxzLnNvcnRLZXlzKHByb3BlcnR5LmtleXMpO1xuICAgICAgfTtcblxuICAgICAgdmFyIGtleV9zY2FsZSA9IGZhbHNlO1xuICAgICAgdmFyIGlzX2ZpcnN0ID0gZmFsc2U7XG4gICAgICBpZiAoc2VsZWN0aW9uLmxlbmd0aCkge1xuICAgICAgICBpZiAoc291cmNlRXZlbnQuYWx0S2V5ICYmIHNlbGVjdGlvbl9maXJzdF90aW1lICE9PSBmYWxzZSAmJiBzZWxlY3Rpb25fbGFzdF90aW1lICE9PSBmYWxzZSkge1xuICAgICAgICAgIGlzX2ZpcnN0ID0gc2VsZWN0aW9uX2ZpcnN0X3RpbWUgPT09IG9sZF90aW1lO1xuICAgICAgICAgIGlmIChpc19maXJzdCkge1xuICAgICAgICAgICAga2V5X3NjYWxlID0gKHNlbGVjdGlvbl9sYXN0X3RpbWUgLSBrZXlfZGF0YS50aW1lKSAvIChzZWxlY3Rpb25fbGFzdF90aW1lIC0gb2xkX3RpbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGtleV9zY2FsZSA9IChrZXlfZGF0YS50aW1lIC0gc2VsZWN0aW9uX2ZpcnN0X3RpbWUpIC8gKG9sZF90aW1lIC0gc2VsZWN0aW9uX2ZpcnN0X3RpbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2VsZWN0aW9uLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIGRhdGEgPSBzZWxlY3Rpb25baV07XG4gICAgICAgICAgaWYgKGtleV9zY2FsZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGRhdGEudGltZSArPSB0aW1lX29mZnNldDtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoaXNfZmlyc3QpIHtcbiAgICAgICAgICAgICAgZGF0YS50aW1lID0gc2VsZWN0aW9uX2xhc3RfdGltZSAtIChzZWxlY3Rpb25fbGFzdF90aW1lIC0gZGF0YS50aW1lKSAqIGtleV9zY2FsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICBkYXRhLnRpbWUgPSBzZWxlY3Rpb25fZmlyc3RfdGltZSArIChkYXRhLnRpbWUgLSBzZWxlY3Rpb25fZmlyc3RfdGltZSkgKiBrZXlfc2NhbGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHVwZGF0ZUtleUl0ZW0oZGF0YSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbGluZURhdGEuX2lzRGlydHkgPSB0cnVlO1xuICAgICAgc2VsZi5vbktleVVwZGF0ZWQuZGlzcGF0Y2goKTtcbiAgICB9O1xuXG4gICAgdmFyIHByb3BWYWx1ZSA9IGZ1bmN0aW9uKGQpIHtcbiAgICAgIHJldHVybiBkLmtleXM7XG4gICAgfTtcbiAgICB2YXIgcHJvcEtleSA9IGZ1bmN0aW9uKGQpIHtcbiAgICAgIGlmICghZC5faWQpIHtcbiAgICAgICAgZC5faWQgPSBVdGlscy5ndWlkKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZC5faWQ7XG4gICAgfTtcbiAgICB2YXIga2V5cyA9IHByb3BlcnRpZXMuc2VsZWN0KCcubGluZS1pdGVtX19rZXlzJykuc2VsZWN0QWxsKCcua2V5JykuZGF0YShwcm9wVmFsdWUsIHByb3BLZXkpO1xuXG4gICAgLy8gSGlkZSBrZXlzIGlmIGN1cnZlIGVkaXRvciBtb2RlLlxuICAgIHByb3BlcnRpZXMuc2VsZWN0KCcubGluZS1pdGVtX19rZXlzJykuYXR0cignZGlzcGxheScsIGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCFzZWxmLnRpbWVsaW5lLmVkaXRvci5jdXJ2ZUVkaXRFbmFibGVkKSB7XG4gICAgICAgIHJldHVybiAnYmxvY2snO1xuICAgICAgfVxuICAgICAgcmV0dXJuICdub25lJztcbiAgICB9KTtcblxuICAgIC8vIHNlbGVjdEtleSBpcyB0cmlnZ2VyZWQgYnkgZHJhZ3N0YXJ0IGV2ZW50XG4gICAgdmFyIHNlbGVjdEtleSA9IGZ1bmN0aW9uKGtleV9kYXRhKSB7XG4gICAgICB2YXIgZXZlbnQgPSBkMy5ldmVudDtcbiAgICAgIC8vIHdpdGggZHJhZ3N0YXJ0IGV2ZW50IHRoZSBtb3VzZXZlbnQgaXMgaXMgaW5zaWRlIHRoZSBldmVudC5zb3VyY0V2ZW50XG4gICAgICBpZiAoZXZlbnQuc291cmNlRXZlbnQpIHtcbiAgICAgICAgZXZlbnQgPSBldmVudC5zb3VyY2VFdmVudDtcbiAgICAgIH1cblxuICAgICAgdmFyIGFkZFRvU2VsZWN0aW9uID0gZXZlbnQuc2hpZnRLZXk7XG4gICAgICAvLyBpZiBlbGVtZW50IGlzIGFscmVhZHkgc2VsZWN0aW9ubmVkIGFuZCB3ZSBhcmUgb25cbiAgICAgIC8vIHRoZSBkcmFnc3RhcnQgZXZlbnQsIHdlIHN0b3AgdGhlcmUgc2luY2UgaXQgaXMgYWxyZWFkeSBzZWxlY3RlZC5cbiAgICAgIGlmIChkMy5ldmVudC50eXBlICYmIGQzLmV2ZW50LnR5cGUgPT09ICdkcmFnc3RhcnQnKSB7XG4gICAgICAgIGlmIChkMy5zZWxlY3QodGhpcykuY2xhc3NlZCgna2V5LS1zZWxlY3RlZCcpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIEFsc28ga2VlcCBhIHJlZmVyZW5jZSB0byB0aGUga2V5IGRvbSBlbGVtZW50LlxuICAgICAga2V5X2RhdGEuX2RvbSA9IHRoaXM7XG5cbiAgICAgIHNlbGYudGltZWxpbmUuc2VsZWN0aW9uTWFuYWdlci5zZWxlY3Qoa2V5X2RhdGEsIGFkZFRvU2VsZWN0aW9uKTtcbiAgICB9O1xuXG4gICAgdmFyIGRyYWdlbmQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHNlbGYudGltZWxpbmUuZWRpdG9yLnVuZG9NYW5hZ2VyLmFkZFN0YXRlKCk7XG4gICAgfTtcblxuICAgIHZhciBkcmFnID0gZDMuYmVoYXZpb3IuZHJhZygpXG4gICAgICAub3JpZ2luKChkKSA9PiB7cmV0dXJuIGQ7fSlcbiAgICAgIC5vbignZHJhZycsIGRyYWdtb3ZlKVxuICAgICAgLm9uKCdkcmFnc3RhcnQnLCBzZWxlY3RLZXkpXG4gICAgICAub24oJ2RyYWdlbmQnLCBkcmFnZW5kKTtcblxuICAgIHZhciBrZXlfZ3JwID0ga2V5cy5lbnRlcigpXG4gICAgICAuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdrZXknKVxuICAgICAgLy8gVXNlIHRoZSB1bmlxdWUgaWQgYWRkZWQgaW4gcHJvcEtleSBhYm92ZSBmb3IgdGhlIGRvbSBlbGVtZW50IGlkLlxuICAgICAgLmF0dHIoJ2lkJywgKGQpID0+IHtyZXR1cm4gZC5faWQ7fSlcbiAgICAgIC5vbignbW91c2Vkb3duJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIERvbid0IHRyaWdnZXIgbW91c2Vkb3duIG9uIGxpbmVzY29udGFpbmVyIGVsc2VcbiAgICAgICAgLy8gaXQgY3JlYXRlIHRoZSBzZWxlY3Rpb24gcmVjdGFuZ2xlXG4gICAgICAgIGQzLmV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgfSlcbiAgICAgIC5jYWxsKGRyYWcpO1xuXG4gICAgcHJvcGVydGllcy5zZWxlY3RBbGwoJy5rZXknKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgZnVuY3Rpb24oZCkge1xuICAgICAgICB2YXIgY2xzID0gJ2tleSc7XG4gICAgICAgIC8vIGtlZXAgc2VsZWN0ZWQgY2xhc3NcbiAgICAgICAgaWYgKGQzLnNlbGVjdCh0aGlzKS5jbGFzc2VkKCdrZXktLXNlbGVjdGVkJykpIHtcbiAgICAgICAgICBjbHMgKz0gJyBrZXktLXNlbGVjdGVkJztcbiAgICAgICAgfVxuICAgICAgICBpZiAoZC5lYXNlKSB7XG4gICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZC5lYXNlKSkge1xuICAgICAgICAgICAgY2xzICs9ICcgZWFzZUN1c3RvbSdcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgZWFzZSA9IGQuZWFzZS5zcGxpdCgnLicpO1xuICAgICAgICAgICAgaWYgKGVhc2UubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICAgIGNscyArPSAnICcgKyBlYXNlWzFdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIC8vIElmIG5vIGVhc2luZyBzcGVjaWZpZWQsIHRoZSBpdCdzIHRoZSBkZWZhdWx0IFF1YWQuZWFzZU91dFxuICAgICAgICAgIGNscyArPSAnIGVhc2VPdXQnO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjbHM7XG4gICAgICB9KTtcblxuICAgIHZhciBncnBfbGluZWFyID0ga2V5X2dycC5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2Vhc2UtbGluZWFyJyk7XG4gICAgZ3JwX2xpbmVhci5hcHBlbmQoJ3BhdGgnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2tleV9fc2hhcGUtYXJyb3cnKVxuICAgICAgLmF0dHIoJ2QnLCAnTSAwIC02IEwgNiAwIEwgMCA2Jyk7XG4gICAgZ3JwX2xpbmVhci5hcHBlbmQoJ3BhdGgnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2tleV9fc2hhcGUtYXJyb3cnKVxuICAgICAgLmF0dHIoJ2QnLCAnTSAwIC02IEwgLTYgMCBMIDAgNicpO1xuXG4gICAgdmFyIGdycF9pbiA9IGtleV9ncnAuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdlYXNlLWluJyk7XG4gICAgZ3JwX2luLmFwcGVuZCgncGF0aCcpXG4gICAgICAuYXR0cignY2xhc3MnLCAna2V5X19zaGFwZS1yZWN0JylcbiAgICAgIC5hdHRyKCdkJywgJ00gMCAtNiBMIDAgNiBMIDQgNSBMIDEgMCBMIDQgLTUnKTtcbiAgICBncnBfaW4uYXBwZW5kKCdwYXRoJylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdrZXlfX3NoYXBlLWFycm93JylcbiAgICAgIC5hdHRyKCdkJywgJ00gMCAtNiBMIC02IDAgTCAwIDYnKTtcblxuICAgIHZhciBncnBfb3V0ID0ga2V5X2dycC5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2Vhc2Utb3V0Jyk7XG4gICAgZ3JwX291dC5hcHBlbmQoJ3BhdGgnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2tleV9fc2hhcGUtcmVjdCcpXG4gICAgICAuYXR0cignZCcsICdNIDAgLTYgTCAwIDYgTCAtNCA1IEwgLTEgMCBMIC00IC01Jyk7XG4gICAgZ3JwX291dC5hcHBlbmQoJ3BhdGgnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2tleV9fc2hhcGUtYXJyb3cnKVxuICAgICAgLmF0dHIoJ2QnLCAnTSAwIC02IEwgNiAwIEwgMCA2Jyk7XG5cbiAgICB2YXIgZ3JwX2lub3V0ID0ga2V5X2dycC5hcHBlbmQoJ2cnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2Vhc2UtaW5vdXQnKTtcbiAgICBncnBfaW5vdXQuYXBwZW5kKCdjaXJjbGUnKVxuICAgICAgLmF0dHIoJ2N4JywgMClcbiAgICAgIC5hdHRyKCdjeScsIDApXG4gICAgICAuYXR0cigncicsIDUpO1xuXG4gICAgdmFyIGdycF9jdXN0b20gPSBrZXlfZ3JwLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cignY2xhc3MnLCAnZWFzZS1jdXN0b20nKTtcbiAgICBncnBfY3VzdG9tLmFwcGVuZCgncGF0aCcpXG4gICAgICAuYXR0cignY2xhc3MnLCAna2V5X19zaGFwZS1hcnJvdycpXG4gICAgICAuYXR0cignZCcsICdNIDAgLTYgTCA2IDAgTCAwIDYnKVxuICAgICAgLmF0dHIoe1xuICAgICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoLTUsIDApJ1xuICAgICAgfSk7XG5cbiAgICB2YXIgZzIgPSBncnBfY3VzdG9tLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cih7XG4gICAgICAgIHRyYW5zZm9ybTogJ3NjYWxlKC0xLCAxKSB0cmFuc2xhdGUoLTUsIDApJ1xuICAgICAgfSk7XG5cbiAgICBnMi5hcHBlbmQoJ3BhdGgnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2tleV9fc2hhcGUtYXJyb3cnKVxuICAgICAgLmF0dHIoJ2QnLCAnTSAwIC02IEwgNiAwIEwgMCA2Jyk7XG5cbiAgICBrZXlzLmF0dHIoJ3RyYW5zZm9ybScsIGZ1bmN0aW9uKGQpIHtcbiAgICAgIHZhciBkeCA9IHNlbGYudGltZWxpbmUueChkLnRpbWUgKiAxMDAwKTtcbiAgICAgIGR4ID0gcGFyc2VJbnQoZHgsIDEwKTtcbiAgICAgIHZhciBkeSA9IDEwO1xuICAgICAgcmV0dXJuICd0cmFuc2xhdGUoJyArIGR4ICsgJywnICsgZHkgKyAnKSc7XG4gICAgfSk7XG5cbiAgICBrZXlzLmV4aXQoKS5yZW1vdmUoKTtcbiAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vZ3JhcGgvS2V5cy5qcyJdLCJzb3VyY2VSb290IjoiIn0=")},function(module,exports){eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Errors = function () {\n  function Errors(timeline) {\n    _classCallCheck(this, Errors);\n\n    this.timeline = timeline;\n  }\n\n  _createClass(Errors, [{\n    key: 'render',\n    value: function render(properties) {\n      var self = this;\n      var subGrp = self.timeline.properties.subGrp;\n      var propertiesWithError = function propertiesWithError(d) {\n        return d.errors !== undefined;\n      };\n      // use insert with :first-child to prepend.\n      subGrp.insert('svg', ':first-child').attr('class', 'line-item__errors').attr('width', window.innerWidth - self.timeline.label_position_x).attr('height', self.timeline.lineHeight);\n\n      var errorsValue = function errorsValue(d) {\n        return d.errors;\n      };\n      var errorTime = function errorTime(d) {\n        return d.time;\n      };\n\n      var errors = properties.filter(propertiesWithError).select('.line-item__errors').selectAll('.error').data(errorsValue, errorTime);\n\n      errors.enter().append('rect').attr('class', 'error').attr('width', 4).attr('height', self.timeline.lineHeight - 1).attr('y', '1');\n\n      properties.selectAll('.error').attr('x', function (d) {\n        var dx;\n        dx = self.timeline.x(d.time * 1000);\n        return dx;\n      });\n\n      errors.exit().remove();\n    }\n  }]);\n\n  return Errors;\n}();\n\nexports.default = Errors;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ncmFwaC9FcnJvcnMuanM/OWVmMSJdLCJuYW1lcyI6WyJFcnJvcnMiLCJ0aW1lbGluZSIsInByb3BlcnRpZXMiLCJzZWxmIiwic3ViR3JwIiwicHJvcGVydGllc1dpdGhFcnJvciIsImQiLCJlcnJvcnMiLCJ1bmRlZmluZWQiLCJpbnNlcnQiLCJhdHRyIiwid2luZG93IiwiaW5uZXJXaWR0aCIsImxhYmVsX3Bvc2l0aW9uX3giLCJsaW5lSGVpZ2h0IiwiZXJyb3JzVmFsdWUiLCJlcnJvclRpbWUiLCJ0aW1lIiwiZmlsdGVyIiwic2VsZWN0Iiwic2VsZWN0QWxsIiwiZGF0YSIsImVudGVyIiwiYXBwZW5kIiwiZHgiLCJ4IiwiZXhpdCIsInJlbW92ZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztJQUFxQkEsTTtBQUNuQixrQkFBWUMsUUFBWixFQUFzQjtBQUFBOztBQUNwQixTQUFLQSxRQUFMLEdBQWdCQSxRQUFoQjtBQUNEOzs7OzJCQUVNQyxVLEVBQVk7QUFDakIsVUFBSUMsT0FBTyxJQUFYO0FBQ0EsVUFBSUMsU0FBU0QsS0FBS0YsUUFBTCxDQUFjQyxVQUFkLENBQXlCRSxNQUF0QztBQUNBLFVBQUlDLHNCQUFzQixTQUF0QkEsbUJBQXNCLENBQVNDLENBQVQsRUFBWTtBQUNwQyxlQUFPQSxFQUFFQyxNQUFGLEtBQWFDLFNBQXBCO0FBQ0QsT0FGRDtBQUdBO0FBQ0FKLGFBQU9LLE1BQVAsQ0FBYyxLQUFkLEVBQXFCLGNBQXJCLEVBQ0dDLElBREgsQ0FDUSxPQURSLEVBQ2lCLG1CQURqQixFQUVHQSxJQUZILENBRVEsT0FGUixFQUVpQkMsT0FBT0MsVUFBUCxHQUFvQlQsS0FBS0YsUUFBTCxDQUFjWSxnQkFGbkQsRUFHR0gsSUFISCxDQUdRLFFBSFIsRUFHa0JQLEtBQUtGLFFBQUwsQ0FBY2EsVUFIaEM7O0FBS0EsVUFBSUMsY0FBYyxTQUFkQSxXQUFjLENBQVNULENBQVQsRUFBWTtBQUM1QixlQUFPQSxFQUFFQyxNQUFUO0FBQ0QsT0FGRDtBQUdBLFVBQUlTLFlBQVksU0FBWkEsU0FBWSxDQUFTVixDQUFULEVBQVk7QUFDMUIsZUFBT0EsRUFBRVcsSUFBVDtBQUNELE9BRkQ7O0FBSUEsVUFBSVYsU0FBU0wsV0FBV2dCLE1BQVgsQ0FBa0JiLG1CQUFsQixFQUNWYyxNQURVLENBQ0gsb0JBREcsRUFDbUJDLFNBRG5CLENBQzZCLFFBRDdCLEVBRVZDLElBRlUsQ0FFTE4sV0FGSyxFQUVRQyxTQUZSLENBQWI7O0FBSUFULGFBQU9lLEtBQVAsR0FBZUMsTUFBZixDQUFzQixNQUF0QixFQUNHYixJQURILENBQ1EsT0FEUixFQUNpQixPQURqQixFQUVHQSxJQUZILENBRVEsT0FGUixFQUVpQixDQUZqQixFQUdHQSxJQUhILENBR1EsUUFIUixFQUdrQlAsS0FBS0YsUUFBTCxDQUFjYSxVQUFkLEdBQTJCLENBSDdDLEVBSUdKLElBSkgsQ0FJUSxHQUpSLEVBSWEsR0FKYjs7QUFNQVIsaUJBQVdrQixTQUFYLENBQXFCLFFBQXJCLEVBQStCVixJQUEvQixDQUFvQyxHQUFwQyxFQUF5QyxVQUFTSixDQUFULEVBQVk7QUFDbkQsWUFBSWtCLEVBQUo7QUFDQUEsYUFBS3JCLEtBQUtGLFFBQUwsQ0FBY3dCLENBQWQsQ0FBZ0JuQixFQUFFVyxJQUFGLEdBQVMsSUFBekIsQ0FBTDtBQUNBLGVBQU9PLEVBQVA7QUFDRCxPQUpEOztBQU1BakIsYUFBT21CLElBQVAsR0FBY0MsTUFBZDtBQUNEOzs7Ozs7a0JBekNrQjNCLE0iLCJmaWxlIjoiMjIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBFcnJvcnMge1xuICBjb25zdHJ1Y3Rvcih0aW1lbGluZSkge1xuICAgIHRoaXMudGltZWxpbmUgPSB0aW1lbGluZTtcbiAgfVxuXG4gIHJlbmRlcihwcm9wZXJ0aWVzKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBzdWJHcnAgPSBzZWxmLnRpbWVsaW5lLnByb3BlcnRpZXMuc3ViR3JwO1xuICAgIHZhciBwcm9wZXJ0aWVzV2l0aEVycm9yID0gZnVuY3Rpb24oZCkge1xuICAgICAgcmV0dXJuIGQuZXJyb3JzICE9PSB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICAvLyB1c2UgaW5zZXJ0IHdpdGggOmZpcnN0LWNoaWxkIHRvIHByZXBlbmQuXG4gICAgc3ViR3JwLmluc2VydCgnc3ZnJywgJzpmaXJzdC1jaGlsZCcpXG4gICAgICAuYXR0cignY2xhc3MnLCAnbGluZS1pdGVtX19lcnJvcnMnKVxuICAgICAgLmF0dHIoJ3dpZHRoJywgd2luZG93LmlubmVyV2lkdGggLSBzZWxmLnRpbWVsaW5lLmxhYmVsX3Bvc2l0aW9uX3gpXG4gICAgICAuYXR0cignaGVpZ2h0Jywgc2VsZi50aW1lbGluZS5saW5lSGVpZ2h0KTtcblxuICAgIHZhciBlcnJvcnNWYWx1ZSA9IGZ1bmN0aW9uKGQpIHtcbiAgICAgIHJldHVybiBkLmVycm9ycztcbiAgICB9O1xuICAgIHZhciBlcnJvclRpbWUgPSBmdW5jdGlvbihkKSB7XG4gICAgICByZXR1cm4gZC50aW1lO1xuICAgIH07XG5cbiAgICB2YXIgZXJyb3JzID0gcHJvcGVydGllcy5maWx0ZXIocHJvcGVydGllc1dpdGhFcnJvcilcbiAgICAgIC5zZWxlY3QoJy5saW5lLWl0ZW1fX2Vycm9ycycpLnNlbGVjdEFsbCgnLmVycm9yJylcbiAgICAgIC5kYXRhKGVycm9yc1ZhbHVlLCBlcnJvclRpbWUpO1xuXG4gICAgZXJyb3JzLmVudGVyKCkuYXBwZW5kKCdyZWN0JylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdlcnJvcicpXG4gICAgICAuYXR0cignd2lkdGgnLCA0KVxuICAgICAgLmF0dHIoJ2hlaWdodCcsIHNlbGYudGltZWxpbmUubGluZUhlaWdodCAtIDEpXG4gICAgICAuYXR0cigneScsICcxJyk7XG5cbiAgICBwcm9wZXJ0aWVzLnNlbGVjdEFsbCgnLmVycm9yJykuYXR0cigneCcsIGZ1bmN0aW9uKGQpIHtcbiAgICAgIHZhciBkeDtcbiAgICAgIGR4ID0gc2VsZi50aW1lbGluZS54KGQudGltZSAqIDEwMDApO1xuICAgICAgcmV0dXJuIGR4O1xuICAgIH0pO1xuXG4gICAgZXJyb3JzLmV4aXQoKS5yZW1vdmUoKTtcbiAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vZ3JhcGgvRXJyb3JzLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==");
},function(module,exports,__webpack_require__){eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar d3 = __webpack_require__(15);\n\nvar Selection = function () {\n  function Selection(timeline, svg, margin) {\n    _classCallCheck(this, Selection);\n\n    this.timeline = timeline;\n    this.svg = svg;\n    this.margin = margin;\n\n    this.onMouseUp = this.onMouseUp.bind(this);\n    this.init();\n  }\n\n  _createClass(Selection, [{\n    key: 'onMouseUp',\n    value: function onMouseUp() {\n      this.svg.selectAll('.selection').remove();\n      // Enable again the default browser text selection.\n      // Disabled this because is was causing problems with text higlhlighting\n      // $('body').css({\n      //   'user-select': 'all'\n      // });\n    }\n  }, {\n    key: 'init',\n    value: function init() {\n      var self = this;\n      this.svg.on('mousedown', function () {\n        var p = d3.mouse(this);\n        // Only init selection if we click on the timeline and not on the labels.\n        if (p[0] < self.timeline.margin.left) {\n          return;\n        }\n        self.svg.append('rect').attr({\n          class: 'selection',\n          x: p[0],\n          y: p[1],\n          width: 0,\n          height: 0\n        });\n        // Unselect items.\n        self.timeline.selectionManager.reset();\n        // Prevent default browser text selection.\n        $('body').css({\n          'user-select': 'none'\n        });\n      }).on('mousemove', function () {\n        var s = self.svg.select('.selection');\n        if (s.empty()) {\n          return;\n        }\n        var p = d3.mouse(this);\n        var d = {\n          x: parseInt(s.attr('x'), 10),\n          y: parseInt(s.attr('y'), 10),\n          width: parseInt(s.attr('width'), 10),\n          height: parseInt(s.attr('height'), 10)\n        };\n        // Apply margin to mouse selection.\n        p[0] = Math.max(self.margin.left, p[0]);\n\n        var move = {\n          x: p[0] - d.x,\n          y: p[1] - d.y\n        };\n        if (move.x < 1 || move.x * 2 < d.width) {\n          d.x = p[0];\n          d.width -= move.x;\n        } else {\n          d.width = move.x;\n        }\n\n        if (move.y < 1 || move.y * 2 < d.height) {\n          d.y = p[1];\n          d.height -= move.y;\n        } else {\n          d.height = move.y;\n        }\n\n        s.attr(d);\n\n        // remove margins from selection\n        d.x -= self.margin.left;\n        var key_width = 6;\n\n        d.timeStart = self.timeline.x.invert(d.x - key_width).getTime() / 1000;\n        d.timeEnd = self.timeline.x.invert(d.x + d.width + key_width).getTime() / 1000;\n        var containerBounding = self.svg[0][0].getBoundingClientRect();\n\n        // deselect all previously selected items\n        d3.selectAll('.key--selected').classed('key--selected', false);\n        self.timeline.selectionManager.reset();\n        var selection = [];\n        d3.selectAll('.key').each(function (key_data) {\n          var item_data = key_data._property._line;\n\n          // Also keep a reference to the key dom element.\n          key_data._dom = this;\n\n          if (item_data.collapsed !== true) {\n            var itemBounding = d3.select(this)[0][0].getBoundingClientRect();\n            var y = itemBounding.top - containerBounding.top;\n            if (key_data.time >= d.timeStart && key_data.time <= d.timeEnd) {\n              // use or condition for top and bottom\n              if (y >= d.y && y <= d.y + d.height || y + 10 >= d.y && y + 10 <= d.y + d.height) {\n                d3.select(this).classed('key--selected', true);\n\n                selection.push(key_data);\n              }\n            }\n          }\n        });\n        self.timeline.selectionManager.select(selection);\n      });\n      // Attach the mouseup event to window so that it catch it event if\n      // mouseup happen outside of the browser window.\n      $(window).on('mouseup', this.onMouseUp);\n    }\n  }]);\n\n  return Selection;\n}();\n\nexports.default = Selection;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ncmFwaC9TZWxlY3Rpb24uanM/MzRhZiJdLCJuYW1lcyI6WyJkMyIsInJlcXVpcmUiLCJTZWxlY3Rpb24iLCJ0aW1lbGluZSIsInN2ZyIsIm1hcmdpbiIsIm9uTW91c2VVcCIsImJpbmQiLCJpbml0Iiwic2VsZWN0QWxsIiwicmVtb3ZlIiwic2VsZiIsIm9uIiwicCIsIm1vdXNlIiwibGVmdCIsImFwcGVuZCIsImF0dHIiLCJjbGFzcyIsIngiLCJ5Iiwid2lkdGgiLCJoZWlnaHQiLCJzZWxlY3Rpb25NYW5hZ2VyIiwicmVzZXQiLCIkIiwiY3NzIiwicyIsInNlbGVjdCIsImVtcHR5IiwiZCIsInBhcnNlSW50IiwiTWF0aCIsIm1heCIsIm1vdmUiLCJrZXlfd2lkdGgiLCJ0aW1lU3RhcnQiLCJpbnZlcnQiLCJnZXRUaW1lIiwidGltZUVuZCIsImNvbnRhaW5lckJvdW5kaW5nIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiY2xhc3NlZCIsInNlbGVjdGlvbiIsImVhY2giLCJrZXlfZGF0YSIsIml0ZW1fZGF0YSIsIl9wcm9wZXJ0eSIsIl9saW5lIiwiX2RvbSIsImNvbGxhcHNlZCIsIml0ZW1Cb3VuZGluZyIsInRvcCIsInRpbWUiLCJwdXNoIiwid2luZG93Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUEsSUFBSUEsS0FBSyxtQkFBQUMsQ0FBUSxFQUFSLENBQVQ7O0lBRXFCQyxTO0FBQ25CLHFCQUFZQyxRQUFaLEVBQXNCQyxHQUF0QixFQUEyQkMsTUFBM0IsRUFBbUM7QUFBQTs7QUFDakMsU0FBS0YsUUFBTCxHQUFnQkEsUUFBaEI7QUFDQSxTQUFLQyxHQUFMLEdBQVdBLEdBQVg7QUFDQSxTQUFLQyxNQUFMLEdBQWNBLE1BQWQ7O0FBRUEsU0FBS0MsU0FBTCxHQUFpQixLQUFLQSxTQUFMLENBQWVDLElBQWYsQ0FBb0IsSUFBcEIsQ0FBakI7QUFDQSxTQUFLQyxJQUFMO0FBQ0Q7Ozs7Z0NBRVc7QUFDVixXQUFLSixHQUFMLENBQVNLLFNBQVQsQ0FBbUIsWUFBbkIsRUFBaUNDLE1BQWpDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNEOzs7MkJBRU07QUFDTCxVQUFJQyxPQUFPLElBQVg7QUFDQSxXQUFLUCxHQUFMLENBQVNRLEVBQVQsQ0FBWSxXQUFaLEVBQXlCLFlBQVc7QUFDbEMsWUFBSUMsSUFBSWIsR0FBR2MsS0FBSCxDQUFTLElBQVQsQ0FBUjtBQUNBO0FBQ0EsWUFBSUQsRUFBRSxDQUFGLElBQU9GLEtBQUtSLFFBQUwsQ0FBY0UsTUFBZCxDQUFxQlUsSUFBaEMsRUFBc0M7QUFDcEM7QUFDRDtBQUNESixhQUFLUCxHQUFMLENBQVNZLE1BQVQsQ0FBZ0IsTUFBaEIsRUFDR0MsSUFESCxDQUNRO0FBQ0pDLGlCQUFPLFdBREg7QUFFSkMsYUFBR04sRUFBRSxDQUFGLENBRkM7QUFHSk8sYUFBR1AsRUFBRSxDQUFGLENBSEM7QUFJSlEsaUJBQU8sQ0FKSDtBQUtKQyxrQkFBUTtBQUxKLFNBRFI7QUFRQTtBQUNBWCxhQUFLUixRQUFMLENBQWNvQixnQkFBZCxDQUErQkMsS0FBL0I7QUFDQTtBQUNBQyxVQUFFLE1BQUYsRUFBVUMsR0FBVixDQUFjO0FBQ1oseUJBQWU7QUFESCxTQUFkO0FBR0QsT0FwQkQsRUFvQkdkLEVBcEJILENBb0JNLFdBcEJOLEVBb0JtQixZQUFXO0FBQzVCLFlBQUllLElBQUloQixLQUFLUCxHQUFMLENBQVN3QixNQUFULENBQWdCLFlBQWhCLENBQVI7QUFDQSxZQUFJRCxFQUFFRSxLQUFGLEVBQUosRUFBZTtBQUNiO0FBQ0Q7QUFDRCxZQUFJaEIsSUFBSWIsR0FBR2MsS0FBSCxDQUFTLElBQVQsQ0FBUjtBQUNBLFlBQUlnQixJQUFJO0FBQ05YLGFBQUdZLFNBQVNKLEVBQUVWLElBQUYsQ0FBTyxHQUFQLENBQVQsRUFBc0IsRUFBdEIsQ0FERztBQUVORyxhQUFHVyxTQUFTSixFQUFFVixJQUFGLENBQU8sR0FBUCxDQUFULEVBQXNCLEVBQXRCLENBRkc7QUFHTkksaUJBQU9VLFNBQVNKLEVBQUVWLElBQUYsQ0FBTyxPQUFQLENBQVQsRUFBMEIsRUFBMUIsQ0FIRDtBQUlOSyxrQkFBUVMsU0FBU0osRUFBRVYsSUFBRixDQUFPLFFBQVAsQ0FBVCxFQUEyQixFQUEzQjtBQUpGLFNBQVI7QUFNQTtBQUNBSixVQUFFLENBQUYsSUFBT21CLEtBQUtDLEdBQUwsQ0FBU3RCLEtBQUtOLE1BQUwsQ0FBWVUsSUFBckIsRUFBMkJGLEVBQUUsQ0FBRixDQUEzQixDQUFQOztBQUVBLFlBQUlxQixPQUFPO0FBQ1RmLGFBQUdOLEVBQUUsQ0FBRixJQUFPaUIsRUFBRVgsQ0FESDtBQUVUQyxhQUFHUCxFQUFFLENBQUYsSUFBT2lCLEVBQUVWO0FBRkgsU0FBWDtBQUlBLFlBQUljLEtBQUtmLENBQUwsR0FBUyxDQUFULElBQWNlLEtBQUtmLENBQUwsR0FBUyxDQUFULEdBQWFXLEVBQUVULEtBQWpDLEVBQXdDO0FBQ3RDUyxZQUFFWCxDQUFGLEdBQU1OLEVBQUUsQ0FBRixDQUFOO0FBQ0FpQixZQUFFVCxLQUFGLElBQVdhLEtBQUtmLENBQWhCO0FBQ0QsU0FIRCxNQUlLO0FBQ0hXLFlBQUVULEtBQUYsR0FBVWEsS0FBS2YsQ0FBZjtBQUNEOztBQUVELFlBQUllLEtBQUtkLENBQUwsR0FBUyxDQUFULElBQWNjLEtBQUtkLENBQUwsR0FBUyxDQUFULEdBQWFVLEVBQUVSLE1BQWpDLEVBQXlDO0FBQ3ZDUSxZQUFFVixDQUFGLEdBQU1QLEVBQUUsQ0FBRixDQUFOO0FBQ0FpQixZQUFFUixNQUFGLElBQVlZLEtBQUtkLENBQWpCO0FBQ0QsU0FIRCxNQUlLO0FBQ0hVLFlBQUVSLE1BQUYsR0FBV1ksS0FBS2QsQ0FBaEI7QUFDRDs7QUFFRE8sVUFBRVYsSUFBRixDQUFPYSxDQUFQOztBQUVBO0FBQ0FBLFVBQUVYLENBQUYsSUFBT1IsS0FBS04sTUFBTCxDQUFZVSxJQUFuQjtBQUNBLFlBQUlvQixZQUFZLENBQWhCOztBQUVBTCxVQUFFTSxTQUFGLEdBQWN6QixLQUFLUixRQUFMLENBQWNnQixDQUFkLENBQWdCa0IsTUFBaEIsQ0FBdUJQLEVBQUVYLENBQUYsR0FBTWdCLFNBQTdCLEVBQXdDRyxPQUF4QyxLQUFvRCxJQUFsRTtBQUNBUixVQUFFUyxPQUFGLEdBQVk1QixLQUFLUixRQUFMLENBQWNnQixDQUFkLENBQWdCa0IsTUFBaEIsQ0FBdUJQLEVBQUVYLENBQUYsR0FBTVcsRUFBRVQsS0FBUixHQUFnQmMsU0FBdkMsRUFBa0RHLE9BQWxELEtBQThELElBQTFFO0FBQ0EsWUFBSUUsb0JBQW9CN0IsS0FBS1AsR0FBTCxDQUFTLENBQVQsRUFBWSxDQUFaLEVBQWVxQyxxQkFBZixFQUF4Qjs7QUFFQTtBQUNBekMsV0FBR1MsU0FBSCxDQUFhLGdCQUFiLEVBQStCaUMsT0FBL0IsQ0FBdUMsZUFBdkMsRUFBd0QsS0FBeEQ7QUFDQS9CLGFBQUtSLFFBQUwsQ0FBY29CLGdCQUFkLENBQStCQyxLQUEvQjtBQUNBLFlBQUltQixZQUFZLEVBQWhCO0FBQ0EzQyxXQUFHUyxTQUFILENBQWEsTUFBYixFQUFxQm1DLElBQXJCLENBQTJCLFVBQVNDLFFBQVQsRUFBbUI7QUFDNUMsY0FBTUMsWUFBWUQsU0FBU0UsU0FBVCxDQUFtQkMsS0FBckM7O0FBRUE7QUFDQUgsbUJBQVNJLElBQVQsR0FBZ0IsSUFBaEI7O0FBRUEsY0FBSUgsVUFBVUksU0FBVixLQUF3QixJQUE1QixFQUFrQztBQUNoQyxnQkFBSUMsZUFBZW5ELEdBQUc0QixNQUFILENBQVUsSUFBVixFQUFnQixDQUFoQixFQUFtQixDQUFuQixFQUFzQmEscUJBQXRCLEVBQW5CO0FBQ0EsZ0JBQUlyQixJQUFJK0IsYUFBYUMsR0FBYixHQUFtQlosa0JBQWtCWSxHQUE3QztBQUNBLGdCQUFJUCxTQUFTUSxJQUFULElBQWlCdkIsRUFBRU0sU0FBbkIsSUFBZ0NTLFNBQVNRLElBQVQsSUFBaUJ2QixFQUFFUyxPQUF2RCxFQUFnRTtBQUM5RDtBQUNBLGtCQUFJbkIsS0FBS1UsRUFBRVYsQ0FBUCxJQUFZQSxLQUFLVSxFQUFFVixDQUFGLEdBQU1VLEVBQUVSLE1BQXpCLElBQW1DRixJQUFJLEVBQUosSUFBVVUsRUFBRVYsQ0FBWixJQUFpQkEsSUFBSSxFQUFKLElBQVVVLEVBQUVWLENBQUYsR0FBTVUsRUFBRVIsTUFBMUUsRUFBa0Y7QUFDaEZ0QixtQkFBRzRCLE1BQUgsQ0FBVSxJQUFWLEVBQWdCYyxPQUFoQixDQUF3QixlQUF4QixFQUF5QyxJQUF6Qzs7QUFFQUMsMEJBQVVXLElBQVYsQ0FBZVQsUUFBZjtBQUNEO0FBQ0Y7QUFDRjtBQUNGLFNBbEJEO0FBbUJBbEMsYUFBS1IsUUFBTCxDQUFjb0IsZ0JBQWQsQ0FBK0JLLE1BQS9CLENBQXNDZSxTQUF0QztBQUNELE9BekZEO0FBMEZBO0FBQ0E7QUFDQWxCLFFBQUU4QixNQUFGLEVBQVUzQyxFQUFWLENBQWEsU0FBYixFQUF3QixLQUFLTixTQUE3QjtBQUNEOzs7Ozs7a0JBbEhrQkosUyIsImZpbGUiOiIyMy5qcyIsInNvdXJjZXNDb250ZW50IjpbImxldCBkMyA9IHJlcXVpcmUoJ2QzJyk7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlbGVjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHRpbWVsaW5lLCBzdmcsIG1hcmdpbikge1xuICAgIHRoaXMudGltZWxpbmUgPSB0aW1lbGluZTtcbiAgICB0aGlzLnN2ZyA9IHN2ZztcbiAgICB0aGlzLm1hcmdpbiA9IG1hcmdpbjtcblxuICAgIHRoaXMub25Nb3VzZVVwID0gdGhpcy5vbk1vdXNlVXAuYmluZCh0aGlzKTtcbiAgICB0aGlzLmluaXQoKTtcbiAgfVxuXG4gIG9uTW91c2VVcCgpIHtcbiAgICB0aGlzLnN2Zy5zZWxlY3RBbGwoJy5zZWxlY3Rpb24nKS5yZW1vdmUoKTtcbiAgICAvLyBFbmFibGUgYWdhaW4gdGhlIGRlZmF1bHQgYnJvd3NlciB0ZXh0IHNlbGVjdGlvbi5cbiAgICAvLyBEaXNhYmxlZCB0aGlzIGJlY2F1c2UgaXMgd2FzIGNhdXNpbmcgcHJvYmxlbXMgd2l0aCB0ZXh0IGhpZ2xobGlnaHRpbmdcbiAgICAvLyAkKCdib2R5JykuY3NzKHtcbiAgICAvLyAgICd1c2VyLXNlbGVjdCc6ICdhbGwnXG4gICAgLy8gfSk7XG4gIH1cblxuICBpbml0KCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB0aGlzLnN2Zy5vbignbW91c2Vkb3duJywgZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcCA9IGQzLm1vdXNlKHRoaXMpO1xuICAgICAgLy8gT25seSBpbml0IHNlbGVjdGlvbiBpZiB3ZSBjbGljayBvbiB0aGUgdGltZWxpbmUgYW5kIG5vdCBvbiB0aGUgbGFiZWxzLlxuICAgICAgaWYgKHBbMF0gPCBzZWxmLnRpbWVsaW5lLm1hcmdpbi5sZWZ0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNlbGYuc3ZnLmFwcGVuZCgncmVjdCcpXG4gICAgICAgIC5hdHRyKHtcbiAgICAgICAgICBjbGFzczogJ3NlbGVjdGlvbicsXG4gICAgICAgICAgeDogcFswXSxcbiAgICAgICAgICB5OiBwWzFdLFxuICAgICAgICAgIHdpZHRoOiAwLFxuICAgICAgICAgIGhlaWdodDogMFxuICAgICAgICB9KTtcbiAgICAgIC8vIFVuc2VsZWN0IGl0ZW1zLlxuICAgICAgc2VsZi50aW1lbGluZS5zZWxlY3Rpb25NYW5hZ2VyLnJlc2V0KCk7XG4gICAgICAvLyBQcmV2ZW50IGRlZmF1bHQgYnJvd3NlciB0ZXh0IHNlbGVjdGlvbi5cbiAgICAgICQoJ2JvZHknKS5jc3Moe1xuICAgICAgICAndXNlci1zZWxlY3QnOiAnbm9uZSdcbiAgICAgIH0pO1xuICAgIH0pLm9uKCdtb3VzZW1vdmUnLCBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzID0gc2VsZi5zdmcuc2VsZWN0KCcuc2VsZWN0aW9uJyk7XG4gICAgICBpZiAocy5lbXB0eSgpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBwID0gZDMubW91c2UodGhpcyk7XG4gICAgICB2YXIgZCA9IHtcbiAgICAgICAgeDogcGFyc2VJbnQocy5hdHRyKCd4JyksIDEwKSxcbiAgICAgICAgeTogcGFyc2VJbnQocy5hdHRyKCd5JyksIDEwKSxcbiAgICAgICAgd2lkdGg6IHBhcnNlSW50KHMuYXR0cignd2lkdGgnKSwgMTApLFxuICAgICAgICBoZWlnaHQ6IHBhcnNlSW50KHMuYXR0cignaGVpZ2h0JyksIDEwKVxuICAgICAgfTtcbiAgICAgIC8vIEFwcGx5IG1hcmdpbiB0byBtb3VzZSBzZWxlY3Rpb24uXG4gICAgICBwWzBdID0gTWF0aC5tYXgoc2VsZi5tYXJnaW4ubGVmdCwgcFswXSk7XG5cbiAgICAgIHZhciBtb3ZlID0ge1xuICAgICAgICB4OiBwWzBdIC0gZC54LFxuICAgICAgICB5OiBwWzFdIC0gZC55XG4gICAgICB9O1xuICAgICAgaWYgKG1vdmUueCA8IDEgfHwgbW92ZS54ICogMiA8IGQud2lkdGgpIHtcbiAgICAgICAgZC54ID0gcFswXTtcbiAgICAgICAgZC53aWR0aCAtPSBtb3ZlLng7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgZC53aWR0aCA9IG1vdmUueDtcbiAgICAgIH1cblxuICAgICAgaWYgKG1vdmUueSA8IDEgfHwgbW92ZS55ICogMiA8IGQuaGVpZ2h0KSB7XG4gICAgICAgIGQueSA9IHBbMV07XG4gICAgICAgIGQuaGVpZ2h0IC09IG1vdmUueTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBkLmhlaWdodCA9IG1vdmUueTtcbiAgICAgIH1cblxuICAgICAgcy5hdHRyKGQpO1xuXG4gICAgICAvLyByZW1vdmUgbWFyZ2lucyBmcm9tIHNlbGVjdGlvblxuICAgICAgZC54IC09IHNlbGYubWFyZ2luLmxlZnQ7XG4gICAgICB2YXIga2V5X3dpZHRoID0gNjtcblxuICAgICAgZC50aW1lU3RhcnQgPSBzZWxmLnRpbWVsaW5lLnguaW52ZXJ0KGQueCAtIGtleV93aWR0aCkuZ2V0VGltZSgpIC8gMTAwMDtcbiAgICAgIGQudGltZUVuZCA9IHNlbGYudGltZWxpbmUueC5pbnZlcnQoZC54ICsgZC53aWR0aCArIGtleV93aWR0aCkuZ2V0VGltZSgpIC8gMTAwMDtcbiAgICAgIHZhciBjb250YWluZXJCb3VuZGluZyA9IHNlbGYuc3ZnWzBdWzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAvLyBkZXNlbGVjdCBhbGwgcHJldmlvdXNseSBzZWxlY3RlZCBpdGVtc1xuICAgICAgZDMuc2VsZWN0QWxsKCcua2V5LS1zZWxlY3RlZCcpLmNsYXNzZWQoJ2tleS0tc2VsZWN0ZWQnLCBmYWxzZSk7XG4gICAgICBzZWxmLnRpbWVsaW5lLnNlbGVjdGlvbk1hbmFnZXIucmVzZXQoKTtcbiAgICAgIHZhciBzZWxlY3Rpb24gPSBbXTtcbiAgICAgIGQzLnNlbGVjdEFsbCgnLmtleScpLmVhY2goIGZ1bmN0aW9uKGtleV9kYXRhKSB7XG4gICAgICAgIGNvbnN0IGl0ZW1fZGF0YSA9IGtleV9kYXRhLl9wcm9wZXJ0eS5fbGluZTtcblxuICAgICAgICAvLyBBbHNvIGtlZXAgYSByZWZlcmVuY2UgdG8gdGhlIGtleSBkb20gZWxlbWVudC5cbiAgICAgICAga2V5X2RhdGEuX2RvbSA9IHRoaXM7XG5cbiAgICAgICAgaWYgKGl0ZW1fZGF0YS5jb2xsYXBzZWQgIT09IHRydWUpIHtcbiAgICAgICAgICB2YXIgaXRlbUJvdW5kaW5nID0gZDMuc2VsZWN0KHRoaXMpWzBdWzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgIHZhciB5ID0gaXRlbUJvdW5kaW5nLnRvcCAtIGNvbnRhaW5lckJvdW5kaW5nLnRvcDtcbiAgICAgICAgICBpZiAoa2V5X2RhdGEudGltZSA+PSBkLnRpbWVTdGFydCAmJiBrZXlfZGF0YS50aW1lIDw9IGQudGltZUVuZCkge1xuICAgICAgICAgICAgLy8gdXNlIG9yIGNvbmRpdGlvbiBmb3IgdG9wIGFuZCBib3R0b21cbiAgICAgICAgICAgIGlmICh5ID49IGQueSAmJiB5IDw9IGQueSArIGQuaGVpZ2h0IHx8IHkgKyAxMCA+PSBkLnkgJiYgeSArIDEwIDw9IGQueSArIGQuaGVpZ2h0KSB7XG4gICAgICAgICAgICAgIGQzLnNlbGVjdCh0aGlzKS5jbGFzc2VkKCdrZXktLXNlbGVjdGVkJywgdHJ1ZSk7XG5cbiAgICAgICAgICAgICAgc2VsZWN0aW9uLnB1c2goa2V5X2RhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBzZWxmLnRpbWVsaW5lLnNlbGVjdGlvbk1hbmFnZXIuc2VsZWN0KHNlbGVjdGlvbik7XG4gICAgfSk7XG4gICAgLy8gQXR0YWNoIHRoZSBtb3VzZXVwIGV2ZW50IHRvIHdpbmRvdyBzbyB0aGF0IGl0IGNhdGNoIGl0IGV2ZW50IGlmXG4gICAgLy8gbW91c2V1cCBoYXBwZW4gb3V0c2lkZSBvZiB0aGUgYnJvd3NlciB3aW5kb3cuXG4gICAgJCh3aW5kb3cpLm9uKCdtb3VzZXVwJywgdGhpcy5vbk1vdXNlVXApO1xuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ncmFwaC9TZWxlY3Rpb24uanMiXSwic291cmNlUm9vdCI6IiJ9")},function(module,exports,__webpack_require__){eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\n__webpack_require__(25);\n\nvar _Property = __webpack_require__(26);\n\nvar _Property2 = _interopRequireDefault(_Property);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Signals = __webpack_require__(6);\n\n\nvar tpl_propertiesEditor = __webpack_require__(47);\n\nvar PropertiesEditor = function () {\n  function PropertiesEditor(editor) {\n    _classCallCheck(this, PropertiesEditor);\n\n    this.editor = editor;\n\n    this.render = this.render.bind(this);\n    this.addProperty = this.addProperty.bind(this);\n    this.onSelect = this.onSelect.bind(this);\n    this.onKeyAdded = this.onKeyAdded.bind(this);\n\n    this.timeline = this.editor.timeline;\n    this.timer = this.editor.timer;\n    this.selectionManager = editor.selectionManager;\n\n    this.$el = $(tpl_propertiesEditor());\n    this.$container = this.$el.find('.properties-editor__main');\n    // todo: rename keyAdded to updated\n    this.keyAdded = new Signals.Signal();\n    this.keyRemoved = new Signals.Signal();\n    this.items = [];\n\n    this.parentElement = editor.el;\n    // Close properties by default.\n    this.parentElement.addClass('properties-is-closed');\n    // Add the properties editor to the document.\n    this.parentElement.append(this.$el);\n\n    this.selectionManager.onSelect.add(this.onSelect);\n\n    // Stop event propagation to no play by accident.\n    this.$el.keypress(function (e) {\n      return e.stopPropagation();\n    });\n  }\n\n  _createClass(PropertiesEditor, [{\n    key: 'onKeyAdded',\n    value: function onKeyAdded() {\n      this.keyAdded.dispatch();\n    }\n  }, {\n    key: 'onSelect',\n    value: function onSelect() {\n      var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      this.items.forEach(function (item) {\n        item.remove();\n      });\n      this.items = [];\n      this.$container.empty();\n      if (data instanceof Array) {\n        for (var i = 0; i < data.length; i++) {\n          this.addProperty(data[i]);\n        }\n      } else {\n        this.addProperty(data);\n      }\n\n      // When selecting anything, automatically display the properties editor.\n      if (this.items.length) {\n        this.parentElement.removeClass('properties-is-closed');\n      }\n    }\n  }, {\n    key: 'addProperty',\n    value: function addProperty(data) {\n      var prop = new _Property2.default(this.editor, this.$container, data);\n      prop.keyAdded.add(this.onKeyAdded);\n      this.items.push(prop);\n    }\n  }, {\n    key: 'render',\n    value: function render(time, time_changed) {\n      if (!time_changed) {\n        return;\n      }\n      this.items.forEach(function (prop) {\n        prop.update();\n      });\n    }\n  }]);\n\n  return PropertiesEditor;\n}();\n\nexports.default = PropertiesEditor;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9lZGl0b3IvUHJvcGVydGllc0VkaXRvci5qcz9kNWQ4Il0sIm5hbWVzIjpbIlNpZ25hbHMiLCJyZXF1aXJlIiwidHBsX3Byb3BlcnRpZXNFZGl0b3IiLCJQcm9wZXJ0aWVzRWRpdG9yIiwiZWRpdG9yIiwicmVuZGVyIiwiYmluZCIsImFkZFByb3BlcnR5Iiwib25TZWxlY3QiLCJvbktleUFkZGVkIiwidGltZWxpbmUiLCJ0aW1lciIsInNlbGVjdGlvbk1hbmFnZXIiLCIkZWwiLCIkIiwiJGNvbnRhaW5lciIsImZpbmQiLCJrZXlBZGRlZCIsIlNpZ25hbCIsImtleVJlbW92ZWQiLCJpdGVtcyIsInBhcmVudEVsZW1lbnQiLCJlbCIsImFkZENsYXNzIiwiYXBwZW5kIiwiYWRkIiwia2V5cHJlc3MiLCJlIiwic3RvcFByb3BhZ2F0aW9uIiwiZGlzcGF0Y2giLCJkYXRhIiwiZm9yRWFjaCIsIml0ZW0iLCJyZW1vdmUiLCJlbXB0eSIsIkFycmF5IiwiaSIsImxlbmd0aCIsInJlbW92ZUNsYXNzIiwicHJvcCIsIlByb3BlcnR5IiwicHVzaCIsInRpbWUiLCJ0aW1lX2NoYW5nZWQiLCJ1cGRhdGUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7O0FBRUE7Ozs7Ozs7O0FBREEsSUFBSUEsVUFBVSxtQkFBQUMsQ0FBUSxDQUFSLENBQWQ7OztBQUdBLElBQUlDLHVCQUF1QixtQkFBQUQsQ0FBUSxFQUFSLENBQTNCOztJQUVxQkUsZ0I7QUFDbkIsNEJBQVlDLE1BQVosRUFBb0I7QUFBQTs7QUFDbEIsU0FBS0EsTUFBTCxHQUFjQSxNQUFkOztBQUVBLFNBQUtDLE1BQUwsR0FBYyxLQUFLQSxNQUFMLENBQVlDLElBQVosQ0FBaUIsSUFBakIsQ0FBZDtBQUNBLFNBQUtDLFdBQUwsR0FBbUIsS0FBS0EsV0FBTCxDQUFpQkQsSUFBakIsQ0FBc0IsSUFBdEIsQ0FBbkI7QUFDQSxTQUFLRSxRQUFMLEdBQWdCLEtBQUtBLFFBQUwsQ0FBY0YsSUFBZCxDQUFtQixJQUFuQixDQUFoQjtBQUNBLFNBQUtHLFVBQUwsR0FBa0IsS0FBS0EsVUFBTCxDQUFnQkgsSUFBaEIsQ0FBcUIsSUFBckIsQ0FBbEI7O0FBRUEsU0FBS0ksUUFBTCxHQUFnQixLQUFLTixNQUFMLENBQVlNLFFBQTVCO0FBQ0EsU0FBS0MsS0FBTCxHQUFhLEtBQUtQLE1BQUwsQ0FBWU8sS0FBekI7QUFDQSxTQUFLQyxnQkFBTCxHQUF3QlIsT0FBT1EsZ0JBQS9COztBQUVBLFNBQUtDLEdBQUwsR0FBV0MsRUFBRVosc0JBQUYsQ0FBWDtBQUNBLFNBQUthLFVBQUwsR0FBa0IsS0FBS0YsR0FBTCxDQUFTRyxJQUFULENBQWMsMEJBQWQsQ0FBbEI7QUFDQTtBQUNBLFNBQUtDLFFBQUwsR0FBZ0IsSUFBSWpCLFFBQVFrQixNQUFaLEVBQWhCO0FBQ0EsU0FBS0MsVUFBTCxHQUFrQixJQUFJbkIsUUFBUWtCLE1BQVosRUFBbEI7QUFDQSxTQUFLRSxLQUFMLEdBQWEsRUFBYjs7QUFFQSxTQUFLQyxhQUFMLEdBQXFCakIsT0FBT2tCLEVBQTVCO0FBQ0E7QUFDQSxTQUFLRCxhQUFMLENBQW1CRSxRQUFuQixDQUE0QixzQkFBNUI7QUFDQTtBQUNBLFNBQUtGLGFBQUwsQ0FBbUJHLE1BQW5CLENBQTBCLEtBQUtYLEdBQS9COztBQUVBLFNBQUtELGdCQUFMLENBQXNCSixRQUF0QixDQUErQmlCLEdBQS9CLENBQW1DLEtBQUtqQixRQUF4Qzs7QUFFQTtBQUNBLFNBQUtLLEdBQUwsQ0FBU2EsUUFBVCxDQUFrQixVQUFTQyxDQUFULEVBQVk7QUFDNUIsYUFBT0EsRUFBRUMsZUFBRixFQUFQO0FBQ0QsS0FGRDtBQUdEOzs7O2lDQUVZO0FBQ1gsV0FBS1gsUUFBTCxDQUFjWSxRQUFkO0FBQ0Q7OzsrQkFFc0I7QUFBQSxVQUFkQyxJQUFjLHVFQUFQLEtBQU87O0FBQ3JCLFdBQUtWLEtBQUwsQ0FBV1csT0FBWCxDQUFtQixVQUFDQyxJQUFELEVBQVU7QUFBQ0EsYUFBS0MsTUFBTDtBQUFlLE9BQTdDO0FBQ0EsV0FBS2IsS0FBTCxHQUFhLEVBQWI7QUFDQSxXQUFLTCxVQUFMLENBQWdCbUIsS0FBaEI7QUFDQSxVQUFJSixnQkFBZ0JLLEtBQXBCLEVBQTJCO0FBQ3pCLGFBQUssSUFBSUMsSUFBSSxDQUFiLEVBQWdCQSxJQUFJTixLQUFLTyxNQUF6QixFQUFpQ0QsR0FBakMsRUFBc0M7QUFDcEMsZUFBSzdCLFdBQUwsQ0FBaUJ1QixLQUFLTSxDQUFMLENBQWpCO0FBQ0Q7QUFDRixPQUpELE1BS0s7QUFDSCxhQUFLN0IsV0FBTCxDQUFpQnVCLElBQWpCO0FBQ0Q7O0FBRUQ7QUFDQSxVQUFJLEtBQUtWLEtBQUwsQ0FBV2lCLE1BQWYsRUFBdUI7QUFDckIsYUFBS2hCLGFBQUwsQ0FBbUJpQixXQUFuQixDQUErQixzQkFBL0I7QUFDRDtBQUNGOzs7Z0NBRVdSLEksRUFBTTtBQUNoQixVQUFJUyxPQUFPLElBQUlDLGtCQUFKLENBQWEsS0FBS3BDLE1BQWxCLEVBQTBCLEtBQUtXLFVBQS9CLEVBQTJDZSxJQUEzQyxDQUFYO0FBQ0FTLFdBQUt0QixRQUFMLENBQWNRLEdBQWQsQ0FBa0IsS0FBS2hCLFVBQXZCO0FBQ0EsV0FBS1csS0FBTCxDQUFXcUIsSUFBWCxDQUFnQkYsSUFBaEI7QUFDRDs7OzJCQUVNRyxJLEVBQU1DLFksRUFBYztBQUN6QixVQUFJLENBQUNBLFlBQUwsRUFBbUI7QUFDakI7QUFDRDtBQUNELFdBQUt2QixLQUFMLENBQVdXLE9BQVgsQ0FBbUIsVUFBQ1EsSUFBRCxFQUFVO0FBQUNBLGFBQUtLLE1BQUw7QUFBZSxPQUE3QztBQUNEOzs7Ozs7a0JBcEVrQnpDLGdCIiwiZmlsZSI6IjI0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICdqcXVlcnknO1xubGV0IFNpZ25hbHMgPSByZXF1aXJlKCdqcy1zaWduYWxzJyk7XG5pbXBvcnQgUHJvcGVydHkgZnJvbSAnLi4vZWRpdG9yL1Byb3BlcnR5JztcblxubGV0IHRwbF9wcm9wZXJ0aWVzRWRpdG9yID0gcmVxdWlyZSgnLi8uLi90ZW1wbGF0ZXMvcHJvcGVydGllc0VkaXRvci50cGwuaHRtbCcpO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQcm9wZXJ0aWVzRWRpdG9yIHtcbiAgY29uc3RydWN0b3IoZWRpdG9yKSB7XG4gICAgdGhpcy5lZGl0b3IgPSBlZGl0b3I7XG5cbiAgICB0aGlzLnJlbmRlciA9IHRoaXMucmVuZGVyLmJpbmQodGhpcyk7XG4gICAgdGhpcy5hZGRQcm9wZXJ0eSA9IHRoaXMuYWRkUHJvcGVydHkuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uU2VsZWN0ID0gdGhpcy5vblNlbGVjdC5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25LZXlBZGRlZCA9IHRoaXMub25LZXlBZGRlZC5iaW5kKHRoaXMpO1xuXG4gICAgdGhpcy50aW1lbGluZSA9IHRoaXMuZWRpdG9yLnRpbWVsaW5lO1xuICAgIHRoaXMudGltZXIgPSB0aGlzLmVkaXRvci50aW1lcjtcbiAgICB0aGlzLnNlbGVjdGlvbk1hbmFnZXIgPSBlZGl0b3Iuc2VsZWN0aW9uTWFuYWdlcjtcblxuICAgIHRoaXMuJGVsID0gJCh0cGxfcHJvcGVydGllc0VkaXRvcigpKTtcbiAgICB0aGlzLiRjb250YWluZXIgPSB0aGlzLiRlbC5maW5kKCcucHJvcGVydGllcy1lZGl0b3JfX21haW4nKTtcbiAgICAvLyB0b2RvOiByZW5hbWUga2V5QWRkZWQgdG8gdXBkYXRlZFxuICAgIHRoaXMua2V5QWRkZWQgPSBuZXcgU2lnbmFscy5TaWduYWwoKTtcbiAgICB0aGlzLmtleVJlbW92ZWQgPSBuZXcgU2lnbmFscy5TaWduYWwoKTtcbiAgICB0aGlzLml0ZW1zID0gW107XG5cbiAgICB0aGlzLnBhcmVudEVsZW1lbnQgPSBlZGl0b3IuZWw7XG4gICAgLy8gQ2xvc2UgcHJvcGVydGllcyBieSBkZWZhdWx0LlxuICAgIHRoaXMucGFyZW50RWxlbWVudC5hZGRDbGFzcygncHJvcGVydGllcy1pcy1jbG9zZWQnKTtcbiAgICAvLyBBZGQgdGhlIHByb3BlcnRpZXMgZWRpdG9yIHRvIHRoZSBkb2N1bWVudC5cbiAgICB0aGlzLnBhcmVudEVsZW1lbnQuYXBwZW5kKHRoaXMuJGVsKTtcblxuICAgIHRoaXMuc2VsZWN0aW9uTWFuYWdlci5vblNlbGVjdC5hZGQodGhpcy5vblNlbGVjdCk7XG5cbiAgICAvLyBTdG9wIGV2ZW50IHByb3BhZ2F0aW9uIHRvIG5vIHBsYXkgYnkgYWNjaWRlbnQuXG4gICAgdGhpcy4kZWwua2V5cHJlc3MoZnVuY3Rpb24oZSkge1xuICAgICAgcmV0dXJuIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfSk7XG4gIH1cblxuICBvbktleUFkZGVkKCkge1xuICAgIHRoaXMua2V5QWRkZWQuZGlzcGF0Y2goKTtcbiAgfVxuXG4gIG9uU2VsZWN0KGRhdGEgPSBmYWxzZSkge1xuICAgIHRoaXMuaXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge2l0ZW0ucmVtb3ZlKCk7fSk7XG4gICAgdGhpcy5pdGVtcyA9IFtdO1xuICAgIHRoaXMuJGNvbnRhaW5lci5lbXB0eSgpO1xuICAgIGlmIChkYXRhIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICB0aGlzLmFkZFByb3BlcnR5KGRhdGFbaV0pO1xuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMuYWRkUHJvcGVydHkoZGF0YSk7XG4gICAgfVxuXG4gICAgLy8gV2hlbiBzZWxlY3RpbmcgYW55dGhpbmcsIGF1dG9tYXRpY2FsbHkgZGlzcGxheSB0aGUgcHJvcGVydGllcyBlZGl0b3IuXG4gICAgaWYgKHRoaXMuaXRlbXMubGVuZ3RoKSB7XG4gICAgICB0aGlzLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2xhc3MoJ3Byb3BlcnRpZXMtaXMtY2xvc2VkJyk7XG4gICAgfVxuICB9XG5cbiAgYWRkUHJvcGVydHkoZGF0YSkge1xuICAgIHZhciBwcm9wID0gbmV3IFByb3BlcnR5KHRoaXMuZWRpdG9yLCB0aGlzLiRjb250YWluZXIsIGRhdGEpO1xuICAgIHByb3Aua2V5QWRkZWQuYWRkKHRoaXMub25LZXlBZGRlZCk7XG4gICAgdGhpcy5pdGVtcy5wdXNoKHByb3ApO1xuICB9XG5cbiAgcmVuZGVyKHRpbWUsIHRpbWVfY2hhbmdlZCkge1xuICAgIGlmICghdGltZV9jaGFuZ2VkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuaXRlbXMuZm9yRWFjaCgocHJvcCkgPT4ge3Byb3AudXBkYXRlKCk7fSk7XG4gIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2VkaXRvci9Qcm9wZXJ0aWVzRWRpdG9yLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==")},function(module,exports){eval("module.exports = __WEBPACK_EXTERNAL_MODULE_25__;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwge1wicm9vdFwiOlwiJFwiLFwiY29tbW9uanNcIjpcImpxdWVyeVwiLFwiY29tbW9uanMyXCI6XCJqcXVlcnlcIixcImFtZFwiOlwianF1ZXJ5XCJ9PzI1M2YiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiMjUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfMjVfXztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCB7XCJyb290XCI6XCIkXCIsXCJjb21tb25qc1wiOlwianF1ZXJ5XCIsXCJjb21tb25qczJcIjpcImpxdWVyeVwiLFwiYW1kXCI6XCJqcXVlcnlcIn1cbi8vIG1vZHVsZSBpZCA9IDI1XG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJzb3VyY2VSb290IjoiIn0=")},function(module,exports,__webpack_require__){eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _PropertyNumber = __webpack_require__(27);\n\nvar _PropertyNumber2 = _interopRequireDefault(_PropertyNumber);\n\nvar _PropertyColor = __webpack_require__(34);\n\nvar _PropertyColor2 = _interopRequireDefault(_PropertyColor);\n\nvar _PropertyTween = __webpack_require__(37);\n\nvar _PropertyTween2 = _interopRequireDefault(_PropertyTween);\n\nvar _PropertyEvent = __webpack_require__(39);\n\nvar _PropertyEvent2 = _interopRequireDefault(_PropertyEvent);\n\nvar _PropertyVector = __webpack_require__(41);\n\nvar _PropertyVector2 = _interopRequireDefault(_PropertyVector);\n\nvar _PropertyVector3 = __webpack_require__(43);\n\nvar _PropertyVector4 = _interopRequireDefault(_PropertyVector3);\n\nvar _PropertyFooter = __webpack_require__(45);\n\nvar _PropertyFooter2 = _interopRequireDefault(_PropertyFooter);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Signals = __webpack_require__(6);\n\nvar Property = function () {\n    function Property(editor, $el, data) {\n        _classCallCheck(this, Property);\n\n        this.editor = editor;\n        this.$el = $el;\n\n        this.onKeyAdded = this.onKeyAdded.bind(this);\n\n        this.timeline = editor.timeline;\n        this.timer = editor.timer;\n        this.selectionManager = editor.selectionManager;\n        this.keyAdded = new Signals.Signal();\n        this.items = [];\n        this.numberProp = false;\n        this.tweenProp = false;\n\n        var key_val = false;\n        // var propertyObject = false;\n        var propertyData = false;\n        // var lineObject = false;\n        var lineData = false;\n\n        // For keys the _property data should be defined.\n        if (data._property) {\n            propertyData = data._property;\n            lineData = propertyData._line;\n            key_val = data;\n        }\n\n        // Check if we selected a main item.\n        if (data.id) {\n            lineData = data;\n        }\n\n        // data and propertyData are defined on key select.\n        var property_name = false;\n        if (propertyData) {\n            property_name = propertyData.name;\n        }\n\n        // Get the property container.\n        var $container = this.getContainer(lineData);\n\n        var $tween_container = $container;\n\n        // Basic data, loop through properties.\n        for (var key in lineData.properties) {\n            if (lineData.properties.hasOwnProperty(key)) {\n                var instance_prop = lineData.properties[key];\n                // show all properties or only 1 if we selected a key.\n                if (!property_name || instance_prop.name === property_name) {\n                    var $grp_container = this.getGroupContainer(instance_prop, $container);\n                    var numberProp = this.addNumberProperty(instance_prop, lineData, key_val, $grp_container);\n                    this.items.push(numberProp);\n                    if (instance_prop.name === property_name) {\n                        $tween_container = $grp_container;\n                    }\n\n                    if (property_name) {\n                        if (instance_prop.type !== 'event') {\n                            // Add tween select if we are editing a key, so only if there is property_name.\n                            var tweenProp = this.addTweenProperty(instance_prop, lineData, key_val, $tween_container);\n                            this.items.push(tweenProp);\n                        }\n                        var footerProp = this.addFooter(instance_prop, lineData, key_val, $tween_container, propertyData);\n                        this.items.push(footerProp);\n                    }\n                }\n            }\n        }\n    }\n\n    _createClass(Property, [{\n        key: 'onKeyAdded',\n        value: function onKeyAdded() {\n            // propagate the event.\n            this.keyAdded.dispatch();\n        }\n    }, {\n        key: 'getGroupContainer',\n        value: function getGroupContainer(instance_prop, $container) {\n            var $existing;\n            var $grp;\n            var grp_class;\n            if (!instance_prop.group) {\n                grp_class = 'property-grp--general';\n                $existing = $container.find('.' + grp_class);\n                if ($existing.length) {\n                    return $existing;\n                }\n\n                $grp = this.createGroupContainer(grp_class);\n                $container.append($grp);\n                return $grp;\n            }\n            // Replace all spaces to dash and make class lowercase\n            var group_name = instance_prop.group.replace(/\\s+/g, '-').toLowerCase();\n            grp_class = 'property-grp--' + group_name;\n            $existing = $container.find('.' + grp_class);\n            if ($existing.length) {\n                return $existing;\n            }\n            $grp = this.createGroupContainer(grp_class, instance_prop.group);\n            $container.append($grp);\n            return $grp;\n        }\n    }, {\n        key: 'createGroupContainer',\n        value: function createGroupContainer(grp_class) {\n            var label = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n            var $grp = $('<div class=\"property-grp ' + grp_class + '\"></div>');\n            if (label) {\n                $grp.append('<h3 class=\"property-grp__title\">' + label + '</h3>');\n            }\n            return $grp;\n        }\n    }, {\n        key: 'getContainer',\n        value: function getContainer(lineData) {\n            var $container = false;\n            if (lineData.id) {\n                $container = $('#property--' + lineData.id);\n                if (!$container.length) {\n                    $container = $container = $('<div class=\"properties__wrapper\" id=\"property--' + lineData.id + '\"></div>');\n                    this.$el.append($container);\n                    if (lineData.label) {\n                        $container.append('<h2 class=\"properties-editor__title\">' + lineData.label + '</h2>');\n                    }\n                }\n            }\n            if ($container === false) {\n                $container = $('<div class=\"properties__wrapper\" id=\"no-item\"></div>');\n                this.$el.append($container);\n            }\n            return $container;\n        }\n    }, {\n        key: 'remove',\n        value: function remove() {\n            this.items.forEach(function (item) {\n                item.remove();\n            });\n            if (this.keyAdded) {\n                this.keyAdded.dispose();\n            }\n\n            delete this.editor;\n            delete this.$el;\n\n            delete this.timeline;\n            delete this.timer;\n            delete this.selectionManager;\n            delete this.keyAdded;\n            delete this.items;\n            delete this.numberProp;\n            delete this.tweenProp;\n        }\n    }, {\n        key: 'addNumberProperty',\n        value: function addNumberProperty(instance_prop, lineData, key_val, $container) {\n            var PropClass = _PropertyNumber2.default;\n            if (instance_prop.type === 'color') {\n                PropClass = _PropertyColor2.default;\n            } else if (instance_prop.type === 'event') {\n                PropClass = _PropertyEvent2.default;\n            } else if (instance_prop.type === 'vector3') {\n                PropClass = _PropertyVector2.default;\n            } else if (instance_prop.type === 'vector4') {\n                PropClass = _PropertyVector4.default;\n            }\n            var prop = new PropClass(instance_prop, lineData, this.editor, key_val);\n            prop.keyAdded.add(this.onKeyAdded);\n            $container.append(prop.$el);\n            return prop;\n        }\n    }, {\n        key: 'addTweenProperty',\n        value: function addTweenProperty(instance_prop, lineData, key_val, $container) {\n            var tween = new _PropertyTween2.default(instance_prop, lineData, this.editor, key_val, this.timeline);\n            $container.append(tween.$el);\n            return tween;\n        }\n    }, {\n        key: 'addFooter',\n        value: function addFooter(instance_prop, lineData, key_val, $container, propertyData) {\n            var _this = this;\n\n            var footer = new _PropertyFooter2.default(instance_prop, lineData, this.editor, key_val, this.timeline);\n            $container.append(footer.$el);\n\n            // Add a remove key button\n            footer.$el.find('[data-action-remove]').click(function (e) {\n                e.preventDefault();\n                var index = propertyData.keys.indexOf(key_val);\n                if (index > -1) {\n                    propertyData.keys.splice(index, 1);\n                    if (key_val._dom) {\n                        _this.editor.propertiesEditor.keyRemoved.dispatch(key_val);\n                    }\n                    lineData._isDirty = true;\n                }\n            });\n            return footer;\n        }\n    }, {\n        key: 'update',\n        value: function update() {\n            for (var i = 0; i < this.items.length; i++) {\n                var item = this.items[i];\n                item.update();\n            }\n        }\n    }]);\n\n    return Property;\n}();\n\nexports.default = Property;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9lZGl0b3IvUHJvcGVydHkuanM/MmZhNyJdLCJuYW1lcyI6WyJTaWduYWxzIiwicmVxdWlyZSIsIlByb3BlcnR5IiwiZWRpdG9yIiwiJGVsIiwiZGF0YSIsIm9uS2V5QWRkZWQiLCJiaW5kIiwidGltZWxpbmUiLCJ0aW1lciIsInNlbGVjdGlvbk1hbmFnZXIiLCJrZXlBZGRlZCIsIlNpZ25hbCIsIml0ZW1zIiwibnVtYmVyUHJvcCIsInR3ZWVuUHJvcCIsImtleV92YWwiLCJwcm9wZXJ0eURhdGEiLCJsaW5lRGF0YSIsIl9wcm9wZXJ0eSIsIl9saW5lIiwiaWQiLCJwcm9wZXJ0eV9uYW1lIiwibmFtZSIsIiRjb250YWluZXIiLCJnZXRDb250YWluZXIiLCIkdHdlZW5fY29udGFpbmVyIiwia2V5IiwicHJvcGVydGllcyIsImhhc093blByb3BlcnR5IiwiaW5zdGFuY2VfcHJvcCIsIiRncnBfY29udGFpbmVyIiwiZ2V0R3JvdXBDb250YWluZXIiLCJhZGROdW1iZXJQcm9wZXJ0eSIsInB1c2giLCJ0eXBlIiwiYWRkVHdlZW5Qcm9wZXJ0eSIsImZvb3RlclByb3AiLCJhZGRGb290ZXIiLCJkaXNwYXRjaCIsIiRleGlzdGluZyIsIiRncnAiLCJncnBfY2xhc3MiLCJncm91cCIsImZpbmQiLCJsZW5ndGgiLCJjcmVhdGVHcm91cENvbnRhaW5lciIsImFwcGVuZCIsImdyb3VwX25hbWUiLCJyZXBsYWNlIiwidG9Mb3dlckNhc2UiLCJsYWJlbCIsIiQiLCJmb3JFYWNoIiwiaXRlbSIsInJlbW92ZSIsImRpc3Bvc2UiLCJQcm9wQ2xhc3MiLCJQcm9wZXJ0eU51bWJlciIsIlByb3BlcnR5Q29sb3IiLCJQcm9wZXJ0eUV2ZW50IiwiUHJvcGVydHlWZWN0b3IzIiwiUHJvcGVydHlWZWN0b3I0IiwicHJvcCIsImFkZCIsInR3ZWVuIiwiUHJvcGVydHlUd2VlbiIsImZvb3RlciIsIlByb3BlcnR5Rm9vdGVyIiwiY2xpY2siLCJlIiwicHJldmVudERlZmF1bHQiLCJpbmRleCIsImtleXMiLCJpbmRleE9mIiwic3BsaWNlIiwiX2RvbSIsInByb3BlcnRpZXNFZGl0b3IiLCJrZXlSZW1vdmVkIiwiX2lzRGlydHkiLCJpIiwidXBkYXRlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7OztBQVBBLElBQUlBLFVBQVUsbUJBQUFDLENBQVEsQ0FBUixDQUFkOztJQVNxQkMsUTtBQUNqQixzQkFBWUMsTUFBWixFQUFvQkMsR0FBcEIsRUFBeUJDLElBQXpCLEVBQStCO0FBQUE7O0FBQzNCLGFBQUtGLE1BQUwsR0FBY0EsTUFBZDtBQUNBLGFBQUtDLEdBQUwsR0FBV0EsR0FBWDs7QUFFQSxhQUFLRSxVQUFMLEdBQWtCLEtBQUtBLFVBQUwsQ0FBZ0JDLElBQWhCLENBQXFCLElBQXJCLENBQWxCOztBQUVBLGFBQUtDLFFBQUwsR0FBZ0JMLE9BQU9LLFFBQXZCO0FBQ0EsYUFBS0MsS0FBTCxHQUFhTixPQUFPTSxLQUFwQjtBQUNBLGFBQUtDLGdCQUFMLEdBQXdCUCxPQUFPTyxnQkFBL0I7QUFDQSxhQUFLQyxRQUFMLEdBQWdCLElBQUlYLFFBQVFZLE1BQVosRUFBaEI7QUFDQSxhQUFLQyxLQUFMLEdBQWEsRUFBYjtBQUNBLGFBQUtDLFVBQUwsR0FBa0IsS0FBbEI7QUFDQSxhQUFLQyxTQUFMLEdBQWlCLEtBQWpCOztBQUVBLFlBQUlDLFVBQVUsS0FBZDtBQUNBO0FBQ0EsWUFBSUMsZUFBZSxLQUFuQjtBQUNBO0FBQ0EsWUFBSUMsV0FBVyxLQUFmOztBQUVBO0FBQ0EsWUFBSWIsS0FBS2MsU0FBVCxFQUFvQjtBQUNoQkYsMkJBQWVaLEtBQUtjLFNBQXBCO0FBQ0FELHVCQUFXRCxhQUFhRyxLQUF4QjtBQUNBSixzQkFBVVgsSUFBVjtBQUNIOztBQUVEO0FBQ0EsWUFBSUEsS0FBS2dCLEVBQVQsRUFBYTtBQUNUSCx1QkFBV2IsSUFBWDtBQUNIOztBQUVEO0FBQ0EsWUFBSWlC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LFksRUFBYztBQUFBOztBQUNsRSxnQkFBSWtELFNBQVMsSUFBSUMsd0JBQUosQ0FBbUJ0QyxhQUFuQixFQUFrQ1osUUFBbEMsRUFBNEMsS0FBS2YsTUFBakQsRUFBeURhLE9BQXpELEVBQWtFLEtBQUtSLFFBQXZFLENBQWI7QUFDQWdCLHVCQUFXdUIsTUFBWCxDQUFrQm9CLE9BQU8vRCxHQUF6Qjs7QUFFQTtBQUNBK0QsbUJBQU8vRCxHQUFQLENBQVd3QyxJQUFYLENBQWdCLHNCQUFoQixFQUF3Q3lCLEtBQXhDLENBQThDLFVBQUNDLENBQUQsRUFBTztBQUNqREEsa0JBQUVDLGNBQUY7QUFDQSxvQkFBSUMsUUFBUXZELGFBQWF3RCxJQUFiLENBQWtCQyxPQUFsQixDQUEwQjFELE9BQTFCLENBQVo7QUFDQSxvQkFBSXdELFFBQVEsQ0FBQyxDQUFiLEVBQWdCO0FBQ1p2RCxpQ0FBYXdELElBQWIsQ0FBa0JFLE1BQWxCLENBQXlCSCxLQUF6QixFQUFnQyxDQUFoQztBQUNBLHdCQUFJeEQsUUFBUTRELElBQVosRUFBa0I7QUFDZCw4QkFBS3pFLE1BQUwsQ0FBWTBFLGdCQUFaLENBQTZCQyxVQUE3QixDQUF3Q3ZDLFFBQXhDLENBQWlEdkIsT0FBakQ7QUFDSDtBQUNERSw2QkFBUzZELFFBQVQsR0FBb0IsSUFBcEI7QUFDSDtBQUNKLGFBVkQ7QUFXQSxtQkFBT1osTUFBUDtBQUNIOzs7aUNBRVE7QUFDTCxpQkFBSyxJQUFJYSxJQUFJLENBQWIsRUFBZ0JBLElBQUksS0FBS25FLEtBQUwsQ0FBV2dDLE1BQS9CLEVBQXVDbUMsR0FBdkMsRUFBNEM7QUFDeEMsb0JBQUkxQixPQUFPLEtBQUt6QyxLQUFMLENBQVdtRSxDQUFYLENBQVg7QUFDQTFCLHFCQUFLMkIsTUFBTDtBQUNIO0FBQ0o7Ozs7OztrQkF0TWdCL0UsUSIsImZpbGUiOiIyNi5qcyIsInNvdXJjZXNDb250ZW50IjpbImxldCBTaWduYWxzID0gcmVxdWlyZSgnanMtc2lnbmFscycpO1xuaW1wb3J0IFByb3BlcnR5TnVtYmVyIGZyb20gJy4vUHJvcGVydHlOdW1iZXInO1xuaW1wb3J0IFByb3BlcnR5Q29sb3IgZnJvbSAnLi9Qcm9wZXJ0eUNvbG9yJztcbmltcG9ydCBQcm9wZXJ0eVR3ZWVuIGZyb20gJy4vUHJvcGVydHlUd2Vlbic7XG5pbXBvcnQgUHJvcGVydHlFdmVudCBmcm9tICcuL1Byb3BlcnR5RXZlbnQnO1xuaW1wb3J0IFByb3BlcnR5VmVjdG9yMyBmcm9tICcuL1Byb3BlcnR5VmVjdG9yMyc7XG5pbXBvcnQgUHJvcGVydHlWZWN0b3I0IGZyb20gJy4vUHJvcGVydHlWZWN0b3I0JztcbmltcG9ydCBQcm9wZXJ0eUZvb3RlciBmcm9tICcuL1Byb3BlcnR5Rm9vdGVyJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvcGVydHkge1xuICAgIGNvbnN0cnVjdG9yKGVkaXRvciwgJGVsLCBkYXRhKSB7XG4gICAgICAgIHRoaXMuZWRpdG9yID0gZWRpdG9yO1xuICAgICAgICB0aGlzLiRlbCA9ICRlbDtcblxuICAgICAgICB0aGlzLm9uS2V5QWRkZWQgPSB0aGlzLm9uS2V5QWRkZWQuYmluZCh0aGlzKTtcblxuICAgICAgICB0aGlzLnRpbWVsaW5lID0gZWRpdG9yLnRpbWVsaW5lO1xuICAgICAgICB0aGlzLnRpbWVyID0gZWRpdG9yLnRpbWVyO1xuICAgICAgICB0aGlzLnNlbGVjdGlvbk1hbmFnZXIgPSBlZGl0b3Iuc2VsZWN0aW9uTWFuYWdlcjtcbiAgICAgICAgdGhpcy5rZXlBZGRlZCA9IG5ldyBTaWduYWxzLlNpZ25hbCgpO1xuICAgICAgICB0aGlzLml0ZW1zID0gW107XG4gICAgICAgIHRoaXMubnVtYmVyUHJvcCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnR3ZWVuUHJvcCA9IGZhbHNlO1xuXG4gICAgICAgIHZhciBrZXlfdmFsID0gZmFsc2U7XG4gICAgICAgIC8vIHZhciBwcm9wZXJ0eU9iamVjdCA9IGZhbHNlO1xuICAgICAgICB2YXIgcHJvcGVydHlEYXRhID0gZmFsc2U7XG4gICAgICAgIC8vIHZhciBsaW5lT2JqZWN0ID0gZmFsc2U7XG4gICAgICAgIHZhciBsaW5lRGF0YSA9IGZhbHNlO1xuXG4gICAgICAgIC8vIEZvciBrZXlzIHRoZSBfcHJvcGVydHkgZGF0YSBzaG91bGQgYmUgZGVmaW5lZC5cbiAgICAgICAgaWYgKGRhdGEuX3Byb3BlcnR5KSB7XG4gICAgICAgICAgICBwcm9wZXJ0eURhdGEgPSBkYXRhLl9wcm9wZXJ0eTtcbiAgICAgICAgICAgIGxpbmVEYXRhID0gcHJvcGVydHlEYXRhLl9saW5lO1xuICAgICAgICAgICAga2V5X3ZhbCA9IGRhdGE7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDaGVjayBpZiB3ZSBzZWxlY3RlZCBhIG1haW4gaXRlbS5cbiAgICAgICAgaWYgKGRhdGEuaWQpIHtcbiAgICAgICAgICAgIGxpbmVEYXRhID0gZGF0YTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGRhdGEgYW5kIHByb3BlcnR5RGF0YSBhcmUgZGVmaW5lZCBvbiBrZXkgc2VsZWN0LlxuICAgICAgICB2YXIgcHJvcGVydHlfbmFtZSA9IGZhbHNlO1xuICAgICAgICBpZiAocHJvcGVydHlEYXRhKSB7XG4gICAgICAgICAgICBwcm9wZXJ0eV9uYW1lID0gcHJvcGVydHlEYXRhLm5hbWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBHZXQgdGhlIHByb3BlcnR5IGNvbnRhaW5lci5cbiAgICAgICAgdmFyICRjb250YWluZXIgPSB0aGlzLmdldENvbnRhaW5lcihsaW5lRGF0YSk7XG5cbiAgICAgICAgdmFyICR0d2Vlbl9jb250YWluZXIgPSAkY29udGFpbmVyO1xuXG4gICAgICAgIC8vIEJhc2ljIGRhdGEsIGxvb3AgdGhyb3VnaCBwcm9wZXJ0aWVzLlxuICAgICAgICBmb3IgKHZhciBrZXkgaW4gbGluZURhdGEucHJvcGVydGllcykge1xuICAgICAgICAgICAgaWYgKGxpbmVEYXRhLnByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgIHZhciBpbnN0YW5jZV9wcm9wID0gbGluZURhdGEucHJvcGVydGllc1trZXldO1xuICAgICAgICAgICAgICAgIC8vIHNob3cgYWxsIHByb3BlcnRpZXMgb3Igb25seSAxIGlmIHdlIHNlbGVjdGVkIGEga2V5LlxuICAgICAgICAgICAgICAgIGlmICghcHJvcGVydHlfbmFtZSB8fCBpbnN0YW5jZV9wcm9wLm5hbWUgPT09IHByb3BlcnR5X25hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyICRncnBfY29udGFpbmVyID0gdGhpcy5nZXRHcm91cENvbnRhaW5lcihpbnN0YW5jZV9wcm9wLCAkY29udGFpbmVyKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG51bWJlclByb3AgPSB0aGlzLmFkZE51bWJlclByb3BlcnR5KGluc3RhbmNlX3Byb3AsIGxpbmVEYXRhLCBrZXlfdmFsLCAkZ3JwX2NvbnRhaW5lcik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXRlbXMucHVzaChudW1iZXJQcm9wKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluc3RhbmNlX3Byb3AubmFtZSA9PT0gcHJvcGVydHlfbmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHR3ZWVuX2NvbnRhaW5lciA9ICRncnBfY29udGFpbmVyO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnR5X25hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnN0YW5jZV9wcm9wLnR5cGUgIT09ICdldmVudCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBZGQgdHdlZW4gc2VsZWN0IGlmIHdlIGFyZSBlZGl0aW5nIGEga2V5LCBzbyBvbmx5IGlmIHRoZXJlIGlzIHByb3BlcnR5X25hbWUuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHR3ZWVuUHJvcCA9IHRoaXMuYWRkVHdlZW5Qcm9wZXJ0eShpbnN0YW5jZV9wcm9wLCBsaW5lRGF0YSwga2V5X3ZhbCwgJHR3ZWVuX2NvbnRhaW5lcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pdGVtcy5wdXNoKHR3ZWVuUHJvcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZm9vdGVyUHJvcCA9IHRoaXMuYWRkRm9vdGVyKGluc3RhbmNlX3Byb3AsIGxpbmVEYXRhLCBrZXlfdmFsLCAkdHdlZW5fY29udGFpbmVyLCBwcm9wZXJ0eURhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pdGVtcy5wdXNoKGZvb3RlclByb3ApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25LZXlBZGRlZCgpIHtcbiAgICAgICAgLy8gcHJvcGFnYXRlIHRoZSBldmVudC5cbiAgICAgICAgdGhpcy5rZXlBZGRlZC5kaXNwYXRjaCgpO1xuICAgIH1cblxuICAgIGdldEdyb3VwQ29udGFpbmVyKGluc3RhbmNlX3Byb3AsICRjb250YWluZXIpIHtcbiAgICAgICAgdmFyICRleGlzdGluZztcbiAgICAgICAgdmFyICRncnA7XG4gICAgICAgIHZhciBncnBfY2xhc3M7XG4gICAgICAgIGlmICghaW5zdGFuY2VfcHJvcC5ncm91cCkge1xuICAgICAgICAgICAgZ3JwX2NsYXNzID0gJ3Byb3BlcnR5LWdycC0tZ2VuZXJhbCc7XG4gICAgICAgICAgICAkZXhpc3RpbmcgPSAkY29udGFpbmVyLmZpbmQoJy4nICsgZ3JwX2NsYXNzKTtcbiAgICAgICAgICAgIGlmICgkZXhpc3RpbmcubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICRleGlzdGluZztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgJGdycCA9IHRoaXMuY3JlYXRlR3JvdXBDb250YWluZXIoZ3JwX2NsYXNzKTtcbiAgICAgICAgICAgICRjb250YWluZXIuYXBwZW5kKCRncnApO1xuICAgICAgICAgICAgcmV0dXJuICRncnA7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVwbGFjZSBhbGwgc3BhY2VzIHRvIGRhc2ggYW5kIG1ha2UgY2xhc3MgbG93ZXJjYXNlXG4gICAgICAgIHZhciBncm91cF9uYW1lID0gaW5zdGFuY2VfcHJvcC5ncm91cC5yZXBsYWNlKC9cXHMrL2csICctJykudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgZ3JwX2NsYXNzID0gJ3Byb3BlcnR5LWdycC0tJyArIGdyb3VwX25hbWU7XG4gICAgICAgICRleGlzdGluZyA9ICRjb250YWluZXIuZmluZCgnLicgKyBncnBfY2xhc3MpO1xuICAgICAgICBpZiAoJGV4aXN0aW5nLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuICRleGlzdGluZztcbiAgICAgICAgfVxuICAgICAgICAkZ3JwID0gdGhpcy5jcmVhdGVHcm91cENvbnRhaW5lcihncnBfY2xhc3MsIGluc3RhbmNlX3Byb3AuZ3JvdXApO1xuICAgICAgICAkY29udGFpbmVyLmFwcGVuZCgkZ3JwKTtcbiAgICAgICAgcmV0dXJuICRncnA7XG4gICAgfVxuXG4gICAgY3JlYXRlR3JvdXBDb250YWluZXIoZ3JwX2NsYXNzLCBsYWJlbCA9IGZhbHNlKSB7XG4gICAgICAgIHZhciAkZ3JwID0gJCgnPGRpdiBjbGFzcz1cInByb3BlcnR5LWdycCAnICsgZ3JwX2NsYXNzICsgJ1wiPjwvZGl2PicpO1xuICAgICAgICBpZiAobGFiZWwpIHtcbiAgICAgICAgICAgICRncnAuYXBwZW5kKCc8aDMgY2xhc3M9XCJwcm9wZXJ0eS1ncnBfX3RpdGxlXCI+JyArIGxhYmVsICsgJzwvaDM+Jyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICRncnA7XG4gICAgfVxuXG4gICAgZ2V0Q29udGFpbmVyKGxpbmVEYXRhKSB7XG4gICAgICAgIHZhciAkY29udGFpbmVyID0gZmFsc2U7XG4gICAgICAgIGlmIChsaW5lRGF0YS5pZCkge1xuICAgICAgICAgICAgJGNvbnRhaW5lciA9ICQoJyNwcm9wZXJ0eS0tJyArIGxpbmVEYXRhLmlkKTtcbiAgICAgICAgICAgIGlmICghJGNvbnRhaW5lci5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAkY29udGFpbmVyID0gJGNvbnRhaW5lciA9ICQoJzxkaXYgY2xhc3M9XCJwcm9wZXJ0aWVzX193cmFwcGVyXCIgaWQ9XCJwcm9wZXJ0eS0tJyArIGxpbmVEYXRhLmlkICsgJ1wiPjwvZGl2PicpO1xuICAgICAgICAgICAgICAgIHRoaXMuJGVsLmFwcGVuZCgkY29udGFpbmVyKTtcbiAgICAgICAgICAgICAgICBpZiAobGluZURhdGEubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgJGNvbnRhaW5lci5hcHBlbmQoJzxoMiBjbGFzcz1cInByb3BlcnRpZXMtZWRpdG9yX190aXRsZVwiPicgKyBsaW5lRGF0YS5sYWJlbCArICc8L2gyPicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoJGNvbnRhaW5lciA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICRjb250YWluZXIgPSAkKCc8ZGl2IGNsYXNzPVwicHJvcGVydGllc19fd3JhcHBlclwiIGlkPVwibm8taXRlbVwiPjwvZGl2PicpO1xuICAgICAgICAgICAgdGhpcy4kZWwuYXBwZW5kKCRjb250YWluZXIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAkY29udGFpbmVyO1xuICAgIH1cblxuICAgIHJlbW92ZSgpIHtcbiAgICAgICAgdGhpcy5pdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7IGl0ZW0ucmVtb3ZlKCk7IH0pO1xuICAgICAgICBpZiAodGhpcy5rZXlBZGRlZCkge1xuICAgICAgICAgICAgdGhpcy5rZXlBZGRlZC5kaXNwb3NlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBkZWxldGUgdGhpcy5lZGl0b3I7XG4gICAgICAgIGRlbGV0ZSB0aGlzLiRlbDtcblxuICAgICAgICBkZWxldGUgdGhpcy50aW1lbGluZTtcbiAgICAgICAgZGVsZXRlIHRoaXMudGltZXI7XG4gICAgICAgIGRlbGV0ZSB0aGlzLnNlbGVjdGlvbk1hbmFnZXI7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmtleUFkZGVkO1xuICAgICAgICBkZWxldGUgdGhpcy5pdGVtcztcbiAgICAgICAgZGVsZXRlIHRoaXMubnVtYmVyUHJvcDtcbiAgICAgICAgZGVsZXRlIHRoaXMudHdlZW5Qcm9wO1xuICAgIH1cblxuICAgIGFkZE51bWJlclByb3BlcnR5KGluc3RhbmNlX3Byb3AsIGxpbmVEYXRhLCBrZXlfdmFsLCAkY29udGFpbmVyKSB7XG4gICAgICAgIHZhciBQcm9wQ2xhc3MgPSBQcm9wZXJ0eU51bWJlcjtcbiAgICAgICAgaWYgKGluc3RhbmNlX3Byb3AudHlwZSA9PT0gJ2NvbG9yJykge1xuICAgICAgICAgICAgUHJvcENsYXNzID0gUHJvcGVydHlDb2xvcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpbnN0YW5jZV9wcm9wLnR5cGUgPT09ICdldmVudCcpIHtcbiAgICAgICAgICAgIFByb3BDbGFzcyA9IFByb3BlcnR5RXZlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaW5zdGFuY2VfcHJvcC50eXBlID09PSAndmVjdG9yMycpIHtcbiAgICAgICAgICAgIFByb3BDbGFzcyA9IFByb3BlcnR5VmVjdG9yMztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpbnN0YW5jZV9wcm9wLnR5cGUgPT09ICd2ZWN0b3I0Jykge1xuICAgICAgICAgICAgUHJvcENsYXNzID0gUHJvcGVydHlWZWN0b3I0O1xuICAgICAgICB9XG4gICAgICAgIHZhciBwcm9wID0gbmV3IFByb3BDbGFzcyhpbnN0YW5jZV9wcm9wLCBsaW5lRGF0YSwgdGhpcy5lZGl0b3IsIGtleV92YWwpO1xuICAgICAgICBwcm9wLmtleUFkZGVkLmFkZCh0aGlzLm9uS2V5QWRkZWQpO1xuICAgICAgICAkY29udGFpbmVyLmFwcGVuZChwcm9wLiRlbCk7XG4gICAgICAgIHJldHVybiBwcm9wO1xuICAgIH1cblxuICAgIGFkZFR3ZWVuUHJvcGVydHkoaW5zdGFuY2VfcHJvcCwgbGluZURhdGEsIGtleV92YWwsICRjb250YWluZXIpIHtcbiAgICAgICAgdmFyIHR3ZWVuID0gbmV3IFByb3BlcnR5VHdlZW4oaW5zdGFuY2VfcHJvcCwgbGluZURhdGEsIHRoaXMuZWRpdG9yLCBrZXlfdmFsLCB0aGlzLnRpbWVsaW5lKTtcbiAgICAgICAgJGNvbnRhaW5lci5hcHBlbmQodHdlZW4uJGVsKTtcbiAgICAgICAgcmV0dXJuIHR3ZWVuO1xuICAgIH1cblxuICAgIGFkZEZvb3RlcihpbnN0YW5jZV9wcm9wLCBsaW5lRGF0YSwga2V5X3ZhbCwgJGNvbnRhaW5lciwgcHJvcGVydHlEYXRhKSB7XG4gICAgICAgIGxldCBmb290ZXIgPSBuZXcgUHJvcGVydHlGb290ZXIoaW5zdGFuY2VfcHJvcCwgbGluZURhdGEsIHRoaXMuZWRpdG9yLCBrZXlfdmFsLCB0aGlzLnRpbWVsaW5lKTtcbiAgICAgICAgJGNvbnRhaW5lci5hcHBlbmQoZm9vdGVyLiRlbCk7XG5cbiAgICAgICAgLy8gQWRkIGEgcmVtb3ZlIGtleSBidXR0b25cbiAgICAgICAgZm9vdGVyLiRlbC5maW5kKCdbZGF0YS1hY3Rpb24tcmVtb3ZlXScpLmNsaWNrKChlKSA9PiB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBwcm9wZXJ0eURhdGEua2V5cy5pbmRleE9mKGtleV92YWwpO1xuICAgICAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eURhdGEua2V5cy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgIGlmIChrZXlfdmFsLl9kb20pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lZGl0b3IucHJvcGVydGllc0VkaXRvci5rZXlSZW1vdmVkLmRpc3BhdGNoKGtleV92YWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsaW5lRGF0YS5faXNEaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZm9vdGVyO1xuICAgIH1cblxuICAgIHVwZGF0ZSgpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLml0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgaXRlbSA9IHRoaXMuaXRlbXNbaV07XG4gICAgICAgICAgICBpdGVtLnVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vZWRpdG9yL1Byb3BlcnR5LmpzIl0sInNvdXJjZVJvb3QiOiIifQ==");
},function(module,exports,__webpack_require__){eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\n__webpack_require__(25);\n\nvar _PropertyBase2 = __webpack_require__(28);\n\nvar _PropertyBase3 = _interopRequireDefault(_PropertyBase2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar DraggableNumber = __webpack_require__(29);\n\nvar tpl_property = __webpack_require__(30);\n\nvar PropertyNumber = function (_PropertyBase) {\n  _inherits(PropertyNumber, _PropertyBase);\n\n  // instance_property: The current property on the data object.\n  // lineData: The line data object.\n  function PropertyNumber(instance_property, lineData, editor) {\n    var key_val = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n    _classCallCheck(this, PropertyNumber);\n\n    var _this = _possibleConstructorReturn(this, (PropertyNumber.__proto__ || Object.getPrototypeOf(PropertyNumber)).call(this, instance_property, lineData, editor, key_val));\n\n    _this.onInputChange = _this.onInputChange.bind(_this);\n    _this.$input = _this.$el.find('input');\n    return _this;\n  }\n\n  _createClass(PropertyNumber, [{\n    key: 'getInputVal',\n    value: function getInputVal() {\n      return parseFloat(this.$el.find('input').val());\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      _get(PropertyNumber.prototype.__proto__ || Object.getPrototypeOf(PropertyNumber.prototype), 'render', this).call(this);\n      // By default assign the property default value\n      var val = this.getCurrentVal();\n\n      var data = {\n        id: this.instance_property.name, // \"circleRadius\" instead of \"circle radius\"\n        label: this.instance_property.label || this.instance_property.name,\n        val: val\n      };\n\n      var view = tpl_property(data);\n      this.$el = $(view);\n      this.$el.find('.property__key').click(this.onKeyClick);\n\n      var $input = this.$el.find('input');\n\n      var onChangeEnd = function onChangeEnd() {\n        _this2.editor.undoManager.addState();\n      };\n\n      var draggableOptions = {\n        changeCallback: function changeCallback() {\n          return _this2.onInputChange();\n        },\n        endCallback: function endCallback() {\n          return onChangeEnd();\n        }\n      };\n      // Set min & max if they are defined.\n      if ('min' in this.instance_property) {\n        draggableOptions.min = this.instance_property.min;\n      }\n      if ('max' in this.instance_property) {\n        draggableOptions.max = this.instance_property.max;\n      }\n\n      var draggable = new DraggableNumber($input.get(0), draggableOptions);\n      $input.data('draggable', draggable);\n      $input.change(this.onInputChange);\n    }\n  }, {\n    key: 'remove',\n    value: function remove() {\n      _get(PropertyNumber.prototype.__proto__ || Object.getPrototypeOf(PropertyNumber.prototype), 'render', this).call(this);\n      if (this.$input.data('draggable')) {\n        this.$input.data('draggable').destroy();\n      }\n\n      delete this.$input;\n      delete this.$el;\n    }\n  }, {\n    key: 'update',\n    value: function update() {\n      _get(PropertyNumber.prototype.__proto__ || Object.getPrototypeOf(PropertyNumber.prototype), 'render', this).call(this);\n      var val = this.getCurrentVal();\n      var draggable = this.$input.data('draggable');\n\n      if (draggable) {\n        draggable.set(val.toFixed(3));\n      } else {\n        this.$input.val(val.toFixed(3));\n      }\n    }\n  }]);\n\n  return PropertyNumber;\n}(_PropertyBase3.default);\n\nexports.default = PropertyNumber;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9lZGl0b3IvUHJvcGVydHlOdW1iZXIuanM/N2UxMCJdLCJuYW1lcyI6WyJEcmFnZ2FibGVOdW1iZXIiLCJyZXF1aXJlIiwidHBsX3Byb3BlcnR5IiwiUHJvcGVydHlOdW1iZXIiLCJpbnN0YW5jZV9wcm9wZXJ0eSIsImxpbmVEYXRhIiwiZWRpdG9yIiwia2V5X3ZhbCIsIm9uSW5wdXRDaGFuZ2UiLCJiaW5kIiwiJGlucHV0IiwiJGVsIiwiZmluZCIsInBhcnNlRmxvYXQiLCJ2YWwiLCJnZXRDdXJyZW50VmFsIiwiZGF0YSIsImlkIiwibmFtZSIsImxhYmVsIiwidmlldyIsIiQiLCJjbGljayIsIm9uS2V5Q2xpY2siLCJvbkNoYW5nZUVuZCIsInVuZG9NYW5hZ2VyIiwiYWRkU3RhdGUiLCJkcmFnZ2FibGVPcHRpb25zIiwiY2hhbmdlQ2FsbGJhY2siLCJlbmRDYWxsYmFjayIsIm1pbiIsIm1heCIsImRyYWdnYWJsZSIsImdldCIsImNoYW5nZSIsImRlc3Ryb3kiLCJzZXQiLCJ0b0ZpeGVkIiwiUHJvcGVydHlCYXNlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7O0FBQ0E7Ozs7Ozs7Ozs7OztBQUNBLElBQUlBLGtCQUFrQixtQkFBQUMsQ0FBUSxFQUFSLENBQXRCOztBQUVBLElBQUlDLGVBQWUsbUJBQUFELENBQVEsRUFBUixDQUFuQjs7SUFFcUJFLGM7OztBQUNuQjtBQUNBO0FBQ0EsMEJBQVlDLGlCQUFaLEVBQStCQyxRQUEvQixFQUF5Q0MsTUFBekMsRUFBa0U7QUFBQSxRQUFqQkMsT0FBaUIsdUVBQVAsS0FBTzs7QUFBQTs7QUFBQSxnSUFDMURILGlCQUQwRCxFQUN2Q0MsUUFEdUMsRUFDN0JDLE1BRDZCLEVBQ3JCQyxPQURxQjs7QUFFaEUsVUFBS0MsYUFBTCxHQUFxQixNQUFLQSxhQUFMLENBQW1CQyxJQUFuQixPQUFyQjtBQUNBLFVBQUtDLE1BQUwsR0FBYyxNQUFLQyxHQUFMLENBQVNDLElBQVQsQ0FBYyxPQUFkLENBQWQ7QUFIZ0U7QUFJakU7Ozs7a0NBRWE7QUFDWixhQUFPQyxXQUFXLEtBQUtGLEdBQUwsQ0FBU0MsSUFBVCxDQUFjLE9BQWQsRUFBdUJFLEdBQXZCLEVBQVgsQ0FBUDtBQUNEOzs7NkJBRVE7QUFBQTs7QUFDUDtBQUNBO0FBQ0EsVUFBSUEsTUFBTSxLQUFLQyxhQUFMLEVBQVY7O0FBRUEsVUFBSUMsT0FBTztBQUNUQyxZQUFJLEtBQUtiLGlCQUFMLENBQXVCYyxJQURsQixFQUN3QjtBQUNqQ0MsZUFBTyxLQUFLZixpQkFBTCxDQUF1QmUsS0FBdkIsSUFBZ0MsS0FBS2YsaUJBQUwsQ0FBdUJjLElBRnJEO0FBR1RKLGFBQUtBO0FBSEksT0FBWDs7QUFNQSxVQUFJTSxPQUFPbEIsYUFBYWMsSUFBYixDQUFYO0FBQ0EsV0FBS0wsR0FBTCxHQUFXVSxFQUFFRCxJQUFGLENBQVg7QUFDQSxXQUFLVCxHQUFMLENBQVNDLElBQVQsQ0FBYyxnQkFBZCxFQUFnQ1UsS0FBaEMsQ0FBc0MsS0FBS0MsVUFBM0M7O0FBRUEsVUFBSWIsU0FBUyxLQUFLQyxHQUFMLENBQVNDLElBQVQsQ0FBYyxPQUFkLENBQWI7O0FBRUEsVUFBSVksY0FBYyxTQUFkQSxXQUFjLEdBQU07QUFDdEIsZUFBS2xCLE1BQUwsQ0FBWW1CLFdBQVosQ0FBd0JDLFFBQXhCO0FBQ0QsT0FGRDs7QUFJQSxVQUFJQyxtQkFBbUI7QUFDckJDLHdCQUFnQjtBQUFBLGlCQUFNLE9BQUtwQixhQUFMLEVBQU47QUFBQSxTQURLO0FBRXJCcUIscUJBQWE7QUFBQSxpQkFBTUwsYUFBTjtBQUFBO0FBRlEsT0FBdkI7QUFJQTtBQUNBLFVBQUksU0FBUyxLQUFLcEIsaUJBQWxCLEVBQXFDO0FBQ25DdUIseUJBQWlCRyxHQUFqQixHQUF1QixLQUFLMUIsaUJBQUwsQ0FBdUIwQixHQUE5QztBQUNEO0FBQ0QsVUFBSSxTQUFTLEtBQUsxQixpQkFBbEIsRUFBcUM7QUFDbkN1Qix5QkFBaUJJLEdBQWpCLEdBQXVCLEtBQUszQixpQkFBTCxDQUF1QjJCLEdBQTlDO0FBQ0Q7O0FBRUQsVUFBSUMsWUFBWSxJQUFJaEMsZUFBSixDQUFvQlUsT0FBT3VCLEdBQVAsQ0FBVyxDQUFYLENBQXBCLEVBQW1DTixnQkFBbkMsQ0FBaEI7QUFDQWpCLGFBQU9NLElBQVAsQ0FBWSxXQUFaLEVBQXlCZ0IsU0FBekI7QUFDQXRCLGFBQU93QixNQUFQLENBQWMsS0FBSzFCLGFBQW5CO0FBQ0Q7Ozs2QkFFUTtBQUNQO0FBQ0EsVUFBSSxLQUFLRSxNQUFMLENBQVlNLElBQVosQ0FBaUIsV0FBakIsQ0FBSixFQUFtQztBQUNqQyxhQUFLTixNQUFMLENBQVlNLElBQVosQ0FBaUIsV0FBakIsRUFBOEJtQixPQUE5QjtBQUNEOztBQUVELGFBQU8sS0FBS3pCLE1BQVo7QUFDQSxhQUFPLEtBQUtDLEdBQVo7QUFDRDs7OzZCQUVRO0FBQ1A7QUFDQSxVQUFJRyxNQUFNLEtBQUtDLGFBQUwsRUFBVjtBQUNBLFVBQUlpQixZQUFZLEtBQUt0QixNQUFMLENBQVlNLElBQVosQ0FBaUIsV0FBakIsQ0FBaEI7O0FBRUEsVUFBSWdCLFNBQUosRUFBZTtBQUNiQSxrQkFBVUksR0FBVixDQUFjdEIsSUFBSXVCLE9BQUosQ0FBWSxDQUFaLENBQWQ7QUFDRCxPQUZELE1BR0s7QUFDSCxhQUFLM0IsTUFBTCxDQUFZSSxHQUFaLENBQWdCQSxJQUFJdUIsT0FBSixDQUFZLENBQVosQ0FBaEI7QUFDRDtBQUNGOzs7O0VBeEV5Q0Msc0I7O2tCQUF2Qm5DLGMiLCJmaWxlIjoiMjcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJ2pxdWVyeSc7XG5pbXBvcnQgUHJvcGVydHlCYXNlIGZyb20gJy4vUHJvcGVydHlCYXNlJztcbmxldCBEcmFnZ2FibGVOdW1iZXIgPSByZXF1aXJlKCdkcmFnZ2FibGUtbnVtYmVyLmpzJyk7XG5cbmxldCB0cGxfcHJvcGVydHkgPSByZXF1aXJlKCcuLi90ZW1wbGF0ZXMvcHJvcGVydHlOdW1iZXIudHBsLmh0bWwnKTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvcGVydHlOdW1iZXIgZXh0ZW5kcyBQcm9wZXJ0eUJhc2Uge1xuICAvLyBpbnN0YW5jZV9wcm9wZXJ0eTogVGhlIGN1cnJlbnQgcHJvcGVydHkgb24gdGhlIGRhdGEgb2JqZWN0LlxuICAvLyBsaW5lRGF0YTogVGhlIGxpbmUgZGF0YSBvYmplY3QuXG4gIGNvbnN0cnVjdG9yKGluc3RhbmNlX3Byb3BlcnR5LCBsaW5lRGF0YSwgZWRpdG9yLCBrZXlfdmFsID0gZmFsc2UpIHtcbiAgICBzdXBlcihpbnN0YW5jZV9wcm9wZXJ0eSwgbGluZURhdGEsIGVkaXRvciwga2V5X3ZhbCk7XG4gICAgdGhpcy5vbklucHV0Q2hhbmdlID0gdGhpcy5vbklucHV0Q2hhbmdlLmJpbmQodGhpcyk7XG4gICAgdGhpcy4kaW5wdXQgPSB0aGlzLiRlbC5maW5kKCdpbnB1dCcpO1xuICB9XG5cbiAgZ2V0SW5wdXRWYWwoKSB7XG4gICAgcmV0dXJuIHBhcnNlRmxvYXQodGhpcy4kZWwuZmluZCgnaW5wdXQnKS52YWwoKSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgc3VwZXIucmVuZGVyKCk7XG4gICAgLy8gQnkgZGVmYXVsdCBhc3NpZ24gdGhlIHByb3BlcnR5IGRlZmF1bHQgdmFsdWVcbiAgICB2YXIgdmFsID0gdGhpcy5nZXRDdXJyZW50VmFsKCk7XG5cbiAgICB2YXIgZGF0YSA9IHtcbiAgICAgIGlkOiB0aGlzLmluc3RhbmNlX3Byb3BlcnR5Lm5hbWUsIC8vIFwiY2lyY2xlUmFkaXVzXCIgaW5zdGVhZCBvZiBcImNpcmNsZSByYWRpdXNcIlxuICAgICAgbGFiZWw6IHRoaXMuaW5zdGFuY2VfcHJvcGVydHkubGFiZWwgfHwgdGhpcy5pbnN0YW5jZV9wcm9wZXJ0eS5uYW1lLFxuICAgICAgdmFsOiB2YWxcbiAgICB9O1xuXG4gICAgdmFyIHZpZXcgPSB0cGxfcHJvcGVydHkoZGF0YSk7XG4gICAgdGhpcy4kZWwgPSAkKHZpZXcpO1xuICAgIHRoaXMuJGVsLmZpbmQoJy5wcm9wZXJ0eV9fa2V5JykuY2xpY2sodGhpcy5vbktleUNsaWNrKTtcblxuICAgIHZhciAkaW5wdXQgPSB0aGlzLiRlbC5maW5kKCdpbnB1dCcpO1xuXG4gICAgdmFyIG9uQ2hhbmdlRW5kID0gKCkgPT4ge1xuICAgICAgdGhpcy5lZGl0b3IudW5kb01hbmFnZXIuYWRkU3RhdGUoKTtcbiAgICB9O1xuXG4gICAgdmFyIGRyYWdnYWJsZU9wdGlvbnMgPSB7XG4gICAgICBjaGFuZ2VDYWxsYmFjazogKCkgPT4gdGhpcy5vbklucHV0Q2hhbmdlKCksXG4gICAgICBlbmRDYWxsYmFjazogKCkgPT4gb25DaGFuZ2VFbmQoKVxuICAgIH07XG4gICAgLy8gU2V0IG1pbiAmIG1heCBpZiB0aGV5IGFyZSBkZWZpbmVkLlxuICAgIGlmICgnbWluJyBpbiB0aGlzLmluc3RhbmNlX3Byb3BlcnR5KSB7XG4gICAgICBkcmFnZ2FibGVPcHRpb25zLm1pbiA9IHRoaXMuaW5zdGFuY2VfcHJvcGVydHkubWluO1xuICAgIH1cbiAgICBpZiAoJ21heCcgaW4gdGhpcy5pbnN0YW5jZV9wcm9wZXJ0eSkge1xuICAgICAgZHJhZ2dhYmxlT3B0aW9ucy5tYXggPSB0aGlzLmluc3RhbmNlX3Byb3BlcnR5Lm1heDtcbiAgICB9XG5cbiAgICB2YXIgZHJhZ2dhYmxlID0gbmV3IERyYWdnYWJsZU51bWJlcigkaW5wdXQuZ2V0KDApLCBkcmFnZ2FibGVPcHRpb25zKTtcbiAgICAkaW5wdXQuZGF0YSgnZHJhZ2dhYmxlJywgZHJhZ2dhYmxlKTtcbiAgICAkaW5wdXQuY2hhbmdlKHRoaXMub25JbnB1dENoYW5nZSk7XG4gIH1cblxuICByZW1vdmUoKSB7XG4gICAgc3VwZXIucmVuZGVyKCk7XG4gICAgaWYgKHRoaXMuJGlucHV0LmRhdGEoJ2RyYWdnYWJsZScpKSB7XG4gICAgICB0aGlzLiRpbnB1dC5kYXRhKCdkcmFnZ2FibGUnKS5kZXN0cm95KCk7XG4gICAgfVxuXG4gICAgZGVsZXRlIHRoaXMuJGlucHV0O1xuICAgIGRlbGV0ZSB0aGlzLiRlbDtcbiAgfVxuXG4gIHVwZGF0ZSgpIHtcbiAgICBzdXBlci5yZW5kZXIoKTtcbiAgICB2YXIgdmFsID0gdGhpcy5nZXRDdXJyZW50VmFsKCk7XG4gICAgdmFyIGRyYWdnYWJsZSA9IHRoaXMuJGlucHV0LmRhdGEoJ2RyYWdnYWJsZScpO1xuXG4gICAgaWYgKGRyYWdnYWJsZSkge1xuICAgICAgZHJhZ2dhYmxlLnNldCh2YWwudG9GaXhlZCgzKSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy4kaW5wdXQudmFsKHZhbC50b0ZpeGVkKDMpKTtcbiAgICB9XG4gIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2VkaXRvci9Qcm9wZXJ0eU51bWJlci5qcyJdLCJzb3VyY2VSb290IjoiIn0=")},function(module,exports,__webpack_require__){eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Utils = __webpack_require__(1);\n\nvar _Utils2 = _interopRequireDefault(_Utils);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Signals = __webpack_require__(6);\nvar _ = __webpack_require__(12);\n\nvar PropertyBase = function () {\n    // @instance_property: The current property on the data object.\n    // @lineData: The line data object.\n    function PropertyBase(instance_property, lineData, editor) {\n        var key_val = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n        _classCallCheck(this, PropertyBase);\n\n        this.instance_property = instance_property;\n        this.lineData = lineData;\n        this.editor = editor;\n        this.key_val = key_val;\n\n        // this.update = this.update.bind(this);\n        this.onInputChange = this.onInputChange.bind(this);\n        this.onKeyClick = this.onKeyClick.bind(this);\n\n        this.timer = editor.timer;\n        this.keyAdded = new Signals.Signal();\n        this.render();\n\n        this.$key = this.$el.find('.property__key');\n    }\n\n    _createClass(PropertyBase, [{\n        key: 'onKeyClick',\n        value: function onKeyClick(e) {\n            e.preventDefault();\n            var currentValue = this.getCurrentVal();\n            this.addKey(currentValue);\n        }\n    }, {\n        key: 'getInputVal',\n        value: function getInputVal() {\n            var $input = this.$el.find('input');\n            if ($input.length === 3) {\n                return {\n                    x: parseFloat($input.get(0).value),\n                    y: parseFloat($input.get(1).value),\n                    z: parseFloat($input.get(2).value)\n                };\n            } else if ($input.length === 4) {\n                return {\n                    x: parseFloat($input.get(0).value),\n                    y: parseFloat($input.get(1).value),\n                    z: parseFloat($input.get(2).value),\n                    w: parseFloat($input.get(3).value)\n                };\n            }\n            return $input.val();\n        }\n    }, {\n        key: 'getCurrentVal',\n        value: function getCurrentVal() {\n            var val = this.instance_property.val;\n            var prop_name = this.instance_property.name;\n\n            // if we selected a key simply return it's value\n            if (this.key_val) {\n                return this.key_val.val;\n            }\n            if (this.lineData.values !== undefined && this.lineData.values[prop_name]) {\n                return this.lineData.values[prop_name];\n            }\n            return val;\n        }\n    }, {\n        key: 'onInputChange',\n        value: function onInputChange() {\n            var current_value = this.getInputVal();\n            var currentTime = this.timer.getCurrentTime() / 1000;\n\n            // if we selected a key simply get the time from it.\n            if (this.key_val) {\n                currentTime = this.key_val.time;\n            }\n\n            if (this.instance_property.keys && this.instance_property.keys.length) {\n                // Add a new key if there is no other key at same time\n                var current_key = _.find(this.instance_property.keys, function (key) {\n                    return key.time === currentTime;\n                });\n\n                if (current_key) {\n                    // if there is a key update it\n                    current_key.val = current_value;\n                } else {\n                    // add a new key\n                    this.addKey(current_value);\n                }\n            } else {\n                // There is no keys, simply update the property value (for data saving)\n                this.instance_property.val = current_value;\n                // Also directly set the lineData value.\n                this.lineData.values[this.instance_property.name] = current_value;\n                // Simply update the custom object with new values.\n                if (this.lineData.object) {\n                    currentTime = this.timer.getCurrentTime() / 1000;\n                    // Set the property on the instance object.\n                    this.lineData.object.update(currentTime - this.lineData.start);\n                }\n            }\n\n            // Something changed, make the lineData dirty to rebuild things. d\n            this.lineData._isDirty = true;\n        }\n    }, {\n        key: 'getCurrentKey',\n        value: function getCurrentKey() {\n            var time = this.timer.getCurrentTime() / 1000;\n            if (!this.instance_property || !this.instance_property.keys) {\n                return false;\n            }\n            if (this.instance_property.keys.length === 0) {\n                return false;\n            }\n            for (var i = 0; i < this.instance_property.keys.length; i++) {\n                var key = this.instance_property.keys[i];\n                if (key.time === time) {\n                    return key;\n                }\n            }\n            return false;\n        }\n    }, {\n        key: 'addKey',\n        value: function addKey(val) {\n            var core = this.editor.tweenTime;\n            var currentTime = this.timer.getCurrentTime() / 1000;\n            var key = {\n                time: currentTime,\n                val: val\n            };\n            if (core.options.defaultEase) {\n                key.ease = core.options.defaultEase;\n            }\n            this.instance_property.keys.push(key);\n            this.instance_property.keys = _Utils2.default.sortKeys(this.instance_property.keys);\n            this.lineData._isDirty = true;\n            this.keyAdded.dispatch();\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            // current values are defined in @lineData.values\n            this.values = this.lineData.values !== undefined ? this.lineData.values : {};\n        }\n    }, {\n        key: 'update',\n        value: function update() {\n            var key = this.getCurrentKey();\n            this.$key.toggleClass('property__key--active', key);\n        }\n    }, {\n        key: 'remove',\n        value: function remove() {\n            if (this.keyAdded) {\n                this.keyAdded.dispose();\n            }\n            delete this.instance_property;\n            delete this.lineData;\n            delete this.editor;\n            delete this.key_val;\n\n            delete this.timer;\n            delete this.keyAdded;\n            delete this.$key;\n        }\n    }]);\n\n    return PropertyBase;\n}();\n\nexports.default = PropertyBase;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9lZGl0b3IvUHJvcGVydHlCYXNlLmpzPzZjMGUiXSwibmFtZXMiOlsiU2lnbmFscyIsInJlcXVpcmUiLCJfIiwiUHJvcGVydHlCYXNlIiwiaW5zdGFuY2VfcHJvcGVydHkiLCJsaW5lRGF0YSIsImVkaXRvciIsImtleV92YWwiLCJvbklucHV0Q2hhbmdlIiwiYmluZCIsIm9uS2V5Q2xpY2siLCJ0aW1lciIsImtleUFkZGVkIiwiU2lnbmFsIiwicmVuZGVyIiwiJGtleSIsIiRlbCIsImZpbmQiLCJlIiwicHJldmVudERlZmF1bHQiLCJjdXJyZW50VmFsdWUiLCJnZXRDdXJyZW50VmFsIiwiYWRkS2V5IiwiJGlucHV0IiwibGVuZ3RoIiwieCIsInBhcnNlRmxvYXQiLCJnZXQiLCJ2YWx1ZSIsInkiLCJ6IiwidyIsInZhbCIsInByb3BfbmFtZSIsIm5hbWUiLCJ2YWx1ZXMiLCJ1bmRlZmluZWQiLCJjdXJyZW50X3ZhbHVlIiwiZ2V0SW5wdXRWYWwiLCJjdXJyZW50VGltZSIsImdldEN1cnJlbnRUaW1lIiwidGltZSIsImtleXMiLCJjdXJyZW50X2tleSIsImtleSIsIm9iamVjdCIsInVwZGF0ZSIsInN0YXJ0IiwiX2lzRGlydHkiLCJpIiwiY29yZSIsInR3ZWVuVGltZSIsIm9wdGlvbnMiLCJkZWZhdWx0RWFzZSIsImVhc2UiLCJwdXNoIiwiVXRpbHMiLCJzb3J0S2V5cyIsImRpc3BhdGNoIiwiZ2V0Q3VycmVudEtleSIsInRvZ2dsZUNsYXNzIiwiZGlzcG9zZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFFQTs7Ozs7Ozs7QUFGQSxJQUFJQSxVQUFVLG1CQUFBQyxDQUFRLENBQVIsQ0FBZDtBQUNBLElBQUlDLElBQUksbUJBQUFELENBQVEsRUFBUixDQUFSOztJQUdxQkUsWTtBQUNqQjtBQUNBO0FBQ0EsMEJBQVlDLGlCQUFaLEVBQStCQyxRQUEvQixFQUF5Q0MsTUFBekMsRUFBa0U7QUFBQSxZQUFqQkMsT0FBaUIsdUVBQVAsS0FBTzs7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QUF0QixFQUErQ2hCLEdBQS9DO0FBQ0g7OztpQ0FFUTtBQUNMLGdCQUFJLEtBQUtoQyxRQUFULEVBQW1CO0FBQ2YscUJBQUtBLFFBQUwsQ0FBY2lELE9BQWQ7QUFDSDtBQUNELG1CQUFPLEtBQUt6RCxpQkFBWjtBQUNBLG1CQUFPLEtBQUtDLFFBQVo7QUFDQSxtQkFBTyxLQUFLQyxNQUFaO0FBQ0EsbUJBQU8sS0FBS0MsT0FBWjs7QUFFQSxtQkFBTyxLQUFLSSxLQUFaO0FBQ0EsbUJBQU8sS0FBS0MsUUFBWjtBQUNBLG1CQUFPLEtBQUtHLElBQVo7QUFDSDs7Ozs7O2tCQXpKZ0JaLFkiLCJmaWxlIjoiMjguanMiLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgU2lnbmFscyA9IHJlcXVpcmUoJ2pzLXNpZ25hbHMnKTtcbmxldCBfID0gcmVxdWlyZSgnbG9kYXNoJyk7XG5pbXBvcnQgVXRpbHMgZnJvbSAnLi4vY29yZS9VdGlscyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFByb3BlcnR5QmFzZSB7XG4gICAgLy8gQGluc3RhbmNlX3Byb3BlcnR5OiBUaGUgY3VycmVudCBwcm9wZXJ0eSBvbiB0aGUgZGF0YSBvYmplY3QuXG4gICAgLy8gQGxpbmVEYXRhOiBUaGUgbGluZSBkYXRhIG9iamVjdC5cbiAgICBjb25zdHJ1Y3RvcihpbnN0YW5jZV9wcm9wZXJ0eSwgbGluZURhdGEsIGVkaXRvciwga2V5X3ZhbCA9IGZhbHNlKSB7XG4gICAgICAgIHRoaXMuaW5zdGFuY2VfcHJvcGVydHkgPSBpbnN0YW5jZV9wcm9wZXJ0eTtcbiAgICAgICAgdGhpcy5saW5lRGF0YSA9IGxpbmVEYXRhO1xuICAgICAgICB0aGlzLmVkaXRvciA9IGVkaXRvcjtcbiAgICAgICAgdGhpcy5rZXlfdmFsID0ga2V5X3ZhbDtcblxuICAgICAgICAvLyB0aGlzLnVwZGF0ZSA9IHRoaXMudXBkYXRlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMub25JbnB1dENoYW5nZSA9IHRoaXMub25JbnB1dENoYW5nZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm9uS2V5Q2xpY2sgPSB0aGlzLm9uS2V5Q2xpY2suYmluZCh0aGlzKTtcblxuICAgICAgICB0aGlzLnRpbWVyID0gZWRpdG9yLnRpbWVyO1xuICAgICAgICB0aGlzLmtleUFkZGVkID0gbmV3IFNpZ25hbHMuU2lnbmFsKCk7XG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG5cbiAgICAgICAgdGhpcy4ka2V5ID0gdGhpcy4kZWwuZmluZCgnLnByb3BlcnR5X19rZXknKTtcbiAgICB9XG5cbiAgICBvbktleUNsaWNrKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB2YXIgY3VycmVudFZhbHVlID0gdGhpcy5nZXRDdXJyZW50VmFsKCk7XG4gICAgICAgIHRoaXMuYWRkS2V5KGN1cnJlbnRWYWx1ZSk7XG4gICAgfVxuXG4gICAgZ2V0SW5wdXRWYWwoKSB7XG4gICAgICAgIHZhciAkaW5wdXQgPSB0aGlzLiRlbC5maW5kKCdpbnB1dCcpO1xuICAgICAgICBpZiAoJGlucHV0Lmxlbmd0aCA9PT0gMykge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB4OiBwYXJzZUZsb2F0KCRpbnB1dC5nZXQoMCkudmFsdWUpLFxuICAgICAgICAgICAgICAgIHk6IHBhcnNlRmxvYXQoJGlucHV0LmdldCgxKS52YWx1ZSksXG4gICAgICAgICAgICAgICAgejogcGFyc2VGbG9hdCgkaW5wdXQuZ2V0KDIpLnZhbHVlKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSBpZiAoJGlucHV0Lmxlbmd0aCA9PT0gNCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB4OiBwYXJzZUZsb2F0KCRpbnB1dC5nZXQoMCkudmFsdWUpLFxuICAgICAgICAgICAgICAgIHk6IHBhcnNlRmxvYXQoJGlucHV0LmdldCgxKS52YWx1ZSksXG4gICAgICAgICAgICAgICAgejogcGFyc2VGbG9hdCgkaW5wdXQuZ2V0KDIpLnZhbHVlKSxcbiAgICAgICAgICAgICAgICB3OiBwYXJzZUZsb2F0KCRpbnB1dC5nZXQoMykudmFsdWUpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJGlucHV0LnZhbCgpO1xuICAgIH1cblxuICAgIGdldEN1cnJlbnRWYWwoKSB7XG4gICAgICAgIHZhciB2YWwgPSB0aGlzLmluc3RhbmNlX3Byb3BlcnR5LnZhbDtcbiAgICAgICAgdmFyIHByb3BfbmFtZSA9IHRoaXMuaW5zdGFuY2VfcHJvcGVydHkubmFtZTtcblxuICAgICAgICAvLyBpZiB3ZSBzZWxlY3RlZCBhIGtleSBzaW1wbHkgcmV0dXJuIGl0J3MgdmFsdWVcbiAgICAgICAgaWYgKHRoaXMua2V5X3ZhbCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMua2V5X3ZhbC52YWw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubGluZURhdGEudmFsdWVzICE9PSB1bmRlZmluZWQgJiYgdGhpcy5saW5lRGF0YS52YWx1ZXNbcHJvcF9uYW1lXSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGluZURhdGEudmFsdWVzW3Byb3BfbmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbDtcbiAgICB9XG5cbiAgICBvbklucHV0Q2hhbmdlKCkge1xuICAgICAgICB2YXIgY3VycmVudF92YWx1ZSA9IHRoaXMuZ2V0SW5wdXRWYWwoKTtcbiAgICAgICAgdmFyIGN1cnJlbnRUaW1lID0gdGhpcy50aW1lci5nZXRDdXJyZW50VGltZSgpIC8gMTAwMDtcblxuICAgICAgICAvLyBpZiB3ZSBzZWxlY3RlZCBhIGtleSBzaW1wbHkgZ2V0IHRoZSB0aW1lIGZyb20gaXQuXG4gICAgICAgIGlmICh0aGlzLmtleV92YWwpIHtcbiAgICAgICAgICAgIGN1cnJlbnRUaW1lID0gdGhpcy5rZXlfdmFsLnRpbWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5pbnN0YW5jZV9wcm9wZXJ0eS5rZXlzICYmIHRoaXMuaW5zdGFuY2VfcHJvcGVydHkua2V5cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIC8vIEFkZCBhIG5ldyBrZXkgaWYgdGhlcmUgaXMgbm8gb3RoZXIga2V5IGF0IHNhbWUgdGltZVxuICAgICAgICAgICAgdmFyIGN1cnJlbnRfa2V5ID0gXy5maW5kKHRoaXMuaW5zdGFuY2VfcHJvcGVydHkua2V5cywgKGtleSkgPT4ga2V5LnRpbWUgPT09IGN1cnJlbnRUaW1lKTtcblxuICAgICAgICAgICAgaWYgKGN1cnJlbnRfa2V5KSB7XG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlcmUgaXMgYSBrZXkgdXBkYXRlIGl0XG4gICAgICAgICAgICAgICAgY3VycmVudF9rZXkudmFsID0gY3VycmVudF92YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGFkZCBhIG5ldyBrZXlcbiAgICAgICAgICAgICAgICB0aGlzLmFkZEtleShjdXJyZW50X3ZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIFRoZXJlIGlzIG5vIGtleXMsIHNpbXBseSB1cGRhdGUgdGhlIHByb3BlcnR5IHZhbHVlIChmb3IgZGF0YSBzYXZpbmcpXG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlX3Byb3BlcnR5LnZhbCA9IGN1cnJlbnRfdmFsdWU7XG4gICAgICAgICAgICAvLyBBbHNvIGRpcmVjdGx5IHNldCB0aGUgbGluZURhdGEgdmFsdWUuXG4gICAgICAgICAgICB0aGlzLmxpbmVEYXRhLnZhbHVlc1t0aGlzLmluc3RhbmNlX3Byb3BlcnR5Lm5hbWVdID0gY3VycmVudF92YWx1ZTtcbiAgICAgICAgICAgIC8vIFNpbXBseSB1cGRhdGUgdGhlIGN1c3RvbSBvYmplY3Qgd2l0aCBuZXcgdmFsdWVzLlxuICAgICAgICAgICAgaWYgKHRoaXMubGluZURhdGEub2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFRpbWUgPSB0aGlzLnRpbWVyLmdldEN1cnJlbnRUaW1lKCkgLyAxMDAwO1xuICAgICAgICAgICAgICAgIC8vIFNldCB0aGUgcHJvcGVydHkgb24gdGhlIGluc3RhbmNlIG9iamVjdC5cbiAgICAgICAgICAgICAgICB0aGlzLmxpbmVEYXRhLm9iamVjdC51cGRhdGUoY3VycmVudFRpbWUgLSB0aGlzLmxpbmVEYXRhLnN0YXJ0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNvbWV0aGluZyBjaGFuZ2VkLCBtYWtlIHRoZSBsaW5lRGF0YSBkaXJ0eSB0byByZWJ1aWxkIHRoaW5ncy4gZFxuICAgICAgICB0aGlzLmxpbmVEYXRhLl9pc0RpcnR5ID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBnZXRDdXJyZW50S2V5KCkge1xuICAgICAgICB2YXIgdGltZSA9IHRoaXMudGltZXIuZ2V0Q3VycmVudFRpbWUoKSAvIDEwMDA7XG4gICAgICAgIGlmICghdGhpcy5pbnN0YW5jZV9wcm9wZXJ0eSB8fCAhdGhpcy5pbnN0YW5jZV9wcm9wZXJ0eS5rZXlzKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaW5zdGFuY2VfcHJvcGVydHkua2V5cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuaW5zdGFuY2VfcHJvcGVydHkua2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGtleSA9IHRoaXMuaW5zdGFuY2VfcHJvcGVydHkua2V5c1tpXTtcbiAgICAgICAgICAgIGlmIChrZXkudGltZSA9PT0gdGltZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBrZXk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGFkZEtleSh2YWwpIHtcbiAgICAgICAgdmFyIGNvcmUgPSB0aGlzLmVkaXRvci50d2VlblRpbWU7XG4gICAgICAgIHZhciBjdXJyZW50VGltZSA9IHRoaXMudGltZXIuZ2V0Q3VycmVudFRpbWUoKSAvIDEwMDA7XG4gICAgICAgIHZhciBrZXkgPSB7XG4gICAgICAgICAgICB0aW1lOiBjdXJyZW50VGltZSxcbiAgICAgICAgICAgIHZhbDogdmFsXG4gICAgICAgIH07XG4gICAgICAgIGlmIChjb3JlLm9wdGlvbnMuZGVmYXVsdEVhc2UpIHtcbiAgICAgICAgICAgIGtleS5lYXNlID0gY29yZS5vcHRpb25zLmRlZmF1bHRFYXNlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW5zdGFuY2VfcHJvcGVydHkua2V5cy5wdXNoKGtleSk7XG4gICAgICAgIHRoaXMuaW5zdGFuY2VfcHJvcGVydHkua2V5cyA9IFV0aWxzLnNvcnRLZXlzKHRoaXMuaW5zdGFuY2VfcHJvcGVydHkua2V5cyk7XG4gICAgICAgIHRoaXMubGluZURhdGEuX2lzRGlydHkgPSB0cnVlO1xuICAgICAgICB0aGlzLmtleUFkZGVkLmRpc3BhdGNoKCk7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICAvLyBjdXJyZW50IHZhbHVlcyBhcmUgZGVmaW5lZCBpbiBAbGluZURhdGEudmFsdWVzXG4gICAgICAgIHRoaXMudmFsdWVzID0gdGhpcy5saW5lRGF0YS52YWx1ZXMgIT09IHVuZGVmaW5lZCA/IHRoaXMubGluZURhdGEudmFsdWVzIDoge307XG4gICAgfVxuXG4gICAgdXBkYXRlKCkge1xuICAgICAgICB2YXIga2V5ID0gdGhpcy5nZXRDdXJyZW50S2V5KCk7XG4gICAgICAgIHRoaXMuJGtleS50b2dnbGVDbGFzcygncHJvcGVydHlfX2tleS0tYWN0aXZlJywga2V5KTtcbiAgICB9XG5cbiAgICByZW1vdmUoKSB7XG4gICAgICAgIGlmICh0aGlzLmtleUFkZGVkKSB7XG4gICAgICAgICAgICB0aGlzLmtleUFkZGVkLmRpc3Bvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICBkZWxldGUgdGhpcy5pbnN0YW5jZV9wcm9wZXJ0eTtcbiAgICAgICAgZGVsZXRlIHRoaXMubGluZURhdGE7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmVkaXRvcjtcbiAgICAgICAgZGVsZXRlIHRoaXMua2V5X3ZhbDtcblxuICAgICAgICBkZWxldGUgdGhpcy50aW1lcjtcbiAgICAgICAgZGVsZXRlIHRoaXMua2V5QWRkZWQ7XG4gICAgICAgIGRlbGV0ZSB0aGlzLiRrZXk7XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vZWRpdG9yL1Byb3BlcnR5QmFzZS5qcyJdLCJzb3VyY2VSb290IjoiIn0=");
},function(module,exports){eval("module.exports = __WEBPACK_EXTERNAL_MODULE_29__;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwge1wicm9vdFwiOlwiRHJhZ2dhYmxlTnVtYmVyXCIsXCJjb21tb25qc1wiOlwiZHJhZ2dhYmxlLW51bWJlci5qc1wiLFwiY29tbW9uanMyXCI6XCJkcmFnZ2FibGUtbnVtYmVyLmpzXCIsXCJhbWRcIjpcIkRyYWdnYWJsZU51bWJlclwifT8zODk0Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IjI5LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzI5X187XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwge1wicm9vdFwiOlwiRHJhZ2dhYmxlTnVtYmVyXCIsXCJjb21tb25qc1wiOlwiZHJhZ2dhYmxlLW51bWJlci5qc1wiLFwiY29tbW9uanMyXCI6XCJkcmFnZ2FibGUtbnVtYmVyLmpzXCIsXCJhbWRcIjpcIkRyYWdnYWJsZU51bWJlclwifVxuLy8gbW9kdWxlIGlkID0gMjlcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==")},function(module,exports,__webpack_require__){eval('var H = __webpack_require__(31);\nmodule.exports = function() { var T = new H.Template({code: function (c,p,i) { var t=this;t.b(i=i||"");t.b("<div class=\\"property property--number\\">");t.b("\\n" + i);t.b("  <button class=\\"property__key\\"></button>");t.b("\\n" + i);t.b("  <label for=\\"");t.b(t.v(t.f("id",c,p,0)));t.b("\\" class=\\"property__label\\">");t.b(t.v(t.f("label",c,p,0)));t.b("</label>");t.b("\\n" + i);t.b("  <input type=\\"number\\" id=\\"");t.b(t.v(t.f("id",c,p,0)));t.b("\\" class=\\"property__input\\" value=\\"");t.b(t.v(t.f("val",c,p,0)));t.b("\\" />");t.b("\\n" + i);t.b("</div>");t.b("\\n");return t.fl(); },partials: {}, subs: {  }}, "<div class=\\"property property--number\\">\\n  <button class=\\"property__key\\"></button>\\n  <label for=\\"{{id}}\\" class=\\"property__label\\">{{label}}</label>\\n  <input type=\\"number\\" id=\\"{{id}}\\" class=\\"property__input\\" value=\\"{{val}}\\" />\\n</div>\\n", H); return T.render.apply(T, arguments); };//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi90ZW1wbGF0ZXMvcHJvcGVydHlOdW1iZXIudHBsLmh0bWw/Yzc0NyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBLDZCQUE2Qix5QkFBeUIsd0JBQXdCLFlBQVksYUFBYSxpREFBaUQsY0FBYyxtREFBbUQsY0FBYyx1QkFBdUIsMEJBQTBCLHFDQUFxQyw2QkFBNkIsZ0JBQWdCLGNBQWMsc0NBQXNDLDBCQUEwQiw2Q0FBNkMsMkJBQTJCLGFBQWEsY0FBYyxjQUFjLFVBQVUsY0FBYyxFQUFFLGFBQWEsU0FBUyxJQUFJLDRHQUE0RyxJQUFJLCtCQUErQixPQUFPLDBDQUEwQyxJQUFJLHVDQUF1QyxLQUFLLHFCQUFxQixxQ0FBcUMiLCJmaWxlIjoiMzAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgSCA9IHJlcXVpcmUoXCJob2dhbi5qc1wiKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7IHZhciBUID0gbmV3IEguVGVtcGxhdGUoe2NvZGU6IGZ1bmN0aW9uIChjLHAsaSkgeyB2YXIgdD10aGlzO3QuYihpPWl8fFwiXCIpO3QuYihcIjxkaXYgY2xhc3M9XFxcInByb3BlcnR5IHByb3BlcnR5LS1udW1iZXJcXFwiPlwiKTt0LmIoXCJcXG5cIiArIGkpO3QuYihcIiAgPGJ1dHRvbiBjbGFzcz1cXFwicHJvcGVydHlfX2tleVxcXCI+PC9idXR0b24+XCIpO3QuYihcIlxcblwiICsgaSk7dC5iKFwiICA8bGFiZWwgZm9yPVxcXCJcIik7dC5iKHQudih0LmYoXCJpZFwiLGMscCwwKSkpO3QuYihcIlxcXCIgY2xhc3M9XFxcInByb3BlcnR5X19sYWJlbFxcXCI+XCIpO3QuYih0LnYodC5mKFwibGFiZWxcIixjLHAsMCkpKTt0LmIoXCI8L2xhYmVsPlwiKTt0LmIoXCJcXG5cIiArIGkpO3QuYihcIiAgPGlucHV0IHR5cGU9XFxcIm51bWJlclxcXCIgaWQ9XFxcIlwiKTt0LmIodC52KHQuZihcImlkXCIsYyxwLDApKSk7dC5iKFwiXFxcIiBjbGFzcz1cXFwicHJvcGVydHlfX2lucHV0XFxcIiB2YWx1ZT1cXFwiXCIpO3QuYih0LnYodC5mKFwidmFsXCIsYyxwLDApKSk7dC5iKFwiXFxcIiAvPlwiKTt0LmIoXCJcXG5cIiArIGkpO3QuYihcIjwvZGl2PlwiKTt0LmIoXCJcXG5cIik7cmV0dXJuIHQuZmwoKTsgfSxwYXJ0aWFsczoge30sIHN1YnM6IHsgIH19LCBcIjxkaXYgY2xhc3M9XFxcInByb3BlcnR5IHByb3BlcnR5LS1udW1iZXJcXFwiPlxcbiAgPGJ1dHRvbiBjbGFzcz1cXFwicHJvcGVydHlfX2tleVxcXCI+PC9idXR0b24+XFxuICA8bGFiZWwgZm9yPVxcXCJ7e2lkfX1cXFwiIGNsYXNzPVxcXCJwcm9wZXJ0eV9fbGFiZWxcXFwiPnt7bGFiZWx9fTwvbGFiZWw+XFxuICA8aW5wdXQgdHlwZT1cXFwibnVtYmVyXFxcIiBpZD1cXFwie3tpZH19XFxcIiBjbGFzcz1cXFwicHJvcGVydHlfX2lucHV0XFxcIiB2YWx1ZT1cXFwie3t2YWx9fVxcXCIgLz5cXG48L2Rpdj5cXG5cIiwgSCk7IHJldHVybiBULnJlbmRlci5hcHBseShULCBhcmd1bWVudHMpOyB9O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vdGVtcGxhdGVzL3Byb3BlcnR5TnVtYmVyLnRwbC5odG1sXG4vLyBtb2R1bGUgaWQgPSAzMFxuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9')},function(module,exports,__webpack_require__){eval('/*\n *  Copyright 2011 Twitter, Inc.\n *  Licensed under the Apache License, Version 2.0 (the "License");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *  http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an "AS IS" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n\n// This file is for use with Node.js. See dist/ for browser files.\n\nvar Hogan = __webpack_require__(32);\nHogan.Template = __webpack_require__(33).Template;\nHogan.template = Hogan.Template;\nmodule.exports = Hogan;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbWF0YXlvc2hpL3B1YmxpY19odG1sL3Rlc3QvVHdlZW5UaW1lL34vaG9nYW4uanMvbGliL2hvZ2FuLmpzPzVlZjIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIzMS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiAgQ29weXJpZ2h0IDIwMTEgVHdpdHRlciwgSW5jLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiAgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiAgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqICBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiAgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLy8gVGhpcyBmaWxlIGlzIGZvciB1c2Ugd2l0aCBOb2RlLmpzLiBTZWUgZGlzdC8gZm9yIGJyb3dzZXIgZmlsZXMuXG5cbnZhciBIb2dhbiA9IHJlcXVpcmUoJy4vY29tcGlsZXInKTtcbkhvZ2FuLlRlbXBsYXRlID0gcmVxdWlyZSgnLi90ZW1wbGF0ZScpLlRlbXBsYXRlO1xuSG9nYW4udGVtcGxhdGUgPSBIb2dhbi5UZW1wbGF0ZTtcbm1vZHVsZS5leHBvcnRzID0gSG9nYW47XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAvaG9tZS9tYXRheW9zaGkvcHVibGljX2h0bWwvdGVzdC9Ud2VlblRpbWUvfi9ob2dhbi5qcy9saWIvaG9nYW4uanNcbi8vIG1vZHVsZSBpZCA9IDMxXG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJzb3VyY2VSb290IjoiIn0=')},function(module,exports,__webpack_require__){eval("/*\n *  Copyright 2011 Twitter, Inc.\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *  http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n\n(function (Hogan) {\n  // Setup regex  assignments\n  // remove whitespace according to Mustache spec\n  var rIsWhitespace = /\\S/,\n      rQuot = /\\\"/g,\n      rNewline =  /\\n/g,\n      rCr = /\\r/g,\n      rSlash = /\\\\/g,\n      rLineSep = /\\u2028/,\n      rParagraphSep = /\\u2029/;\n\n  Hogan.tags = {\n    '#': 1, '^': 2, '<': 3, '$': 4,\n    '/': 5, '!': 6, '>': 7, '=': 8, '_v': 9,\n    '{': 10, '&': 11, '_t': 12\n  };\n\n  Hogan.scan = function scan(text, delimiters) {\n    var len = text.length,\n        IN_TEXT = 0,\n        IN_TAG_TYPE = 1,\n        IN_TAG = 2,\n        state = IN_TEXT,\n        tagType = null,\n        tag = null,\n        buf = '',\n        tokens = [],\n        seenTag = false,\n        i = 0,\n        lineStart = 0,\n        otag = '{{',\n        ctag = '}}';\n\n    function addBuf() {\n      if (buf.length > 0) {\n        tokens.push({tag: '_t', text: new String(buf)});\n        buf = '';\n      }\n    }\n\n    function lineIsWhitespace() {\n      var isAllWhitespace = true;\n      for (var j = lineStart; j < tokens.length; j++) {\n        isAllWhitespace =\n          (Hogan.tags[tokens[j].tag] < Hogan.tags['_v']) ||\n          (tokens[j].tag == '_t' && tokens[j].text.match(rIsWhitespace) === null);\n        if (!isAllWhitespace) {\n          return false;\n        }\n      }\n\n      return isAllWhitespace;\n    }\n\n    function filterLine(haveSeenTag, noNewLine) {\n      addBuf();\n\n      if (haveSeenTag && lineIsWhitespace()) {\n        for (var j = lineStart, next; j < tokens.length; j++) {\n          if (tokens[j].text) {\n            if ((next = tokens[j+1]) && next.tag == '>') {\n              // set indent to token value\n              next.indent = tokens[j].text.toString()\n            }\n            tokens.splice(j, 1);\n          }\n        }\n      } else if (!noNewLine) {\n        tokens.push({tag:'\\n'});\n      }\n\n      seenTag = false;\n      lineStart = tokens.length;\n    }\n\n    function changeDelimiters(text, index) {\n      var close = '=' + ctag,\n          closeIndex = text.indexOf(close, index),\n          delimiters = trim(\n            text.substring(text.indexOf('=', index) + 1, closeIndex)\n          ).split(' ');\n\n      otag = delimiters[0];\n      ctag = delimiters[delimiters.length - 1];\n\n      return closeIndex + close.length - 1;\n    }\n\n    if (delimiters) {\n      delimiters = delimiters.split(' ');\n      otag = delimiters[0];\n      ctag = delimiters[1];\n    }\n\n    for (i = 0; i < len; i++) {\n      if (state == IN_TEXT) {\n        if (tagChange(otag, text, i)) {\n          --i;\n          addBuf();\n          state = IN_TAG_TYPE;\n        } else {\n          if (text.charAt(i) == '\\n') {\n            filterLine(seenTag);\n          } else {\n            buf += text.charAt(i);\n          }\n        }\n      } else if (state == IN_TAG_TYPE) {\n        i += otag.length - 1;\n        tag = Hogan.tags[text.charAt(i + 1)];\n        tagType = tag ? text.charAt(i + 1) : '_v';\n        if (tagType == '=') {\n          i = changeDelimiters(text, i);\n          state = IN_TEXT;\n        } else {\n          if (tag) {\n            i++;\n          }\n          state = IN_TAG;\n        }\n        seenTag = i;\n      } else {\n        if (tagChange(ctag, text, i)) {\n          tokens.push({tag: tagType, n: trim(buf), otag: otag, ctag: ctag,\n                       i: (tagType == '/') ? seenTag - otag.length : i + ctag.length});\n          buf = '';\n          i += ctag.length - 1;\n          state = IN_TEXT;\n          if (tagType == '{') {\n            if (ctag == '}}') {\n              i++;\n            } else {\n              cleanTripleStache(tokens[tokens.length - 1]);\n            }\n          }\n        } else {\n          buf += text.charAt(i);\n        }\n      }\n    }\n\n    filterLine(seenTag, true);\n\n    return tokens;\n  }\n\n  function cleanTripleStache(token) {\n    if (token.n.substr(token.n.length - 1) === '}') {\n      token.n = token.n.substring(0, token.n.length - 1);\n    }\n  }\n\n  function trim(s) {\n    if (s.trim) {\n      return s.trim();\n    }\n\n    return s.replace(/^\\s*|\\s*$/g, '');\n  }\n\n  function tagChange(tag, text, index) {\n    if (text.charAt(index) != tag.charAt(0)) {\n      return false;\n    }\n\n    for (var i = 1, l = tag.length; i < l; i++) {\n      if (text.charAt(index + i) != tag.charAt(i)) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  // the tags allowed inside super templates\n  var allowedInSuper = {'_t': true, '\\n': true, '$': true, '/': true};\n\n  function buildTree(tokens, kind, stack, customTags) {\n    var instructions = [],\n        opener = null,\n        tail = null,\n        token = null;\n\n    tail = stack[stack.length - 1];\n\n    while (tokens.length > 0) {\n      token = tokens.shift();\n\n      if (tail && tail.tag == '<' && !(token.tag in allowedInSuper)) {\n        throw new Error('Illegal content in < super tag.');\n      }\n\n      if (Hogan.tags[token.tag] <= Hogan.tags['$'] || isOpener(token, customTags)) {\n        stack.push(token);\n        token.nodes = buildTree(tokens, token.tag, stack, customTags);\n      } else if (token.tag == '/') {\n        if (stack.length === 0) {\n          throw new Error('Closing tag without opener: /' + token.n);\n        }\n        opener = stack.pop();\n        if (token.n != opener.n && !isCloser(token.n, opener.n, customTags)) {\n          throw new Error('Nesting error: ' + opener.n + ' vs. ' + token.n);\n        }\n        opener.end = token.i;\n        return instructions;\n      } else if (token.tag == '\\n') {\n        token.last = (tokens.length == 0) || (tokens[0].tag == '\\n');\n      }\n\n      instructions.push(token);\n    }\n\n    if (stack.length > 0) {\n      throw new Error('missing closing tag: ' + stack.pop().n);\n    }\n\n    return instructions;\n  }\n\n  function isOpener(token, tags) {\n    for (var i = 0, l = tags.length; i < l; i++) {\n      if (tags[i].o == token.n) {\n        token.tag = '#';\n        return true;\n      }\n    }\n  }\n\n  function isCloser(close, open, tags) {\n    for (var i = 0, l = tags.length; i < l; i++) {\n      if (tags[i].c == close && tags[i].o == open) {\n        return true;\n      }\n    }\n  }\n\n  function stringifySubstitutions(obj) {\n    var items = [];\n    for (var key in obj) {\n      items.push('\"' + esc(key) + '\": function(c,p,t,i) {' + obj[key] + '}');\n    }\n    return \"{ \" + items.join(\",\") + \" }\";\n  }\n\n  function stringifyPartials(codeObj) {\n    var partials = [];\n    for (var key in codeObj.partials) {\n      partials.push('\"' + esc(key) + '\":{name:\"' + esc(codeObj.partials[key].name) + '\", ' + stringifyPartials(codeObj.partials[key]) + \"}\");\n    }\n    return \"partials: {\" + partials.join(\",\") + \"}, subs: \" + stringifySubstitutions(codeObj.subs);\n  }\n\n  Hogan.stringify = function(codeObj, text, options) {\n    return \"{code: function (c,p,i) { \" + Hogan.wrapMain(codeObj.code) + \" },\" + stringifyPartials(codeObj) +  \"}\";\n  }\n\n  var serialNo = 0;\n  Hogan.generate = function(tree, text, options) {\n    serialNo = 0;\n    var context = { code: '', subs: {}, partials: {} };\n    Hogan.walk(tree, context);\n\n    if (options.asString) {\n      return this.stringify(context, text, options);\n    }\n\n    return this.makeTemplate(context, text, options);\n  }\n\n  Hogan.wrapMain = function(code) {\n    return 'var t=this;t.b(i=i||\"\");' + code + 'return t.fl();';\n  }\n\n  Hogan.template = Hogan.Template;\n\n  Hogan.makeTemplate = function(codeObj, text, options) {\n    var template = this.makePartials(codeObj);\n    template.code = new Function('c', 'p', 'i', this.wrapMain(codeObj.code));\n    return new this.template(template, text, this, options);\n  }\n\n  Hogan.makePartials = function(codeObj) {\n    var key, template = {subs: {}, partials: codeObj.partials, name: codeObj.name};\n    for (key in template.partials) {\n      template.partials[key] = this.makePartials(template.partials[key]);\n    }\n    for (key in codeObj.subs) {\n      template.subs[key] = new Function('c', 'p', 't', 'i', codeObj.subs[key]);\n    }\n    return template;\n  }\n\n  function esc(s) {\n    return s.replace(rSlash, '\\\\\\\\')\n            .replace(rQuot, '\\\\\\\"')\n            .replace(rNewline, '\\\\n')\n            .replace(rCr, '\\\\r')\n            .replace(rLineSep, '\\\\u2028')\n            .replace(rParagraphSep, '\\\\u2029');\n  }\n\n  function chooseMethod(s) {\n    return (~s.indexOf('.')) ? 'd' : 'f';\n  }\n\n  function createPartial(node, context) {\n    var prefix = \"<\" + (context.prefix || \"\");\n    var sym = prefix + node.n + serialNo++;\n    context.partials[sym] = {name: node.n, partials: {}};\n    context.code += 't.b(t.rp(\"' +  esc(sym) + '\",c,p,\"' + (node.indent || '') + '\"));';\n    return sym;\n  }\n\n  Hogan.codegen = {\n    '#': function(node, context) {\n      context.code += 'if(t.s(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,1),' +\n                      'c,p,0,' + node.i + ',' + node.end + ',\"' + node.otag + \" \" + node.ctag + '\")){' +\n                      't.rs(c,p,' + 'function(c,p,t){';\n      Hogan.walk(node.nodes, context);\n      context.code += '});c.pop();}';\n    },\n\n    '^': function(node, context) {\n      context.code += 'if(!t.s(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,1),c,p,1,0,0,\"\")){';\n      Hogan.walk(node.nodes, context);\n      context.code += '};';\n    },\n\n    '>': createPartial,\n    '<': function(node, context) {\n      var ctx = {partials: {}, code: '', subs: {}, inPartial: true};\n      Hogan.walk(node.nodes, ctx);\n      var template = context.partials[createPartial(node, context)];\n      template.subs = ctx.subs;\n      template.partials = ctx.partials;\n    },\n\n    '$': function(node, context) {\n      var ctx = {subs: {}, code: '', partials: context.partials, prefix: node.n};\n      Hogan.walk(node.nodes, ctx);\n      context.subs[node.n] = ctx.code;\n      if (!context.inPartial) {\n        context.code += 't.sub(\"' + esc(node.n) + '\",c,p,i);';\n      }\n    },\n\n    '\\n': function(node, context) {\n      context.code += write('\"\\\\n\"' + (node.last ? '' : ' + i'));\n    },\n\n    '_v': function(node, context) {\n      context.code += 't.b(t.v(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,0)));';\n    },\n\n    '_t': function(node, context) {\n      context.code += write('\"' + esc(node.text) + '\"');\n    },\n\n    '{': tripleStache,\n\n    '&': tripleStache\n  }\n\n  function tripleStache(node, context) {\n    context.code += 't.b(t.t(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,0)));';\n  }\n\n  function write(s) {\n    return 't.b(' + s + ');';\n  }\n\n  Hogan.walk = function(nodelist, context) {\n    var func;\n    for (var i = 0, l = nodelist.length; i < l; i++) {\n      func = Hogan.codegen[nodelist[i].tag];\n      func && func(nodelist[i], context);\n    }\n    return context;\n  }\n\n  Hogan.parse = function(tokens, text, options) {\n    options = options || {};\n    return buildTree(tokens, '', [], options.sectionTags || []);\n  }\n\n  Hogan.cache = {};\n\n  Hogan.cacheKey = function(text, options) {\n    return [text, !!options.asString, !!options.disableLambda, options.delimiters, !!options.modelGet].join('||');\n  }\n\n  Hogan.compile = function(text, options) {\n    options = options || {};\n    var key = Hogan.cacheKey(text, options);\n    var template = this.cache[key];\n\n    if (template) {\n      var partials = template.partials;\n      for (var name in partials) {\n        delete partials[name].instance;\n      }\n      return template;\n    }\n\n    template = this.generate(this.parse(this.scan(text, options.delimiters), text, options), text, options);\n    return this.cache[key] = template;\n  }\n})( true ? exports : Hogan);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbWF0YXlvc2hpL3B1YmxpY19odG1sL3Rlc3QvVHdlZW5UaW1lL34vaG9nYW4uanMvbGliL2NvbXBpbGVyLmpzPzA3YWYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEIsa0JBQWtCOztBQUVsQjtBQUNBO0FBQ0EscUJBQXFCLGlDQUFpQztBQUN0RDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDZCQUE2QixtQkFBbUI7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EscUNBQXFDLG1CQUFtQjtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLHFCQUFxQixTQUFTO0FBQzlCOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsZUFBZSxTQUFTO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLHVCQUF1QjtBQUN2QixxRkFBcUY7QUFDckY7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCLDJCQUEyQjtBQUMzQjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGlEQUFpRDtBQUNqRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxtQ0FBbUMsT0FBTztBQUMxQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0Esd0JBQXdCOztBQUV4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0Esb0NBQW9DLE9BQU87QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esb0NBQW9DLE9BQU87QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx5REFBeUQsaUJBQWlCO0FBQzFFO0FBQ0EsYUFBYSwwQkFBMEI7QUFDdkM7O0FBRUE7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLGlHQUFpRztBQUMxSTtBQUNBLHVCQUF1QiwyQkFBMkI7QUFDbEQ7O0FBRUE7QUFDQSxhQUFhLHdCQUF3Qix1Q0FBdUMscUNBQXFDO0FBQ2pIOztBQUVBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixtQkFBbUIsY0FBYztBQUNwRDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLHVCQUF1QixhQUFhLDBCQUEwQjtBQUM5RDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EseUJBQXlCLFFBQVE7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0Isc0ZBQXNGO0FBQ3RGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EscUdBQXFHO0FBQ3JHLHFEQUFxRDtBQUNyRDtBQUNBLHdCQUF3QixFQUFFLFNBQVM7QUFDbkMsS0FBSzs7QUFFTDtBQUNBLDBHQUEwRztBQUMxRztBQUNBLHlCQUF5QjtBQUN6QixLQUFLOztBQUVMO0FBQ0E7QUFDQSxpQkFBaUIsWUFBWSxvQkFBb0I7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0EsaUJBQWlCLFFBQVE7QUFDekI7QUFDQTtBQUNBO0FBQ0EsNERBQTREO0FBQzVEO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBLDZGQUE2RjtBQUM3RixLQUFLOztBQUVMO0FBQ0E7QUFDQSxLQUFLOztBQUVMLE1BQU07O0FBRU47QUFDQTs7QUFFQTtBQUNBLDJGQUEyRjtBQUMzRjs7QUFFQTtBQUNBLDJCQUEyQjtBQUMzQjs7QUFFQTtBQUNBO0FBQ0Esd0NBQXdDLE9BQU87QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsQ0FBQyIsImZpbGUiOiIzMi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiAgQ29weXJpZ2h0IDIwMTEgVHdpdHRlciwgSW5jLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiAgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiAgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqICBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiAgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuKGZ1bmN0aW9uIChIb2dhbikge1xuICAvLyBTZXR1cCByZWdleCAgYXNzaWdubWVudHNcbiAgLy8gcmVtb3ZlIHdoaXRlc3BhY2UgYWNjb3JkaW5nIHRvIE11c3RhY2hlIHNwZWNcbiAgdmFyIHJJc1doaXRlc3BhY2UgPSAvXFxTLyxcbiAgICAgIHJRdW90ID0gL1xcXCIvZyxcbiAgICAgIHJOZXdsaW5lID0gIC9cXG4vZyxcbiAgICAgIHJDciA9IC9cXHIvZyxcbiAgICAgIHJTbGFzaCA9IC9cXFxcL2csXG4gICAgICByTGluZVNlcCA9IC9cXHUyMDI4LyxcbiAgICAgIHJQYXJhZ3JhcGhTZXAgPSAvXFx1MjAyOS87XG5cbiAgSG9nYW4udGFncyA9IHtcbiAgICAnIyc6IDEsICdeJzogMiwgJzwnOiAzLCAnJCc6IDQsXG4gICAgJy8nOiA1LCAnISc6IDYsICc+JzogNywgJz0nOiA4LCAnX3YnOiA5LFxuICAgICd7JzogMTAsICcmJzogMTEsICdfdCc6IDEyXG4gIH07XG5cbiAgSG9nYW4uc2NhbiA9IGZ1bmN0aW9uIHNjYW4odGV4dCwgZGVsaW1pdGVycykge1xuICAgIHZhciBsZW4gPSB0ZXh0Lmxlbmd0aCxcbiAgICAgICAgSU5fVEVYVCA9IDAsXG4gICAgICAgIElOX1RBR19UWVBFID0gMSxcbiAgICAgICAgSU5fVEFHID0gMixcbiAgICAgICAgc3RhdGUgPSBJTl9URVhULFxuICAgICAgICB0YWdUeXBlID0gbnVsbCxcbiAgICAgICAgdGFnID0gbnVsbCxcbiAgICAgICAgYnVmID0gJycsXG4gICAgICAgIHRva2VucyA9IFtdLFxuICAgICAgICBzZWVuVGFnID0gZmFsc2UsXG4gICAgICAgIGkgPSAwLFxuICAgICAgICBsaW5lU3RhcnQgPSAwLFxuICAgICAgICBvdGFnID0gJ3t7JyxcbiAgICAgICAgY3RhZyA9ICd9fSc7XG5cbiAgICBmdW5jdGlvbiBhZGRCdWYoKSB7XG4gICAgICBpZiAoYnVmLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdG9rZW5zLnB1c2goe3RhZzogJ190JywgdGV4dDogbmV3IFN0cmluZyhidWYpfSk7XG4gICAgICAgIGJ1ZiA9ICcnO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpbmVJc1doaXRlc3BhY2UoKSB7XG4gICAgICB2YXIgaXNBbGxXaGl0ZXNwYWNlID0gdHJ1ZTtcbiAgICAgIGZvciAodmFyIGogPSBsaW5lU3RhcnQ7IGogPCB0b2tlbnMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgaXNBbGxXaGl0ZXNwYWNlID1cbiAgICAgICAgICAoSG9nYW4udGFnc1t0b2tlbnNbal0udGFnXSA8IEhvZ2FuLnRhZ3NbJ192J10pIHx8XG4gICAgICAgICAgKHRva2Vuc1tqXS50YWcgPT0gJ190JyAmJiB0b2tlbnNbal0udGV4dC5tYXRjaChySXNXaGl0ZXNwYWNlKSA9PT0gbnVsbCk7XG4gICAgICAgIGlmICghaXNBbGxXaGl0ZXNwYWNlKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBpc0FsbFdoaXRlc3BhY2U7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZmlsdGVyTGluZShoYXZlU2VlblRhZywgbm9OZXdMaW5lKSB7XG4gICAgICBhZGRCdWYoKTtcblxuICAgICAgaWYgKGhhdmVTZWVuVGFnICYmIGxpbmVJc1doaXRlc3BhY2UoKSkge1xuICAgICAgICBmb3IgKHZhciBqID0gbGluZVN0YXJ0LCBuZXh0OyBqIDwgdG9rZW5zLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgaWYgKHRva2Vuc1tqXS50ZXh0KSB7XG4gICAgICAgICAgICBpZiAoKG5leHQgPSB0b2tlbnNbaisxXSkgJiYgbmV4dC50YWcgPT0gJz4nKSB7XG4gICAgICAgICAgICAgIC8vIHNldCBpbmRlbnQgdG8gdG9rZW4gdmFsdWVcbiAgICAgICAgICAgICAgbmV4dC5pbmRlbnQgPSB0b2tlbnNbal0udGV4dC50b1N0cmluZygpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0b2tlbnMuc3BsaWNlKGosIDEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICghbm9OZXdMaW5lKSB7XG4gICAgICAgIHRva2Vucy5wdXNoKHt0YWc6J1xcbid9KTtcbiAgICAgIH1cblxuICAgICAgc2VlblRhZyA9IGZhbHNlO1xuICAgICAgbGluZVN0YXJ0ID0gdG9rZW5zLmxlbmd0aDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjaGFuZ2VEZWxpbWl0ZXJzKHRleHQsIGluZGV4KSB7XG4gICAgICB2YXIgY2xvc2UgPSAnPScgKyBjdGFnLFxuICAgICAgICAgIGNsb3NlSW5kZXggPSB0ZXh0LmluZGV4T2YoY2xvc2UsIGluZGV4KSxcbiAgICAgICAgICBkZWxpbWl0ZXJzID0gdHJpbShcbiAgICAgICAgICAgIHRleHQuc3Vic3RyaW5nKHRleHQuaW5kZXhPZignPScsIGluZGV4KSArIDEsIGNsb3NlSW5kZXgpXG4gICAgICAgICAgKS5zcGxpdCgnICcpO1xuXG4gICAgICBvdGFnID0gZGVsaW1pdGVyc1swXTtcbiAgICAgIGN0YWcgPSBkZWxpbWl0ZXJzW2RlbGltaXRlcnMubGVuZ3RoIC0gMV07XG5cbiAgICAgIHJldHVybiBjbG9zZUluZGV4ICsgY2xvc2UubGVuZ3RoIC0gMTtcbiAgICB9XG5cbiAgICBpZiAoZGVsaW1pdGVycykge1xuICAgICAgZGVsaW1pdGVycyA9IGRlbGltaXRlcnMuc3BsaXQoJyAnKTtcbiAgICAgIG90YWcgPSBkZWxpbWl0ZXJzWzBdO1xuICAgICAgY3RhZyA9IGRlbGltaXRlcnNbMV07XG4gICAgfVxuXG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBpZiAoc3RhdGUgPT0gSU5fVEVYVCkge1xuICAgICAgICBpZiAodGFnQ2hhbmdlKG90YWcsIHRleHQsIGkpKSB7XG4gICAgICAgICAgLS1pO1xuICAgICAgICAgIGFkZEJ1ZigpO1xuICAgICAgICAgIHN0YXRlID0gSU5fVEFHX1RZUEU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHRleHQuY2hhckF0KGkpID09ICdcXG4nKSB7XG4gICAgICAgICAgICBmaWx0ZXJMaW5lKHNlZW5UYWcpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBidWYgKz0gdGV4dC5jaGFyQXQoaSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHN0YXRlID09IElOX1RBR19UWVBFKSB7XG4gICAgICAgIGkgKz0gb3RhZy5sZW5ndGggLSAxO1xuICAgICAgICB0YWcgPSBIb2dhbi50YWdzW3RleHQuY2hhckF0KGkgKyAxKV07XG4gICAgICAgIHRhZ1R5cGUgPSB0YWcgPyB0ZXh0LmNoYXJBdChpICsgMSkgOiAnX3YnO1xuICAgICAgICBpZiAodGFnVHlwZSA9PSAnPScpIHtcbiAgICAgICAgICBpID0gY2hhbmdlRGVsaW1pdGVycyh0ZXh0LCBpKTtcbiAgICAgICAgICBzdGF0ZSA9IElOX1RFWFQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHRhZykge1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzdGF0ZSA9IElOX1RBRztcbiAgICAgICAgfVxuICAgICAgICBzZWVuVGFnID0gaTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh0YWdDaGFuZ2UoY3RhZywgdGV4dCwgaSkpIHtcbiAgICAgICAgICB0b2tlbnMucHVzaCh7dGFnOiB0YWdUeXBlLCBuOiB0cmltKGJ1ZiksIG90YWc6IG90YWcsIGN0YWc6IGN0YWcsXG4gICAgICAgICAgICAgICAgICAgICAgIGk6ICh0YWdUeXBlID09ICcvJykgPyBzZWVuVGFnIC0gb3RhZy5sZW5ndGggOiBpICsgY3RhZy5sZW5ndGh9KTtcbiAgICAgICAgICBidWYgPSAnJztcbiAgICAgICAgICBpICs9IGN0YWcubGVuZ3RoIC0gMTtcbiAgICAgICAgICBzdGF0ZSA9IElOX1RFWFQ7XG4gICAgICAgICAgaWYgKHRhZ1R5cGUgPT0gJ3snKSB7XG4gICAgICAgICAgICBpZiAoY3RhZyA9PSAnfX0nKSB7XG4gICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNsZWFuVHJpcGxlU3RhY2hlKHRva2Vuc1t0b2tlbnMubGVuZ3RoIC0gMV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBidWYgKz0gdGV4dC5jaGFyQXQoaSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmaWx0ZXJMaW5lKHNlZW5UYWcsIHRydWUpO1xuXG4gICAgcmV0dXJuIHRva2VucztcbiAgfVxuXG4gIGZ1bmN0aW9uIGNsZWFuVHJpcGxlU3RhY2hlKHRva2VuKSB7XG4gICAgaWYgKHRva2VuLm4uc3Vic3RyKHRva2VuLm4ubGVuZ3RoIC0gMSkgPT09ICd9Jykge1xuICAgICAgdG9rZW4ubiA9IHRva2VuLm4uc3Vic3RyaW5nKDAsIHRva2VuLm4ubGVuZ3RoIC0gMSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdHJpbShzKSB7XG4gICAgaWYgKHMudHJpbSkge1xuICAgICAgcmV0dXJuIHMudHJpbSgpO1xuICAgIH1cblxuICAgIHJldHVybiBzLnJlcGxhY2UoL15cXHMqfFxccyokL2csICcnKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRhZ0NoYW5nZSh0YWcsIHRleHQsIGluZGV4KSB7XG4gICAgaWYgKHRleHQuY2hhckF0KGluZGV4KSAhPSB0YWcuY2hhckF0KDApKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDEsIGwgPSB0YWcubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBpZiAodGV4dC5jaGFyQXQoaW5kZXggKyBpKSAhPSB0YWcuY2hhckF0KGkpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8vIHRoZSB0YWdzIGFsbG93ZWQgaW5zaWRlIHN1cGVyIHRlbXBsYXRlc1xuICB2YXIgYWxsb3dlZEluU3VwZXIgPSB7J190JzogdHJ1ZSwgJ1xcbic6IHRydWUsICckJzogdHJ1ZSwgJy8nOiB0cnVlfTtcblxuICBmdW5jdGlvbiBidWlsZFRyZWUodG9rZW5zLCBraW5kLCBzdGFjaywgY3VzdG9tVGFncykge1xuICAgIHZhciBpbnN0cnVjdGlvbnMgPSBbXSxcbiAgICAgICAgb3BlbmVyID0gbnVsbCxcbiAgICAgICAgdGFpbCA9IG51bGwsXG4gICAgICAgIHRva2VuID0gbnVsbDtcblxuICAgIHRhaWwgPSBzdGFja1tzdGFjay5sZW5ndGggLSAxXTtcblxuICAgIHdoaWxlICh0b2tlbnMubGVuZ3RoID4gMCkge1xuICAgICAgdG9rZW4gPSB0b2tlbnMuc2hpZnQoKTtcblxuICAgICAgaWYgKHRhaWwgJiYgdGFpbC50YWcgPT0gJzwnICYmICEodG9rZW4udGFnIGluIGFsbG93ZWRJblN1cGVyKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0lsbGVnYWwgY29udGVudCBpbiA8IHN1cGVyIHRhZy4nKTtcbiAgICAgIH1cblxuICAgICAgaWYgKEhvZ2FuLnRhZ3NbdG9rZW4udGFnXSA8PSBIb2dhbi50YWdzWyckJ10gfHwgaXNPcGVuZXIodG9rZW4sIGN1c3RvbVRhZ3MpKSB7XG4gICAgICAgIHN0YWNrLnB1c2godG9rZW4pO1xuICAgICAgICB0b2tlbi5ub2RlcyA9IGJ1aWxkVHJlZSh0b2tlbnMsIHRva2VuLnRhZywgc3RhY2ssIGN1c3RvbVRhZ3MpO1xuICAgICAgfSBlbHNlIGlmICh0b2tlbi50YWcgPT0gJy8nKSB7XG4gICAgICAgIGlmIChzdGFjay5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nsb3NpbmcgdGFnIHdpdGhvdXQgb3BlbmVyOiAvJyArIHRva2VuLm4pO1xuICAgICAgICB9XG4gICAgICAgIG9wZW5lciA9IHN0YWNrLnBvcCgpO1xuICAgICAgICBpZiAodG9rZW4ubiAhPSBvcGVuZXIubiAmJiAhaXNDbG9zZXIodG9rZW4ubiwgb3BlbmVyLm4sIGN1c3RvbVRhZ3MpKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOZXN0aW5nIGVycm9yOiAnICsgb3BlbmVyLm4gKyAnIHZzLiAnICsgdG9rZW4ubik7XG4gICAgICAgIH1cbiAgICAgICAgb3BlbmVyLmVuZCA9IHRva2VuLmk7XG4gICAgICAgIHJldHVybiBpbnN0cnVjdGlvbnM7XG4gICAgICB9IGVsc2UgaWYgKHRva2VuLnRhZyA9PSAnXFxuJykge1xuICAgICAgICB0b2tlbi5sYXN0ID0gKHRva2Vucy5sZW5ndGggPT0gMCkgfHwgKHRva2Vuc1swXS50YWcgPT0gJ1xcbicpO1xuICAgICAgfVxuXG4gICAgICBpbnN0cnVjdGlvbnMucHVzaCh0b2tlbik7XG4gICAgfVxuXG4gICAgaWYgKHN0YWNrLmxlbmd0aCA+IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignbWlzc2luZyBjbG9zaW5nIHRhZzogJyArIHN0YWNrLnBvcCgpLm4pO1xuICAgIH1cblxuICAgIHJldHVybiBpbnN0cnVjdGlvbnM7XG4gIH1cblxuICBmdW5jdGlvbiBpc09wZW5lcih0b2tlbiwgdGFncykge1xuICAgIGZvciAodmFyIGkgPSAwLCBsID0gdGFncy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIGlmICh0YWdzW2ldLm8gPT0gdG9rZW4ubikge1xuICAgICAgICB0b2tlbi50YWcgPSAnIyc7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGlzQ2xvc2VyKGNsb3NlLCBvcGVuLCB0YWdzKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSB0YWdzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgaWYgKHRhZ3NbaV0uYyA9PSBjbG9zZSAmJiB0YWdzW2ldLm8gPT0gb3Blbikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzdHJpbmdpZnlTdWJzdGl0dXRpb25zKG9iaikge1xuICAgIHZhciBpdGVtcyA9IFtdO1xuICAgIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICAgIGl0ZW1zLnB1c2goJ1wiJyArIGVzYyhrZXkpICsgJ1wiOiBmdW5jdGlvbihjLHAsdCxpKSB7JyArIG9ialtrZXldICsgJ30nKTtcbiAgICB9XG4gICAgcmV0dXJuIFwieyBcIiArIGl0ZW1zLmpvaW4oXCIsXCIpICsgXCIgfVwiO1xuICB9XG5cbiAgZnVuY3Rpb24gc3RyaW5naWZ5UGFydGlhbHMoY29kZU9iaikge1xuICAgIHZhciBwYXJ0aWFscyA9IFtdO1xuICAgIGZvciAodmFyIGtleSBpbiBjb2RlT2JqLnBhcnRpYWxzKSB7XG4gICAgICBwYXJ0aWFscy5wdXNoKCdcIicgKyBlc2Moa2V5KSArICdcIjp7bmFtZTpcIicgKyBlc2MoY29kZU9iai5wYXJ0aWFsc1trZXldLm5hbWUpICsgJ1wiLCAnICsgc3RyaW5naWZ5UGFydGlhbHMoY29kZU9iai5wYXJ0aWFsc1trZXldKSArIFwifVwiKTtcbiAgICB9XG4gICAgcmV0dXJuIFwicGFydGlhbHM6IHtcIiArIHBhcnRpYWxzLmpvaW4oXCIsXCIpICsgXCJ9LCBzdWJzOiBcIiArIHN0cmluZ2lmeVN1YnN0aXR1dGlvbnMoY29kZU9iai5zdWJzKTtcbiAgfVxuXG4gIEhvZ2FuLnN0cmluZ2lmeSA9IGZ1bmN0aW9uKGNvZGVPYmosIHRleHQsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gXCJ7Y29kZTogZnVuY3Rpb24gKGMscCxpKSB7IFwiICsgSG9nYW4ud3JhcE1haW4oY29kZU9iai5jb2RlKSArIFwiIH0sXCIgKyBzdHJpbmdpZnlQYXJ0aWFscyhjb2RlT2JqKSArICBcIn1cIjtcbiAgfVxuXG4gIHZhciBzZXJpYWxObyA9IDA7XG4gIEhvZ2FuLmdlbmVyYXRlID0gZnVuY3Rpb24odHJlZSwgdGV4dCwgb3B0aW9ucykge1xuICAgIHNlcmlhbE5vID0gMDtcbiAgICB2YXIgY29udGV4dCA9IHsgY29kZTogJycsIHN1YnM6IHt9LCBwYXJ0aWFsczoge30gfTtcbiAgICBIb2dhbi53YWxrKHRyZWUsIGNvbnRleHQpO1xuXG4gICAgaWYgKG9wdGlvbnMuYXNTdHJpbmcpIHtcbiAgICAgIHJldHVybiB0aGlzLnN0cmluZ2lmeShjb250ZXh0LCB0ZXh0LCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5tYWtlVGVtcGxhdGUoY29udGV4dCwgdGV4dCwgb3B0aW9ucyk7XG4gIH1cblxuICBIb2dhbi53cmFwTWFpbiA9IGZ1bmN0aW9uKGNvZGUpIHtcbiAgICByZXR1cm4gJ3ZhciB0PXRoaXM7dC5iKGk9aXx8XCJcIik7JyArIGNvZGUgKyAncmV0dXJuIHQuZmwoKTsnO1xuICB9XG5cbiAgSG9nYW4udGVtcGxhdGUgPSBIb2dhbi5UZW1wbGF0ZTtcblxuICBIb2dhbi5tYWtlVGVtcGxhdGUgPSBmdW5jdGlvbihjb2RlT2JqLCB0ZXh0LCBvcHRpb25zKSB7XG4gICAgdmFyIHRlbXBsYXRlID0gdGhpcy5tYWtlUGFydGlhbHMoY29kZU9iaik7XG4gICAgdGVtcGxhdGUuY29kZSA9IG5ldyBGdW5jdGlvbignYycsICdwJywgJ2knLCB0aGlzLndyYXBNYWluKGNvZGVPYmouY29kZSkpO1xuICAgIHJldHVybiBuZXcgdGhpcy50ZW1wbGF0ZSh0ZW1wbGF0ZSwgdGV4dCwgdGhpcywgb3B0aW9ucyk7XG4gIH1cblxuICBIb2dhbi5tYWtlUGFydGlhbHMgPSBmdW5jdGlvbihjb2RlT2JqKSB7XG4gICAgdmFyIGtleSwgdGVtcGxhdGUgPSB7c3Viczoge30sIHBhcnRpYWxzOiBjb2RlT2JqLnBhcnRpYWxzLCBuYW1lOiBjb2RlT2JqLm5hbWV9O1xuICAgIGZvciAoa2V5IGluIHRlbXBsYXRlLnBhcnRpYWxzKSB7XG4gICAgICB0ZW1wbGF0ZS5wYXJ0aWFsc1trZXldID0gdGhpcy5tYWtlUGFydGlhbHModGVtcGxhdGUucGFydGlhbHNba2V5XSk7XG4gICAgfVxuICAgIGZvciAoa2V5IGluIGNvZGVPYmouc3Vicykge1xuICAgICAgdGVtcGxhdGUuc3Vic1trZXldID0gbmV3IEZ1bmN0aW9uKCdjJywgJ3AnLCAndCcsICdpJywgY29kZU9iai5zdWJzW2tleV0pO1xuICAgIH1cbiAgICByZXR1cm4gdGVtcGxhdGU7XG4gIH1cblxuICBmdW5jdGlvbiBlc2Mocykge1xuICAgIHJldHVybiBzLnJlcGxhY2UoclNsYXNoLCAnXFxcXFxcXFwnKVxuICAgICAgICAgICAgLnJlcGxhY2UoclF1b3QsICdcXFxcXFxcIicpXG4gICAgICAgICAgICAucmVwbGFjZShyTmV3bGluZSwgJ1xcXFxuJylcbiAgICAgICAgICAgIC5yZXBsYWNlKHJDciwgJ1xcXFxyJylcbiAgICAgICAgICAgIC5yZXBsYWNlKHJMaW5lU2VwLCAnXFxcXHUyMDI4JylcbiAgICAgICAgICAgIC5yZXBsYWNlKHJQYXJhZ3JhcGhTZXAsICdcXFxcdTIwMjknKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNob29zZU1ldGhvZChzKSB7XG4gICAgcmV0dXJuICh+cy5pbmRleE9mKCcuJykpID8gJ2QnIDogJ2YnO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlUGFydGlhbChub2RlLCBjb250ZXh0KSB7XG4gICAgdmFyIHByZWZpeCA9IFwiPFwiICsgKGNvbnRleHQucHJlZml4IHx8IFwiXCIpO1xuICAgIHZhciBzeW0gPSBwcmVmaXggKyBub2RlLm4gKyBzZXJpYWxObysrO1xuICAgIGNvbnRleHQucGFydGlhbHNbc3ltXSA9IHtuYW1lOiBub2RlLm4sIHBhcnRpYWxzOiB7fX07XG4gICAgY29udGV4dC5jb2RlICs9ICd0LmIodC5ycChcIicgKyAgZXNjKHN5bSkgKyAnXCIsYyxwLFwiJyArIChub2RlLmluZGVudCB8fCAnJykgKyAnXCIpKTsnO1xuICAgIHJldHVybiBzeW07XG4gIH1cblxuICBIb2dhbi5jb2RlZ2VuID0ge1xuICAgICcjJzogZnVuY3Rpb24obm9kZSwgY29udGV4dCkge1xuICAgICAgY29udGV4dC5jb2RlICs9ICdpZih0LnModC4nICsgY2hvb3NlTWV0aG9kKG5vZGUubikgKyAnKFwiJyArIGVzYyhub2RlLm4pICsgJ1wiLGMscCwxKSwnICtcbiAgICAgICAgICAgICAgICAgICAgICAnYyxwLDAsJyArIG5vZGUuaSArICcsJyArIG5vZGUuZW5kICsgJyxcIicgKyBub2RlLm90YWcgKyBcIiBcIiArIG5vZGUuY3RhZyArICdcIikpeycgK1xuICAgICAgICAgICAgICAgICAgICAgICd0LnJzKGMscCwnICsgJ2Z1bmN0aW9uKGMscCx0KXsnO1xuICAgICAgSG9nYW4ud2Fsayhub2RlLm5vZGVzLCBjb250ZXh0KTtcbiAgICAgIGNvbnRleHQuY29kZSArPSAnfSk7Yy5wb3AoKTt9JztcbiAgICB9LFxuXG4gICAgJ14nOiBmdW5jdGlvbihub2RlLCBjb250ZXh0KSB7XG4gICAgICBjb250ZXh0LmNvZGUgKz0gJ2lmKCF0LnModC4nICsgY2hvb3NlTWV0aG9kKG5vZGUubikgKyAnKFwiJyArIGVzYyhub2RlLm4pICsgJ1wiLGMscCwxKSxjLHAsMSwwLDAsXCJcIikpeyc7XG4gICAgICBIb2dhbi53YWxrKG5vZGUubm9kZXMsIGNvbnRleHQpO1xuICAgICAgY29udGV4dC5jb2RlICs9ICd9Oyc7XG4gICAgfSxcblxuICAgICc+JzogY3JlYXRlUGFydGlhbCxcbiAgICAnPCc6IGZ1bmN0aW9uKG5vZGUsIGNvbnRleHQpIHtcbiAgICAgIHZhciBjdHggPSB7cGFydGlhbHM6IHt9LCBjb2RlOiAnJywgc3Viczoge30sIGluUGFydGlhbDogdHJ1ZX07XG4gICAgICBIb2dhbi53YWxrKG5vZGUubm9kZXMsIGN0eCk7XG4gICAgICB2YXIgdGVtcGxhdGUgPSBjb250ZXh0LnBhcnRpYWxzW2NyZWF0ZVBhcnRpYWwobm9kZSwgY29udGV4dCldO1xuICAgICAgdGVtcGxhdGUuc3VicyA9IGN0eC5zdWJzO1xuICAgICAgdGVtcGxhdGUucGFydGlhbHMgPSBjdHgucGFydGlhbHM7XG4gICAgfSxcblxuICAgICckJzogZnVuY3Rpb24obm9kZSwgY29udGV4dCkge1xuICAgICAgdmFyIGN0eCA9IHtzdWJzOiB7fSwgY29kZTogJycsIHBhcnRpYWxzOiBjb250ZXh0LnBhcnRpYWxzLCBwcmVmaXg6IG5vZGUubn07XG4gICAgICBIb2dhbi53YWxrKG5vZGUubm9kZXMsIGN0eCk7XG4gICAgICBjb250ZXh0LnN1YnNbbm9kZS5uXSA9IGN0eC5jb2RlO1xuICAgICAgaWYgKCFjb250ZXh0LmluUGFydGlhbCkge1xuICAgICAgICBjb250ZXh0LmNvZGUgKz0gJ3Quc3ViKFwiJyArIGVzYyhub2RlLm4pICsgJ1wiLGMscCxpKTsnO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAnXFxuJzogZnVuY3Rpb24obm9kZSwgY29udGV4dCkge1xuICAgICAgY29udGV4dC5jb2RlICs9IHdyaXRlKCdcIlxcXFxuXCInICsgKG5vZGUubGFzdCA/ICcnIDogJyArIGknKSk7XG4gICAgfSxcblxuICAgICdfdic6IGZ1bmN0aW9uKG5vZGUsIGNvbnRleHQpIHtcbiAgICAgIGNvbnRleHQuY29kZSArPSAndC5iKHQudih0LicgKyBjaG9vc2VNZXRob2Qobm9kZS5uKSArICcoXCInICsgZXNjKG5vZGUubikgKyAnXCIsYyxwLDApKSk7JztcbiAgICB9LFxuXG4gICAgJ190JzogZnVuY3Rpb24obm9kZSwgY29udGV4dCkge1xuICAgICAgY29udGV4dC5jb2RlICs9IHdyaXRlKCdcIicgKyBlc2Mobm9kZS50ZXh0KSArICdcIicpO1xuICAgIH0sXG5cbiAgICAneyc6IHRyaXBsZVN0YWNoZSxcblxuICAgICcmJzogdHJpcGxlU3RhY2hlXG4gIH1cblxuICBmdW5jdGlvbiB0cmlwbGVTdGFjaGUobm9kZSwgY29udGV4dCkge1xuICAgIGNvbnRleHQuY29kZSArPSAndC5iKHQudCh0LicgKyBjaG9vc2VNZXRob2Qobm9kZS5uKSArICcoXCInICsgZXNjKG5vZGUubikgKyAnXCIsYyxwLDApKSk7JztcbiAgfVxuXG4gIGZ1bmN0aW9uIHdyaXRlKHMpIHtcbiAgICByZXR1cm4gJ3QuYignICsgcyArICcpOyc7XG4gIH1cblxuICBIb2dhbi53YWxrID0gZnVuY3Rpb24obm9kZWxpc3QsIGNvbnRleHQpIHtcbiAgICB2YXIgZnVuYztcbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IG5vZGVsaXN0Lmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgZnVuYyA9IEhvZ2FuLmNvZGVnZW5bbm9kZWxpc3RbaV0udGFnXTtcbiAgICAgIGZ1bmMgJiYgZnVuYyhub2RlbGlzdFtpXSwgY29udGV4dCk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZXh0O1xuICB9XG5cbiAgSG9nYW4ucGFyc2UgPSBmdW5jdGlvbih0b2tlbnMsIHRleHQsIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICByZXR1cm4gYnVpbGRUcmVlKHRva2VucywgJycsIFtdLCBvcHRpb25zLnNlY3Rpb25UYWdzIHx8IFtdKTtcbiAgfVxuXG4gIEhvZ2FuLmNhY2hlID0ge307XG5cbiAgSG9nYW4uY2FjaGVLZXkgPSBmdW5jdGlvbih0ZXh0LCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIFt0ZXh0LCAhIW9wdGlvbnMuYXNTdHJpbmcsICEhb3B0aW9ucy5kaXNhYmxlTGFtYmRhLCBvcHRpb25zLmRlbGltaXRlcnMsICEhb3B0aW9ucy5tb2RlbEdldF0uam9pbignfHwnKTtcbiAgfVxuXG4gIEhvZ2FuLmNvbXBpbGUgPSBmdW5jdGlvbih0ZXh0LCBvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgdmFyIGtleSA9IEhvZ2FuLmNhY2hlS2V5KHRleHQsIG9wdGlvbnMpO1xuICAgIHZhciB0ZW1wbGF0ZSA9IHRoaXMuY2FjaGVba2V5XTtcblxuICAgIGlmICh0ZW1wbGF0ZSkge1xuICAgICAgdmFyIHBhcnRpYWxzID0gdGVtcGxhdGUucGFydGlhbHM7XG4gICAgICBmb3IgKHZhciBuYW1lIGluIHBhcnRpYWxzKSB7XG4gICAgICAgIGRlbGV0ZSBwYXJ0aWFsc1tuYW1lXS5pbnN0YW5jZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0ZW1wbGF0ZTtcbiAgICB9XG5cbiAgICB0ZW1wbGF0ZSA9IHRoaXMuZ2VuZXJhdGUodGhpcy5wYXJzZSh0aGlzLnNjYW4odGV4dCwgb3B0aW9ucy5kZWxpbWl0ZXJzKSwgdGV4dCwgb3B0aW9ucyksIHRleHQsIG9wdGlvbnMpO1xuICAgIHJldHVybiB0aGlzLmNhY2hlW2tleV0gPSB0ZW1wbGF0ZTtcbiAgfVxufSkodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnID8gZXhwb3J0cyA6IEhvZ2FuKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC9ob21lL21hdGF5b3NoaS9wdWJsaWNfaHRtbC90ZXN0L1R3ZWVuVGltZS9+L2hvZ2FuLmpzL2xpYi9jb21waWxlci5qc1xuLy8gbW9kdWxlIGlkID0gMzJcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==");
},function(module,exports,__webpack_require__){eval("/*\n *  Copyright 2011 Twitter, Inc.\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *  http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n\nvar Hogan = {};\n\n(function (Hogan) {\n  Hogan.Template = function (codeObj, text, compiler, options) {\n    codeObj = codeObj || {};\n    this.r = codeObj.code || this.r;\n    this.c = compiler;\n    this.options = options || {};\n    this.text = text || '';\n    this.partials = codeObj.partials || {};\n    this.subs = codeObj.subs || {};\n    this.buf = '';\n  }\n\n  Hogan.Template.prototype = {\n    // render: replaced by generated code.\n    r: function (context, partials, indent) { return ''; },\n\n    // variable escaping\n    v: hoganEscape,\n\n    // triple stache\n    t: coerceToString,\n\n    render: function render(context, partials, indent) {\n      return this.ri([context], partials || {}, indent);\n    },\n\n    // render internal -- a hook for overrides that catches partials too\n    ri: function (context, partials, indent) {\n      return this.r(context, partials, indent);\n    },\n\n    // ensurePartial\n    ep: function(symbol, partials) {\n      var partial = this.partials[symbol];\n\n      // check to see that if we've instantiated this partial before\n      var template = partials[partial.name];\n      if (partial.instance && partial.base == template) {\n        return partial.instance;\n      }\n\n      if (typeof template == 'string') {\n        if (!this.c) {\n          throw new Error(\"No compiler available.\");\n        }\n        template = this.c.compile(template, this.options);\n      }\n\n      if (!template) {\n        return null;\n      }\n\n      // We use this to check whether the partials dictionary has changed\n      this.partials[symbol].base = template;\n\n      if (partial.subs) {\n        // Make sure we consider parent template now\n        if (!partials.stackText) partials.stackText = {};\n        for (key in partial.subs) {\n          if (!partials.stackText[key]) {\n            partials.stackText[key] = (this.activeSub !== undefined && partials.stackText[this.activeSub]) ? partials.stackText[this.activeSub] : this.text;\n          }\n        }\n        template = createSpecializedPartial(template, partial.subs, partial.partials,\n          this.stackSubs, this.stackPartials, partials.stackText);\n      }\n      this.partials[symbol].instance = template;\n\n      return template;\n    },\n\n    // tries to find a partial in the current scope and render it\n    rp: function(symbol, context, partials, indent) {\n      var partial = this.ep(symbol, partials);\n      if (!partial) {\n        return '';\n      }\n\n      return partial.ri(context, partials, indent);\n    },\n\n    // render a section\n    rs: function(context, partials, section) {\n      var tail = context[context.length - 1];\n\n      if (!isArray(tail)) {\n        section(context, partials, this);\n        return;\n      }\n\n      for (var i = 0; i < tail.length; i++) {\n        context.push(tail[i]);\n        section(context, partials, this);\n        context.pop();\n      }\n    },\n\n    // maybe start a section\n    s: function(val, ctx, partials, inverted, start, end, tags) {\n      var pass;\n\n      if (isArray(val) && val.length === 0) {\n        return false;\n      }\n\n      if (typeof val == 'function') {\n        val = this.ms(val, ctx, partials, inverted, start, end, tags);\n      }\n\n      pass = !!val;\n\n      if (!inverted && pass && ctx) {\n        ctx.push((typeof val == 'object') ? val : ctx[ctx.length - 1]);\n      }\n\n      return pass;\n    },\n\n    // find values with dotted names\n    d: function(key, ctx, partials, returnFound) {\n      var found,\n          names = key.split('.'),\n          val = this.f(names[0], ctx, partials, returnFound),\n          doModelGet = this.options.modelGet,\n          cx = null;\n\n      if (key === '.' && isArray(ctx[ctx.length - 2])) {\n        val = ctx[ctx.length - 1];\n      } else {\n        for (var i = 1; i < names.length; i++) {\n          found = findInScope(names[i], val, doModelGet);\n          if (found !== undefined) {\n            cx = val;\n            val = found;\n          } else {\n            val = '';\n          }\n        }\n      }\n\n      if (returnFound && !val) {\n        return false;\n      }\n\n      if (!returnFound && typeof val == 'function') {\n        ctx.push(cx);\n        val = this.mv(val, ctx, partials);\n        ctx.pop();\n      }\n\n      return val;\n    },\n\n    // find values with normal names\n    f: function(key, ctx, partials, returnFound) {\n      var val = false,\n          v = null,\n          found = false,\n          doModelGet = this.options.modelGet;\n\n      for (var i = ctx.length - 1; i >= 0; i--) {\n        v = ctx[i];\n        val = findInScope(key, v, doModelGet);\n        if (val !== undefined) {\n          found = true;\n          break;\n        }\n      }\n\n      if (!found) {\n        return (returnFound) ? false : \"\";\n      }\n\n      if (!returnFound && typeof val == 'function') {\n        val = this.mv(val, ctx, partials);\n      }\n\n      return val;\n    },\n\n    // higher order templates\n    ls: function(func, cx, partials, text, tags) {\n      var oldTags = this.options.delimiters;\n\n      this.options.delimiters = tags;\n      this.b(this.ct(coerceToString(func.call(cx, text)), cx, partials));\n      this.options.delimiters = oldTags;\n\n      return false;\n    },\n\n    // compile text\n    ct: function(text, cx, partials) {\n      if (this.options.disableLambda) {\n        throw new Error('Lambda features disabled.');\n      }\n      return this.c.compile(text, this.options).render(cx, partials);\n    },\n\n    // template result buffering\n    b: function(s) { this.buf += s; },\n\n    fl: function() { var r = this.buf; this.buf = ''; return r; },\n\n    // method replace section\n    ms: function(func, ctx, partials, inverted, start, end, tags) {\n      var textSource,\n          cx = ctx[ctx.length - 1],\n          result = func.call(cx);\n\n      if (typeof result == 'function') {\n        if (inverted) {\n          return true;\n        } else {\n          textSource = (this.activeSub && this.subsText && this.subsText[this.activeSub]) ? this.subsText[this.activeSub] : this.text;\n          return this.ls(result, cx, partials, textSource.substring(start, end), tags);\n        }\n      }\n\n      return result;\n    },\n\n    // method replace variable\n    mv: function(func, ctx, partials) {\n      var cx = ctx[ctx.length - 1];\n      var result = func.call(cx);\n\n      if (typeof result == 'function') {\n        return this.ct(coerceToString(result.call(cx)), cx, partials);\n      }\n\n      return result;\n    },\n\n    sub: function(name, context, partials, indent) {\n      var f = this.subs[name];\n      if (f) {\n        this.activeSub = name;\n        f(context, partials, this, indent);\n        this.activeSub = false;\n      }\n    }\n\n  };\n\n  //Find a key in an object\n  function findInScope(key, scope, doModelGet) {\n    var val;\n\n    if (scope && typeof scope == 'object') {\n\n      if (scope[key] !== undefined) {\n        val = scope[key];\n\n      // try lookup with get for backbone or similar model data\n      } else if (doModelGet && scope.get && typeof scope.get == 'function') {\n        val = scope.get(key);\n      }\n    }\n\n    return val;\n  }\n\n  function createSpecializedPartial(instance, subs, partials, stackSubs, stackPartials, stackText) {\n    function PartialTemplate() {};\n    PartialTemplate.prototype = instance;\n    function Substitutions() {};\n    Substitutions.prototype = instance.subs;\n    var key;\n    var partial = new PartialTemplate();\n    partial.subs = new Substitutions();\n    partial.subsText = {};  //hehe. substext.\n    partial.buf = '';\n\n    stackSubs = stackSubs || {};\n    partial.stackSubs = stackSubs;\n    partial.subsText = stackText;\n    for (key in subs) {\n      if (!stackSubs[key]) stackSubs[key] = subs[key];\n    }\n    for (key in stackSubs) {\n      partial.subs[key] = stackSubs[key];\n    }\n\n    stackPartials = stackPartials || {};\n    partial.stackPartials = stackPartials;\n    for (key in partials) {\n      if (!stackPartials[key]) stackPartials[key] = partials[key];\n    }\n    for (key in stackPartials) {\n      partial.partials[key] = stackPartials[key];\n    }\n\n    return partial;\n  }\n\n  var rAmp = /&/g,\n      rLt = /</g,\n      rGt = />/g,\n      rApos = /\\'/g,\n      rQuot = /\\\"/g,\n      hChars = /[&<>\\\"\\']/;\n\n  function coerceToString(val) {\n    return String((val === null || val === undefined) ? '' : val);\n  }\n\n  function hoganEscape(str) {\n    str = coerceToString(str);\n    return hChars.test(str) ?\n      str\n        .replace(rAmp, '&amp;')\n        .replace(rLt, '&lt;')\n        .replace(rGt, '&gt;')\n        .replace(rApos, '&#39;')\n        .replace(rQuot, '&quot;') :\n      str;\n  }\n\n  var isArray = Array.isArray || function(a) {\n    return Object.prototype.toString.call(a) === '[object Array]';\n  };\n\n})( true ? exports : Hogan);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbWF0YXlvc2hpL3B1YmxpY19odG1sL3Rlc3QvVHdlZW5UaW1lL34vaG9nYW4uanMvbGliL3RlbXBsYXRlLmpzP2JiMGIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSw2Q0FBNkMsV0FBVyxFQUFFOztBQUUxRDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSw4Q0FBOEM7QUFDOUMsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHFCQUFxQixpQkFBaUI7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE9BQU87QUFDUCx1QkFBdUIsa0JBQWtCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsa0NBQWtDLFFBQVE7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBLG9CQUFvQixlQUFlLEVBQUU7O0FBRXJDLG9CQUFvQixrQkFBa0IsZUFBZSxVQUFVLEVBQUU7O0FBRWpFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0IsMkJBQTJCO0FBQzNCLDJCQUEyQjtBQUMzQiw4QkFBOEI7QUFDOUIsK0JBQStCO0FBQy9CO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLENBQUMiLCJmaWxlIjoiMzMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogIENvcHlyaWdodCAyMDExIFR3aXR0ZXIsIEluYy5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqICBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiAgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbnZhciBIb2dhbiA9IHt9O1xuXG4oZnVuY3Rpb24gKEhvZ2FuKSB7XG4gIEhvZ2FuLlRlbXBsYXRlID0gZnVuY3Rpb24gKGNvZGVPYmosIHRleHQsIGNvbXBpbGVyLCBvcHRpb25zKSB7XG4gICAgY29kZU9iaiA9IGNvZGVPYmogfHwge307XG4gICAgdGhpcy5yID0gY29kZU9iai5jb2RlIHx8IHRoaXMucjtcbiAgICB0aGlzLmMgPSBjb21waWxlcjtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIHRoaXMudGV4dCA9IHRleHQgfHwgJyc7XG4gICAgdGhpcy5wYXJ0aWFscyA9IGNvZGVPYmoucGFydGlhbHMgfHwge307XG4gICAgdGhpcy5zdWJzID0gY29kZU9iai5zdWJzIHx8IHt9O1xuICAgIHRoaXMuYnVmID0gJyc7XG4gIH1cblxuICBIb2dhbi5UZW1wbGF0ZS5wcm90b3R5cGUgPSB7XG4gICAgLy8gcmVuZGVyOiByZXBsYWNlZCBieSBnZW5lcmF0ZWQgY29kZS5cbiAgICByOiBmdW5jdGlvbiAoY29udGV4dCwgcGFydGlhbHMsIGluZGVudCkgeyByZXR1cm4gJyc7IH0sXG5cbiAgICAvLyB2YXJpYWJsZSBlc2NhcGluZ1xuICAgIHY6IGhvZ2FuRXNjYXBlLFxuXG4gICAgLy8gdHJpcGxlIHN0YWNoZVxuICAgIHQ6IGNvZXJjZVRvU3RyaW5nLFxuXG4gICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoY29udGV4dCwgcGFydGlhbHMsIGluZGVudCkge1xuICAgICAgcmV0dXJuIHRoaXMucmkoW2NvbnRleHRdLCBwYXJ0aWFscyB8fCB7fSwgaW5kZW50KTtcbiAgICB9LFxuXG4gICAgLy8gcmVuZGVyIGludGVybmFsIC0tIGEgaG9vayBmb3Igb3ZlcnJpZGVzIHRoYXQgY2F0Y2hlcyBwYXJ0aWFscyB0b29cbiAgICByaTogZnVuY3Rpb24gKGNvbnRleHQsIHBhcnRpYWxzLCBpbmRlbnQpIHtcbiAgICAgIHJldHVybiB0aGlzLnIoY29udGV4dCwgcGFydGlhbHMsIGluZGVudCk7XG4gICAgfSxcblxuICAgIC8vIGVuc3VyZVBhcnRpYWxcbiAgICBlcDogZnVuY3Rpb24oc3ltYm9sLCBwYXJ0aWFscykge1xuICAgICAgdmFyIHBhcnRpYWwgPSB0aGlzLnBhcnRpYWxzW3N5bWJvbF07XG5cbiAgICAgIC8vIGNoZWNrIHRvIHNlZSB0aGF0IGlmIHdlJ3ZlIGluc3RhbnRpYXRlZCB0aGlzIHBhcnRpYWwgYmVmb3JlXG4gICAgICB2YXIgdGVtcGxhdGUgPSBwYXJ0aWFsc1twYXJ0aWFsLm5hbWVdO1xuICAgICAgaWYgKHBhcnRpYWwuaW5zdGFuY2UgJiYgcGFydGlhbC5iYXNlID09IHRlbXBsYXRlKSB7XG4gICAgICAgIHJldHVybiBwYXJ0aWFsLmluc3RhbmNlO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIHRlbXBsYXRlID09ICdzdHJpbmcnKSB7XG4gICAgICAgIGlmICghdGhpcy5jKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gY29tcGlsZXIgYXZhaWxhYmxlLlwiKTtcbiAgICAgICAgfVxuICAgICAgICB0ZW1wbGF0ZSA9IHRoaXMuYy5jb21waWxlKHRlbXBsYXRlLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXRlbXBsYXRlKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICAvLyBXZSB1c2UgdGhpcyB0byBjaGVjayB3aGV0aGVyIHRoZSBwYXJ0aWFscyBkaWN0aW9uYXJ5IGhhcyBjaGFuZ2VkXG4gICAgICB0aGlzLnBhcnRpYWxzW3N5bWJvbF0uYmFzZSA9IHRlbXBsYXRlO1xuXG4gICAgICBpZiAocGFydGlhbC5zdWJzKSB7XG4gICAgICAgIC8vIE1ha2Ugc3VyZSB3ZSBjb25zaWRlciBwYXJlbnQgdGVtcGxhdGUgbm93XG4gICAgICAgIGlmICghcGFydGlhbHMuc3RhY2tUZXh0KSBwYXJ0aWFscy5zdGFja1RleHQgPSB7fTtcbiAgICAgICAgZm9yIChrZXkgaW4gcGFydGlhbC5zdWJzKSB7XG4gICAgICAgICAgaWYgKCFwYXJ0aWFscy5zdGFja1RleHRba2V5XSkge1xuICAgICAgICAgICAgcGFydGlhbHMuc3RhY2tUZXh0W2tleV0gPSAodGhpcy5hY3RpdmVTdWIgIT09IHVuZGVmaW5lZCAmJiBwYXJ0aWFscy5zdGFja1RleHRbdGhpcy5hY3RpdmVTdWJdKSA/IHBhcnRpYWxzLnN0YWNrVGV4dFt0aGlzLmFjdGl2ZVN1Yl0gOiB0aGlzLnRleHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRlbXBsYXRlID0gY3JlYXRlU3BlY2lhbGl6ZWRQYXJ0aWFsKHRlbXBsYXRlLCBwYXJ0aWFsLnN1YnMsIHBhcnRpYWwucGFydGlhbHMsXG4gICAgICAgICAgdGhpcy5zdGFja1N1YnMsIHRoaXMuc3RhY2tQYXJ0aWFscywgcGFydGlhbHMuc3RhY2tUZXh0KTtcbiAgICAgIH1cbiAgICAgIHRoaXMucGFydGlhbHNbc3ltYm9sXS5pbnN0YW5jZSA9IHRlbXBsYXRlO1xuXG4gICAgICByZXR1cm4gdGVtcGxhdGU7XG4gICAgfSxcblxuICAgIC8vIHRyaWVzIHRvIGZpbmQgYSBwYXJ0aWFsIGluIHRoZSBjdXJyZW50IHNjb3BlIGFuZCByZW5kZXIgaXRcbiAgICBycDogZnVuY3Rpb24oc3ltYm9sLCBjb250ZXh0LCBwYXJ0aWFscywgaW5kZW50KSB7XG4gICAgICB2YXIgcGFydGlhbCA9IHRoaXMuZXAoc3ltYm9sLCBwYXJ0aWFscyk7XG4gICAgICBpZiAoIXBhcnRpYWwpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcGFydGlhbC5yaShjb250ZXh0LCBwYXJ0aWFscywgaW5kZW50KTtcbiAgICB9LFxuXG4gICAgLy8gcmVuZGVyIGEgc2VjdGlvblxuICAgIHJzOiBmdW5jdGlvbihjb250ZXh0LCBwYXJ0aWFscywgc2VjdGlvbikge1xuICAgICAgdmFyIHRhaWwgPSBjb250ZXh0W2NvbnRleHQubGVuZ3RoIC0gMV07XG5cbiAgICAgIGlmICghaXNBcnJheSh0YWlsKSkge1xuICAgICAgICBzZWN0aW9uKGNvbnRleHQsIHBhcnRpYWxzLCB0aGlzKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRhaWwubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29udGV4dC5wdXNoKHRhaWxbaV0pO1xuICAgICAgICBzZWN0aW9uKGNvbnRleHQsIHBhcnRpYWxzLCB0aGlzKTtcbiAgICAgICAgY29udGV4dC5wb3AoKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLy8gbWF5YmUgc3RhcnQgYSBzZWN0aW9uXG4gICAgczogZnVuY3Rpb24odmFsLCBjdHgsIHBhcnRpYWxzLCBpbnZlcnRlZCwgc3RhcnQsIGVuZCwgdGFncykge1xuICAgICAgdmFyIHBhc3M7XG5cbiAgICAgIGlmIChpc0FycmF5KHZhbCkgJiYgdmFsLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgdmFsID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdmFsID0gdGhpcy5tcyh2YWwsIGN0eCwgcGFydGlhbHMsIGludmVydGVkLCBzdGFydCwgZW5kLCB0YWdzKTtcbiAgICAgIH1cblxuICAgICAgcGFzcyA9ICEhdmFsO1xuXG4gICAgICBpZiAoIWludmVydGVkICYmIHBhc3MgJiYgY3R4KSB7XG4gICAgICAgIGN0eC5wdXNoKCh0eXBlb2YgdmFsID09ICdvYmplY3QnKSA/IHZhbCA6IGN0eFtjdHgubGVuZ3RoIC0gMV0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcGFzcztcbiAgICB9LFxuXG4gICAgLy8gZmluZCB2YWx1ZXMgd2l0aCBkb3R0ZWQgbmFtZXNcbiAgICBkOiBmdW5jdGlvbihrZXksIGN0eCwgcGFydGlhbHMsIHJldHVybkZvdW5kKSB7XG4gICAgICB2YXIgZm91bmQsXG4gICAgICAgICAgbmFtZXMgPSBrZXkuc3BsaXQoJy4nKSxcbiAgICAgICAgICB2YWwgPSB0aGlzLmYobmFtZXNbMF0sIGN0eCwgcGFydGlhbHMsIHJldHVybkZvdW5kKSxcbiAgICAgICAgICBkb01vZGVsR2V0ID0gdGhpcy5vcHRpb25zLm1vZGVsR2V0LFxuICAgICAgICAgIGN4ID0gbnVsbDtcblxuICAgICAgaWYgKGtleSA9PT0gJy4nICYmIGlzQXJyYXkoY3R4W2N0eC5sZW5ndGggLSAyXSkpIHtcbiAgICAgICAgdmFsID0gY3R4W2N0eC5sZW5ndGggLSAxXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgbmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBmb3VuZCA9IGZpbmRJblNjb3BlKG5hbWVzW2ldLCB2YWwsIGRvTW9kZWxHZXQpO1xuICAgICAgICAgIGlmIChmb3VuZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjeCA9IHZhbDtcbiAgICAgICAgICAgIHZhbCA9IGZvdW5kO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YWwgPSAnJztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHJldHVybkZvdW5kICYmICF2YWwpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXJldHVybkZvdW5kICYmIHR5cGVvZiB2YWwgPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBjdHgucHVzaChjeCk7XG4gICAgICAgIHZhbCA9IHRoaXMubXYodmFsLCBjdHgsIHBhcnRpYWxzKTtcbiAgICAgICAgY3R4LnBvcCgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdmFsO1xuICAgIH0sXG5cbiAgICAvLyBmaW5kIHZhbHVlcyB3aXRoIG5vcm1hbCBuYW1lc1xuICAgIGY6IGZ1bmN0aW9uKGtleSwgY3R4LCBwYXJ0aWFscywgcmV0dXJuRm91bmQpIHtcbiAgICAgIHZhciB2YWwgPSBmYWxzZSxcbiAgICAgICAgICB2ID0gbnVsbCxcbiAgICAgICAgICBmb3VuZCA9IGZhbHNlLFxuICAgICAgICAgIGRvTW9kZWxHZXQgPSB0aGlzLm9wdGlvbnMubW9kZWxHZXQ7XG5cbiAgICAgIGZvciAodmFyIGkgPSBjdHgubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgdiA9IGN0eFtpXTtcbiAgICAgICAgdmFsID0gZmluZEluU2NvcGUoa2V5LCB2LCBkb01vZGVsR2V0KTtcbiAgICAgICAgaWYgKHZhbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICghZm91bmQpIHtcbiAgICAgICAgcmV0dXJuIChyZXR1cm5Gb3VuZCkgPyBmYWxzZSA6IFwiXCI7XG4gICAgICB9XG5cbiAgICAgIGlmICghcmV0dXJuRm91bmQgJiYgdHlwZW9mIHZhbCA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHZhbCA9IHRoaXMubXYodmFsLCBjdHgsIHBhcnRpYWxzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHZhbDtcbiAgICB9LFxuXG4gICAgLy8gaGlnaGVyIG9yZGVyIHRlbXBsYXRlc1xuICAgIGxzOiBmdW5jdGlvbihmdW5jLCBjeCwgcGFydGlhbHMsIHRleHQsIHRhZ3MpIHtcbiAgICAgIHZhciBvbGRUYWdzID0gdGhpcy5vcHRpb25zLmRlbGltaXRlcnM7XG5cbiAgICAgIHRoaXMub3B0aW9ucy5kZWxpbWl0ZXJzID0gdGFncztcbiAgICAgIHRoaXMuYih0aGlzLmN0KGNvZXJjZVRvU3RyaW5nKGZ1bmMuY2FsbChjeCwgdGV4dCkpLCBjeCwgcGFydGlhbHMpKTtcbiAgICAgIHRoaXMub3B0aW9ucy5kZWxpbWl0ZXJzID0gb2xkVGFncztcblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG5cbiAgICAvLyBjb21waWxlIHRleHRcbiAgICBjdDogZnVuY3Rpb24odGV4dCwgY3gsIHBhcnRpYWxzKSB7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLmRpc2FibGVMYW1iZGEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdMYW1iZGEgZmVhdHVyZXMgZGlzYWJsZWQuJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5jLmNvbXBpbGUodGV4dCwgdGhpcy5vcHRpb25zKS5yZW5kZXIoY3gsIHBhcnRpYWxzKTtcbiAgICB9LFxuXG4gICAgLy8gdGVtcGxhdGUgcmVzdWx0IGJ1ZmZlcmluZ1xuICAgIGI6IGZ1bmN0aW9uKHMpIHsgdGhpcy5idWYgKz0gczsgfSxcblxuICAgIGZsOiBmdW5jdGlvbigpIHsgdmFyIHIgPSB0aGlzLmJ1ZjsgdGhpcy5idWYgPSAnJzsgcmV0dXJuIHI7IH0sXG5cbiAgICAvLyBtZXRob2QgcmVwbGFjZSBzZWN0aW9uXG4gICAgbXM6IGZ1bmN0aW9uKGZ1bmMsIGN0eCwgcGFydGlhbHMsIGludmVydGVkLCBzdGFydCwgZW5kLCB0YWdzKSB7XG4gICAgICB2YXIgdGV4dFNvdXJjZSxcbiAgICAgICAgICBjeCA9IGN0eFtjdHgubGVuZ3RoIC0gMV0sXG4gICAgICAgICAgcmVzdWx0ID0gZnVuYy5jYWxsKGN4KTtcblxuICAgICAgaWYgKHR5cGVvZiByZXN1bHQgPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBpZiAoaW52ZXJ0ZWQpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0ZXh0U291cmNlID0gKHRoaXMuYWN0aXZlU3ViICYmIHRoaXMuc3Vic1RleHQgJiYgdGhpcy5zdWJzVGV4dFt0aGlzLmFjdGl2ZVN1Yl0pID8gdGhpcy5zdWJzVGV4dFt0aGlzLmFjdGl2ZVN1Yl0gOiB0aGlzLnRleHQ7XG4gICAgICAgICAgcmV0dXJuIHRoaXMubHMocmVzdWx0LCBjeCwgcGFydGlhbHMsIHRleHRTb3VyY2Uuc3Vic3RyaW5nKHN0YXJ0LCBlbmQpLCB0YWdzKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0sXG5cbiAgICAvLyBtZXRob2QgcmVwbGFjZSB2YXJpYWJsZVxuICAgIG12OiBmdW5jdGlvbihmdW5jLCBjdHgsIHBhcnRpYWxzKSB7XG4gICAgICB2YXIgY3ggPSBjdHhbY3R4Lmxlbmd0aCAtIDFdO1xuICAgICAgdmFyIHJlc3VsdCA9IGZ1bmMuY2FsbChjeCk7XG5cbiAgICAgIGlmICh0eXBlb2YgcmVzdWx0ID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3QoY29lcmNlVG9TdHJpbmcocmVzdWx0LmNhbGwoY3gpKSwgY3gsIHBhcnRpYWxzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9LFxuXG4gICAgc3ViOiBmdW5jdGlvbihuYW1lLCBjb250ZXh0LCBwYXJ0aWFscywgaW5kZW50KSB7XG4gICAgICB2YXIgZiA9IHRoaXMuc3Vic1tuYW1lXTtcbiAgICAgIGlmIChmKSB7XG4gICAgICAgIHRoaXMuYWN0aXZlU3ViID0gbmFtZTtcbiAgICAgICAgZihjb250ZXh0LCBwYXJ0aWFscywgdGhpcywgaW5kZW50KTtcbiAgICAgICAgdGhpcy5hY3RpdmVTdWIgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgfTtcblxuICAvL0ZpbmQgYSBrZXkgaW4gYW4gb2JqZWN0XG4gIGZ1bmN0aW9uIGZpbmRJblNjb3BlKGtleSwgc2NvcGUsIGRvTW9kZWxHZXQpIHtcbiAgICB2YXIgdmFsO1xuXG4gICAgaWYgKHNjb3BlICYmIHR5cGVvZiBzY29wZSA9PSAnb2JqZWN0Jykge1xuXG4gICAgICBpZiAoc2NvcGVba2V5XSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHZhbCA9IHNjb3BlW2tleV07XG5cbiAgICAgIC8vIHRyeSBsb29rdXAgd2l0aCBnZXQgZm9yIGJhY2tib25lIG9yIHNpbWlsYXIgbW9kZWwgZGF0YVxuICAgICAgfSBlbHNlIGlmIChkb01vZGVsR2V0ICYmIHNjb3BlLmdldCAmJiB0eXBlb2Ygc2NvcGUuZ2V0ID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdmFsID0gc2NvcGUuZ2V0KGtleSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZVNwZWNpYWxpemVkUGFydGlhbChpbnN0YW5jZSwgc3VicywgcGFydGlhbHMsIHN0YWNrU3Vicywgc3RhY2tQYXJ0aWFscywgc3RhY2tUZXh0KSB7XG4gICAgZnVuY3Rpb24gUGFydGlhbFRlbXBsYXRlKCkge307XG4gICAgUGFydGlhbFRlbXBsYXRlLnByb3RvdHlwZSA9IGluc3RhbmNlO1xuICAgIGZ1bmN0aW9uIFN1YnN0aXR1dGlvbnMoKSB7fTtcbiAgICBTdWJzdGl0dXRpb25zLnByb3RvdHlwZSA9IGluc3RhbmNlLnN1YnM7XG4gICAgdmFyIGtleTtcbiAgICB2YXIgcGFydGlhbCA9IG5ldyBQYXJ0aWFsVGVtcGxhdGUoKTtcbiAgICBwYXJ0aWFsLnN1YnMgPSBuZXcgU3Vic3RpdHV0aW9ucygpO1xuICAgIHBhcnRpYWwuc3Vic1RleHQgPSB7fTsgIC8vaGVoZS4gc3Vic3RleHQuXG4gICAgcGFydGlhbC5idWYgPSAnJztcblxuICAgIHN0YWNrU3VicyA9IHN0YWNrU3VicyB8fCB7fTtcbiAgICBwYXJ0aWFsLnN0YWNrU3VicyA9IHN0YWNrU3VicztcbiAgICBwYXJ0aWFsLnN1YnNUZXh0ID0gc3RhY2tUZXh0O1xuICAgIGZvciAoa2V5IGluIHN1YnMpIHtcbiAgICAgIGlmICghc3RhY2tTdWJzW2tleV0pIHN0YWNrU3Vic1trZXldID0gc3Vic1trZXldO1xuICAgIH1cbiAgICBmb3IgKGtleSBpbiBzdGFja1N1YnMpIHtcbiAgICAgIHBhcnRpYWwuc3Vic1trZXldID0gc3RhY2tTdWJzW2tleV07XG4gICAgfVxuXG4gICAgc3RhY2tQYXJ0aWFscyA9IHN0YWNrUGFydGlhbHMgfHwge307XG4gICAgcGFydGlhbC5zdGFja1BhcnRpYWxzID0gc3RhY2tQYXJ0aWFscztcbiAgICBmb3IgKGtleSBpbiBwYXJ0aWFscykge1xuICAgICAgaWYgKCFzdGFja1BhcnRpYWxzW2tleV0pIHN0YWNrUGFydGlhbHNba2V5XSA9IHBhcnRpYWxzW2tleV07XG4gICAgfVxuICAgIGZvciAoa2V5IGluIHN0YWNrUGFydGlhbHMpIHtcbiAgICAgIHBhcnRpYWwucGFydGlhbHNba2V5XSA9IHN0YWNrUGFydGlhbHNba2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGFydGlhbDtcbiAgfVxuXG4gIHZhciByQW1wID0gLyYvZyxcbiAgICAgIHJMdCA9IC88L2csXG4gICAgICByR3QgPSAvPi9nLFxuICAgICAgckFwb3MgPSAvXFwnL2csXG4gICAgICByUXVvdCA9IC9cXFwiL2csXG4gICAgICBoQ2hhcnMgPSAvWyY8PlxcXCJcXCddLztcblxuICBmdW5jdGlvbiBjb2VyY2VUb1N0cmluZyh2YWwpIHtcbiAgICByZXR1cm4gU3RyaW5nKCh2YWwgPT09IG51bGwgfHwgdmFsID09PSB1bmRlZmluZWQpID8gJycgOiB2YWwpO1xuICB9XG5cbiAgZnVuY3Rpb24gaG9nYW5Fc2NhcGUoc3RyKSB7XG4gICAgc3RyID0gY29lcmNlVG9TdHJpbmcoc3RyKTtcbiAgICByZXR1cm4gaENoYXJzLnRlc3Qoc3RyKSA/XG4gICAgICBzdHJcbiAgICAgICAgLnJlcGxhY2UockFtcCwgJyZhbXA7JylcbiAgICAgICAgLnJlcGxhY2Uockx0LCAnJmx0OycpXG4gICAgICAgIC5yZXBsYWNlKHJHdCwgJyZndDsnKVxuICAgICAgICAucmVwbGFjZShyQXBvcywgJyYjMzk7JylcbiAgICAgICAgLnJlcGxhY2UoclF1b3QsICcmcXVvdDsnKSA6XG4gICAgICBzdHI7XG4gIH1cblxuICB2YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24oYSkge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYSkgPT09ICdbb2JqZWN0IEFycmF5XSc7XG4gIH07XG5cbn0pKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJyA/IGV4cG9ydHMgOiBIb2dhbik7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAvaG9tZS9tYXRheW9zaGkvcHVibGljX2h0bWwvdGVzdC9Ud2VlblRpbWUvfi9ob2dhbi5qcy9saWIvdGVtcGxhdGUuanNcbi8vIG1vZHVsZSBpZCA9IDMzXG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJzb3VyY2VSb290IjoiIn0=")},function(module,exports,__webpack_require__){eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\n__webpack_require__(25);\n\nvar _PropertyBase2 = __webpack_require__(28);\n\nvar _PropertyBase3 = _interopRequireDefault(_PropertyBase2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n__webpack_require__(35);\n\n\nvar tpl_property = __webpack_require__(36);\n\nvar PropertyColor = function (_PropertyBase) {\n  _inherits(PropertyColor, _PropertyBase);\n\n  function PropertyColor(instance_property, lineData, editor) {\n    var key_val = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n    _classCallCheck(this, PropertyColor);\n\n    var _this = _possibleConstructorReturn(this, (PropertyColor.__proto__ || Object.getPrototypeOf(PropertyColor)).call(this, instance_property, lineData, editor, key_val));\n\n    _this.onInputChange = _this.onInputChange.bind(_this);\n    _this.$input = _this.$el.find('input');\n    return _this;\n  }\n\n  _createClass(PropertyColor, [{\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      _get(PropertyColor.prototype.__proto__ || Object.getPrototypeOf(PropertyColor.prototype), 'render', this).call(this);\n      // By default assign the property default value\n      var val = this.getCurrentVal();\n\n      var data = {\n        id: this.instance_property.name, // \"circleRadius\" instead of \"circle radius\"\n        label: this.instance_property.label || this.instance_property.name,\n        val: val\n      };\n\n      var view = tpl_property(data);\n      this.$el = $(view);\n      this.$el.find('.property__key').click(this.onKeyClick);\n\n      var $input = this.$el.find('input');\n\n      $input.spectrum({\n        allowEmpty: false,\n        showAlpha: true,\n        clickoutFiresChange: false,\n        preferredFormat: 'rgb',\n        change: function change() {\n          _this2.editor.undoManager.addState();\n        },\n        move: function move(color) {\n          if (color._a === 1) {\n            $input.val(color.toHexString());\n          } else {\n            $input.val(color.toRgbString());\n          }\n\n          _this2.onInputChange();\n        }\n      });\n\n      $input.change(this.onInputChange);\n    }\n  }, {\n    key: 'remove',\n    value: function remove() {\n      _get(PropertyColor.prototype.__proto__ || Object.getPrototypeOf(PropertyColor.prototype), 'remove', this).call(this);\n      this.$el.find('input').spectrum('destroy');\n      delete this.$el;\n      delete this.$input;\n    }\n  }, {\n    key: 'update',\n    value: function update() {\n      _get(PropertyColor.prototype.__proto__ || Object.getPrototypeOf(PropertyColor.prototype), 'update', this).call(this);\n      var val = this.getCurrentVal();\n      this.$input.val(val);\n      this.$input.spectrum('set', val);\n    }\n  }]);\n\n  return PropertyColor;\n}(_PropertyBase3.default);\n\nexports.default = PropertyColor;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9lZGl0b3IvUHJvcGVydHlDb2xvci5qcz80ZmJmIl0sIm5hbWVzIjpbInJlcXVpcmUiLCJ0cGxfcHJvcGVydHkiLCJQcm9wZXJ0eUNvbG9yIiwiaW5zdGFuY2VfcHJvcGVydHkiLCJsaW5lRGF0YSIsImVkaXRvciIsImtleV92YWwiLCJvbklucHV0Q2hhbmdlIiwiYmluZCIsIiRpbnB1dCIsIiRlbCIsImZpbmQiLCJ2YWwiLCJnZXRDdXJyZW50VmFsIiwiZGF0YSIsImlkIiwibmFtZSIsImxhYmVsIiwidmlldyIsIiQiLCJjbGljayIsIm9uS2V5Q2xpY2siLCJzcGVjdHJ1bSIsImFsbG93RW1wdHkiLCJzaG93QWxwaGEiLCJjbGlja291dEZpcmVzQ2hhbmdlIiwicHJlZmVycmVkRm9ybWF0IiwiY2hhbmdlIiwidW5kb01hbmFnZXIiLCJhZGRTdGF0ZSIsIm1vdmUiLCJjb2xvciIsIl9hIiwidG9IZXhTdHJpbmciLCJ0b1JnYlN0cmluZyIsIlByb3BlcnR5QmFzZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBOztBQUVBOzs7Ozs7Ozs7Ozs7QUFEQSxtQkFBQUEsQ0FBUSxFQUFSOzs7QUFHQSxJQUFJQyxlQUFlLG1CQUFBRCxDQUFRLEVBQVIsQ0FBbkI7O0lBRXFCRSxhOzs7QUFDbkIseUJBQVlDLGlCQUFaLEVBQStCQyxRQUEvQixFQUF5Q0MsTUFBekMsRUFBa0U7QUFBQSxRQUFqQkMsT0FBaUIsdUVBQVAsS0FBTzs7QUFBQTs7QUFBQSw4SEFDMURILGlCQUQwRCxFQUN2Q0MsUUFEdUMsRUFDN0JDLE1BRDZCLEVBQ3JCQyxPQURxQjs7QUFFaEUsVUFBS0MsYUFBTCxHQUFxQixNQUFLQSxhQUFMLENBQW1CQyxJQUFuQixPQUFyQjtBQUNBLFVBQUtDLE1BQUwsR0FBYyxNQUFLQyxHQUFMLENBQVNDLElBQVQsQ0FBYyxPQUFkLENBQWQ7QUFIZ0U7QUFJakU7Ozs7NkJBRVE7QUFBQTs7QUFDUDtBQUNBO0FBQ0EsVUFBSUMsTUFBTSxLQUFLQyxhQUFMLEVBQVY7O0FBRUEsVUFBSUMsT0FBTztBQUNUQyxZQUFJLEtBQUtaLGlCQUFMLENBQXVCYSxJQURsQixFQUN3QjtBQUNqQ0MsZUFBTyxLQUFLZCxpQkFBTCxDQUF1QmMsS0FBdkIsSUFBZ0MsS0FBS2QsaUJBQUwsQ0FBdUJhLElBRnJEO0FBR1RKLGFBQUtBO0FBSEksT0FBWDs7QUFNQSxVQUFJTSxPQUFPakIsYUFBYWEsSUFBYixDQUFYO0FBQ0EsV0FBS0osR0FBTCxHQUFXUyxFQUFFRCxJQUFGLENBQVg7QUFDQSxXQUFLUixHQUFMLENBQVNDLElBQVQsQ0FBYyxnQkFBZCxFQUFnQ1MsS0FBaEMsQ0FBc0MsS0FBS0MsVUFBM0M7O0FBRUEsVUFBSVosU0FBUyxLQUFLQyxHQUFMLENBQVNDLElBQVQsQ0FBYyxPQUFkLENBQWI7O0FBRUFGLGFBQU9hLFFBQVAsQ0FBZ0I7QUFDZEMsb0JBQVksS0FERTtBQUVkQyxtQkFBVyxJQUZHO0FBR2RDLDZCQUFxQixLQUhQO0FBSWRDLHlCQUFpQixLQUpIO0FBS2RDLGdCQUFRLGtCQUFNO0FBQ1osaUJBQUt0QixNQUFMLENBQVl1QixXQUFaLENBQXdCQyxRQUF4QjtBQUNELFNBUGE7QUFRZEMsY0FBTSxjQUFDQyxLQUFELEVBQVc7QUFDZixjQUFJQSxNQUFNQyxFQUFOLEtBQWEsQ0FBakIsRUFBb0I7QUFDbEJ2QixtQkFBT0csR0FBUCxDQUFXbUIsTUFBTUUsV0FBTixFQUFYO0FBQ0QsV0FGRCxNQUdLO0FBQ0h4QixtQkFBT0csR0FBUCxDQUFXbUIsTUFBTUcsV0FBTixFQUFYO0FBQ0Q7O0FBRUQsaUJBQUszQixhQUFMO0FBQ0Q7QUFqQmEsT0FBaEI7O0FBb0JBRSxhQUFPa0IsTUFBUCxDQUFjLEtBQUtwQixhQUFuQjtBQUNEOzs7NkJBRVE7QUFDUDtBQUNBLFdBQUtHLEdBQUwsQ0FBU0MsSUFBVCxDQUFjLE9BQWQsRUFBdUJXLFFBQXZCLENBQWdDLFNBQWhDO0FBQ0EsYUFBTyxLQUFLWixHQUFaO0FBQ0EsYUFBTyxLQUFLRCxNQUFaO0FBQ0Q7Ozs2QkFFUTtBQUNQO0FBQ0EsVUFBSUcsTUFBTSxLQUFLQyxhQUFMLEVBQVY7QUFDQSxXQUFLSixNQUFMLENBQVlHLEdBQVosQ0FBZ0JBLEdBQWhCO0FBQ0EsV0FBS0gsTUFBTCxDQUFZYSxRQUFaLENBQXFCLEtBQXJCLEVBQTRCVixHQUE1QjtBQUNEOzs7O0VBM0R3Q3VCLHNCOztrQkFBdEJqQyxhIiwiZmlsZSI6IjM0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICdqcXVlcnknO1xucmVxdWlyZSgnc3BlY3RydW0nKTtcbmltcG9ydCBQcm9wZXJ0eUJhc2UgZnJvbSAnLi9Qcm9wZXJ0eUJhc2UnO1xuXG5sZXQgdHBsX3Byb3BlcnR5ID0gcmVxdWlyZSgnLi4vdGVtcGxhdGVzL3Byb3BlcnR5Q29sb3IudHBsLmh0bWwnKTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvcGVydHlDb2xvciBleHRlbmRzIFByb3BlcnR5QmFzZSB7XG4gIGNvbnN0cnVjdG9yKGluc3RhbmNlX3Byb3BlcnR5LCBsaW5lRGF0YSwgZWRpdG9yLCBrZXlfdmFsID0gZmFsc2UpIHtcbiAgICBzdXBlcihpbnN0YW5jZV9wcm9wZXJ0eSwgbGluZURhdGEsIGVkaXRvciwga2V5X3ZhbCk7XG4gICAgdGhpcy5vbklucHV0Q2hhbmdlID0gdGhpcy5vbklucHV0Q2hhbmdlLmJpbmQodGhpcyk7XG4gICAgdGhpcy4kaW5wdXQgPSB0aGlzLiRlbC5maW5kKCdpbnB1dCcpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHN1cGVyLnJlbmRlcigpO1xuICAgIC8vIEJ5IGRlZmF1bHQgYXNzaWduIHRoZSBwcm9wZXJ0eSBkZWZhdWx0IHZhbHVlXG4gICAgdmFyIHZhbCA9IHRoaXMuZ2V0Q3VycmVudFZhbCgpO1xuXG4gICAgdmFyIGRhdGEgPSB7XG4gICAgICBpZDogdGhpcy5pbnN0YW5jZV9wcm9wZXJ0eS5uYW1lLCAvLyBcImNpcmNsZVJhZGl1c1wiIGluc3RlYWQgb2YgXCJjaXJjbGUgcmFkaXVzXCJcbiAgICAgIGxhYmVsOiB0aGlzLmluc3RhbmNlX3Byb3BlcnR5LmxhYmVsIHx8IHRoaXMuaW5zdGFuY2VfcHJvcGVydHkubmFtZSxcbiAgICAgIHZhbDogdmFsXG4gICAgfTtcblxuICAgIHZhciB2aWV3ID0gdHBsX3Byb3BlcnR5KGRhdGEpO1xuICAgIHRoaXMuJGVsID0gJCh2aWV3KTtcbiAgICB0aGlzLiRlbC5maW5kKCcucHJvcGVydHlfX2tleScpLmNsaWNrKHRoaXMub25LZXlDbGljayk7XG5cbiAgICB2YXIgJGlucHV0ID0gdGhpcy4kZWwuZmluZCgnaW5wdXQnKTtcblxuICAgICRpbnB1dC5zcGVjdHJ1bSh7XG4gICAgICBhbGxvd0VtcHR5OiBmYWxzZSxcbiAgICAgIHNob3dBbHBoYTogdHJ1ZSxcbiAgICAgIGNsaWNrb3V0RmlyZXNDaGFuZ2U6IGZhbHNlLFxuICAgICAgcHJlZmVycmVkRm9ybWF0OiAncmdiJyxcbiAgICAgIGNoYW5nZTogKCkgPT4ge1xuICAgICAgICB0aGlzLmVkaXRvci51bmRvTWFuYWdlci5hZGRTdGF0ZSgpO1xuICAgICAgfSxcbiAgICAgIG1vdmU6IChjb2xvcikgPT4ge1xuICAgICAgICBpZiAoY29sb3IuX2EgPT09IDEpIHtcbiAgICAgICAgICAkaW5wdXQudmFsKGNvbG9yLnRvSGV4U3RyaW5nKCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICRpbnB1dC52YWwoY29sb3IudG9SZ2JTdHJpbmcoKSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm9uSW5wdXRDaGFuZ2UoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgICRpbnB1dC5jaGFuZ2UodGhpcy5vbklucHV0Q2hhbmdlKTtcbiAgfVxuXG4gIHJlbW92ZSgpIHtcbiAgICBzdXBlci5yZW1vdmUoKTtcbiAgICB0aGlzLiRlbC5maW5kKCdpbnB1dCcpLnNwZWN0cnVtKCdkZXN0cm95Jyk7XG4gICAgZGVsZXRlIHRoaXMuJGVsO1xuICAgIGRlbGV0ZSB0aGlzLiRpbnB1dDtcbiAgfVxuXG4gIHVwZGF0ZSgpIHtcbiAgICBzdXBlci51cGRhdGUoKTtcbiAgICB2YXIgdmFsID0gdGhpcy5nZXRDdXJyZW50VmFsKCk7XG4gICAgdGhpcy4kaW5wdXQudmFsKHZhbCk7XG4gICAgdGhpcy4kaW5wdXQuc3BlY3RydW0oJ3NldCcsIHZhbCk7XG4gIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2VkaXRvci9Qcm9wZXJ0eUNvbG9yLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==");
},function(module,exports){eval("module.exports = __WEBPACK_EXTERNAL_MODULE_35__;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwge1wicm9vdFwiOlwic3BlY3RydW1cIixcImNvbW1vbmpzXCI6XCJzcGVjdHJ1bS1jb2xvcnBpY2tlclwiLFwiY29tbW9uanMyXCI6XCJzcGVjdHJ1bS1jb2xvcnBpY2tlclwiLFwiYW1kXCI6XCJzcGVjdHJ1bVwifT8wNTYxIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IjM1LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzM1X187XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwge1wicm9vdFwiOlwic3BlY3RydW1cIixcImNvbW1vbmpzXCI6XCJzcGVjdHJ1bS1jb2xvcnBpY2tlclwiLFwiY29tbW9uanMyXCI6XCJzcGVjdHJ1bS1jb2xvcnBpY2tlclwiLFwiYW1kXCI6XCJzcGVjdHJ1bVwifVxuLy8gbW9kdWxlIGlkID0gMzVcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==")},function(module,exports,__webpack_require__){eval('var H = __webpack_require__(31);\nmodule.exports = function() { var T = new H.Template({code: function (c,p,i) { var t=this;t.b(i=i||"");t.b("<div class=\\"property property--number\\">");t.b("\\n" + i);t.b("  <button class=\\"property__key\\"></button>");t.b("\\n" + i);t.b("  <label for=\\"");t.b(t.v(t.f("id",c,p,0)));t.b("\\" class=\\"property__label\\">");t.b(t.v(t.f("label",c,p,0)));t.b("</label>");t.b("\\n" + i);t.b("  <input id=\\"");t.b(t.v(t.f("id",c,p,0)));t.b("\\" class=\\"property__input\\" value=\\"");t.b(t.v(t.f("val",c,p,0)));t.b("\\" />");t.b("\\n" + i);t.b("</div>");t.b("\\n");return t.fl(); },partials: {}, subs: {  }}, "<div class=\\"property property--number\\">\\n  <button class=\\"property__key\\"></button>\\n  <label for=\\"{{id}}\\" class=\\"property__label\\">{{label}}</label>\\n  <input id=\\"{{id}}\\" class=\\"property__input\\" value=\\"{{val}}\\" />\\n</div>\\n", H); return T.render.apply(T, arguments); };//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi90ZW1wbGF0ZXMvcHJvcGVydHlDb2xvci50cGwuaHRtbD8zZGM5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0EsNkJBQTZCLHlCQUF5Qix3QkFBd0IsWUFBWSxhQUFhLGlEQUFpRCxjQUFjLG1EQUFtRCxjQUFjLHVCQUF1QiwwQkFBMEIscUNBQXFDLDZCQUE2QixnQkFBZ0IsY0FBYyxzQkFBc0IsMEJBQTBCLDZDQUE2QywyQkFBMkIsYUFBYSxjQUFjLGNBQWMsVUFBVSxjQUFjLEVBQUUsYUFBYSxTQUFTLElBQUksNEdBQTRHLElBQUksK0JBQStCLE9BQU8sMEJBQTBCLElBQUksdUNBQXVDLEtBQUsscUJBQXFCLHFDQUFxQyIsImZpbGUiOiIzNi5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBIID0gcmVxdWlyZShcImhvZ2FuLmpzXCIpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHsgdmFyIFQgPSBuZXcgSC5UZW1wbGF0ZSh7Y29kZTogZnVuY3Rpb24gKGMscCxpKSB7IHZhciB0PXRoaXM7dC5iKGk9aXx8XCJcIik7dC5iKFwiPGRpdiBjbGFzcz1cXFwicHJvcGVydHkgcHJvcGVydHktLW51bWJlclxcXCI+XCIpO3QuYihcIlxcblwiICsgaSk7dC5iKFwiICA8YnV0dG9uIGNsYXNzPVxcXCJwcm9wZXJ0eV9fa2V5XFxcIj48L2J1dHRvbj5cIik7dC5iKFwiXFxuXCIgKyBpKTt0LmIoXCIgIDxsYWJlbCBmb3I9XFxcIlwiKTt0LmIodC52KHQuZihcImlkXCIsYyxwLDApKSk7dC5iKFwiXFxcIiBjbGFzcz1cXFwicHJvcGVydHlfX2xhYmVsXFxcIj5cIik7dC5iKHQudih0LmYoXCJsYWJlbFwiLGMscCwwKSkpO3QuYihcIjwvbGFiZWw+XCIpO3QuYihcIlxcblwiICsgaSk7dC5iKFwiICA8aW5wdXQgaWQ9XFxcIlwiKTt0LmIodC52KHQuZihcImlkXCIsYyxwLDApKSk7dC5iKFwiXFxcIiBjbGFzcz1cXFwicHJvcGVydHlfX2lucHV0XFxcIiB2YWx1ZT1cXFwiXCIpO3QuYih0LnYodC5mKFwidmFsXCIsYyxwLDApKSk7dC5iKFwiXFxcIiAvPlwiKTt0LmIoXCJcXG5cIiArIGkpO3QuYihcIjwvZGl2PlwiKTt0LmIoXCJcXG5cIik7cmV0dXJuIHQuZmwoKTsgfSxwYXJ0aWFsczoge30sIHN1YnM6IHsgIH19LCBcIjxkaXYgY2xhc3M9XFxcInByb3BlcnR5IHByb3BlcnR5LS1udW1iZXJcXFwiPlxcbiAgPGJ1dHRvbiBjbGFzcz1cXFwicHJvcGVydHlfX2tleVxcXCI+PC9idXR0b24+XFxuICA8bGFiZWwgZm9yPVxcXCJ7e2lkfX1cXFwiIGNsYXNzPVxcXCJwcm9wZXJ0eV9fbGFiZWxcXFwiPnt7bGFiZWx9fTwvbGFiZWw+XFxuICA8aW5wdXQgaWQ9XFxcInt7aWR9fVxcXCIgY2xhc3M9XFxcInByb3BlcnR5X19pbnB1dFxcXCIgdmFsdWU9XFxcInt7dmFsfX1cXFwiIC8+XFxuPC9kaXY+XFxuXCIsIEgpOyByZXR1cm4gVC5yZW5kZXIuYXBwbHkoVCwgYXJndW1lbnRzKTsgfTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3RlbXBsYXRlcy9wcm9wZXJ0eUNvbG9yLnRwbC5odG1sXG4vLyBtb2R1bGUgaWQgPSAzNlxuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9')},function(module,exports,__webpack_require__){eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\n__webpack_require__(25);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar tpl_property = __webpack_require__(38);\n\nvar PropertyTween = function () {\n  // instance_property: The current property on the data object.\n  // lineData: The line data object.\n  function PropertyTween(instance_property, lineData, editor) {\n    var key_val = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n    var timeline = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n\n    _classCallCheck(this, PropertyTween);\n\n    this.instance_property = instance_property;\n    this.lineData = lineData;\n    this.editor = editor;\n    this.key_val = key_val;\n    this.timeline = timeline;\n\n    this.onChange = this.onChange.bind(this);\n\n    this.timer = this.editor.timer;\n    this.$el = false;\n    this.render();\n  }\n\n  _createClass(PropertyTween, [{\n    key: 'remove',\n    value: function remove() {\n      delete this.$el;\n      delete this.instance_property;\n      delete this.lineData;\n      delete this.editor;\n      delete this.key_val;\n      delete this.timeline;\n\n      delete this.timer;\n    }\n  }, {\n    key: 'customLabel',\n    value: function customLabel(easeArray) {\n      var arrayFixed = easeArray.map(function (x) {\n        return parseFloat(x.toFixed(3));\n      });\n      return '[' + arrayFixed.join(', ') + ']';\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var self = this;\n      if (!this.key_val.ease) {\n        this.key_val.ease = 'Quad.easeOut';\n      }\n      var data = {\n        id: this.instance_property.name + '_tween',\n        val: this.key_val.ease,\n        options: ['Linear.easeNone'],\n        selected: function selected() {\n          if (this.toString() === self.key_val.ease) {\n            return 'selected';\n          }\n          if (Array.isArray(self.key_val.ease)) {\n            if (this === self.customLabel(self.key_val.ease)) {\n              return 'selected';\n            }\n          }\n          return '';\n        }\n      };\n\n      var tweens = ['Quad', 'Cubic', 'Quart', 'Quint'];\n      for (var i = 0; i < tweens.length; i++) {\n        var tween = tweens[i];\n        data.options.push(tween + '.easeOut');\n        data.options.push(tween + '.easeIn');\n        data.options.push(tween + '.easeInOut');\n      }\n\n      if (Array.isArray(this.key_val.ease)) {\n        var label = this.customLabel(this.key_val.ease);\n        data.options.push(label);\n      }\n\n      this.$el = $(tpl_property(data));\n      this.$el.find('select').change(this.onChange);\n    }\n  }, {\n    key: 'onChange',\n    value: function onChange() {\n      var ease = this.$el.find('select').val();\n      this.key_val.ease = ease;\n      this.editor.undoManager.addState();\n      this.lineData._isDirty = true;\n      this.timeline._isDirty = true;\n    }\n  }, {\n    key: 'update',\n    value: function update() {\n      console.log('PropertyTween\\'s update method is not yet implemented.');\n    }\n  }]);\n\n  return PropertyTween;\n}();\n\nexports.default = PropertyTween;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9lZGl0b3IvUHJvcGVydHlUd2Vlbi5qcz8xODZmIl0sIm5hbWVzIjpbInRwbF9wcm9wZXJ0eSIsInJlcXVpcmUiLCJQcm9wZXJ0eVR3ZWVuIiwiaW5zdGFuY2VfcHJvcGVydHkiLCJsaW5lRGF0YSIsImVkaXRvciIsImtleV92YWwiLCJ0aW1lbGluZSIsIm9uQ2hhbmdlIiwiYmluZCIsInRpbWVyIiwiJGVsIiwicmVuZGVyIiwiZWFzZUFycmF5IiwiYXJyYXlGaXhlZCIsIm1hcCIsIngiLCJwYXJzZUZsb2F0IiwidG9GaXhlZCIsImpvaW4iLCJzZWxmIiwiZWFzZSIsImRhdGEiLCJpZCIsIm5hbWUiLCJ2YWwiLCJvcHRpb25zIiwic2VsZWN0ZWQiLCJ0b1N0cmluZyIsIkFycmF5IiwiaXNBcnJheSIsImN1c3RvbUxhYmVsIiwidHdlZW5zIiwiaSIsImxlbmd0aCIsInR3ZWVuIiwicHVzaCIsImxhYmVsIiwiJCIsImZpbmQiLCJjaGFuZ2UiLCJ1bmRvTWFuYWdlciIsImFkZFN0YXRlIiwiX2lzRGlydHkiLCJjb25zb2xlIiwibG9nIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBOzs7O0FBRUEsSUFBSUEsZUFBZSxtQkFBQUMsQ0FBUSxFQUFSLENBQW5COztJQUVxQkMsYTtBQUNuQjtBQUNBO0FBQ0EseUJBQVlDLGlCQUFaLEVBQStCQyxRQUEvQixFQUF5Q0MsTUFBekMsRUFBb0Y7QUFBQSxRQUFuQ0MsT0FBbUMsdUVBQXpCLEtBQXlCO0FBQUEsUUFBbEJDLFFBQWtCLHVFQUFQLEtBQU87O0FBQUE7O0FBQ2xGLFNBQUtKLGlCQUFMLEdBQXlCQSxpQkFBekI7QUFDQSxTQUFLQyxRQUFMLEdBQWdCQSxRQUFoQjtBQUNBLFNBQUtDLE1BQUwsR0FBY0EsTUFBZDtBQUNBLFNBQUtDLE9BQUwsR0FBZUEsT0FBZjtBQUNBLFNBQUtDLFFBQUwsR0FBZ0JBLFFBQWhCOztBQUVBLFNBQUtDLFFBQUwsR0FBZ0IsS0FBS0EsUUFBTCxDQUFjQyxJQUFk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QUtwQyxRQUFMLENBQWNvQyxRQUFkLEdBQXlCLElBQXpCO0FBQ0Q7Ozs2QkFFUTtBQUNQQyxjQUFRQyxHQUFSLENBQVksd0RBQVo7QUFDRDs7Ozs7O2tCQWxGa0IzQyxhIiwiZmlsZSI6IjM3LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICdqcXVlcnknO1xuXG5sZXQgdHBsX3Byb3BlcnR5ID0gcmVxdWlyZSgnLi4vdGVtcGxhdGVzL3Byb3BlcnR5VHdlZW4udHBsLmh0bWwnKTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvcGVydHlUd2VlbiB7XG4gIC8vIGluc3RhbmNlX3Byb3BlcnR5OiBUaGUgY3VycmVudCBwcm9wZXJ0eSBvbiB0aGUgZGF0YSBvYmplY3QuXG4gIC8vIGxpbmVEYXRhOiBUaGUgbGluZSBkYXRhIG9iamVjdC5cbiAgY29uc3RydWN0b3IoaW5zdGFuY2VfcHJvcGVydHksIGxpbmVEYXRhLCBlZGl0b3IsIGtleV92YWwgPSBmYWxzZSwgdGltZWxpbmUgPSBmYWxzZSkge1xuICAgIHRoaXMuaW5zdGFuY2VfcHJvcGVydHkgPSBpbnN0YW5jZV9wcm9wZXJ0eTtcbiAgICB0aGlzLmxpbmVEYXRhID0gbGluZURhdGE7XG4gICAgdGhpcy5lZGl0b3IgPSBlZGl0b3I7XG4gICAgdGhpcy5rZXlfdmFsID0ga2V5X3ZhbDtcbiAgICB0aGlzLnRpbWVsaW5lID0gdGltZWxpbmU7XG5cbiAgICB0aGlzLm9uQ2hhbmdlID0gdGhpcy5vbkNoYW5nZS5iaW5kKHRoaXMpO1xuXG4gICAgdGhpcy50aW1lciA9IHRoaXMuZWRpdG9yLnRpbWVyO1xuICAgIHRoaXMuJGVsID0gZmFsc2U7XG4gICAgdGhpcy5yZW5kZXIoKTtcbiAgfVxuXG4gIHJlbW92ZSgpIHtcbiAgICBkZWxldGUgdGhpcy4kZWw7XG4gICAgZGVsZXRlIHRoaXMuaW5zdGFuY2VfcHJvcGVydHk7XG4gICAgZGVsZXRlIHRoaXMubGluZURhdGE7XG4gICAgZGVsZXRlIHRoaXMuZWRpdG9yO1xuICAgIGRlbGV0ZSB0aGlzLmtleV92YWw7XG4gICAgZGVsZXRlIHRoaXMudGltZWxpbmU7XG5cbiAgICBkZWxldGUgdGhpcy50aW1lcjtcbiAgfVxuXG4gIGN1c3RvbUxhYmVsKGVhc2VBcnJheSkge1xuICAgIGNvbnN0IGFycmF5Rml4ZWQgPSBlYXNlQXJyYXkubWFwKCh4KSA9PiBwYXJzZUZsb2F0KHgudG9GaXhlZCgzKSkpO1xuICAgIHJldHVybiBgWyR7YXJyYXlGaXhlZC5qb2luKCcsICcpfV1gO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBpZiAoIXRoaXMua2V5X3ZhbC5lYXNlKSB7XG4gICAgICB0aGlzLmtleV92YWwuZWFzZSA9ICdRdWFkLmVhc2VPdXQnO1xuICAgIH1cbiAgICB2YXIgZGF0YSA9IHtcbiAgICAgIGlkOiB0aGlzLmluc3RhbmNlX3Byb3BlcnR5Lm5hbWUgKyAnX3R3ZWVuJyxcbiAgICAgIHZhbDogdGhpcy5rZXlfdmFsLmVhc2UsXG4gICAgICBvcHRpb25zOiBbJ0xpbmVhci5lYXNlTm9uZSddLFxuICAgICAgc2VsZWN0ZWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy50b1N0cmluZygpID09PSBzZWxmLmtleV92YWwuZWFzZSkge1xuICAgICAgICAgIHJldHVybiAnc2VsZWN0ZWQnO1xuICAgICAgICB9XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHNlbGYua2V5X3ZhbC5lYXNlKSkge1xuICAgICAgICAgIGlmICh0aGlzID09PSBzZWxmLmN1c3RvbUxhYmVsKHNlbGYua2V5X3ZhbC5lYXNlKSkge1xuICAgICAgICAgICAgcmV0dXJuICdzZWxlY3RlZCc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAnJztcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIHR3ZWVucyA9IFsnUXVhZCcsICdDdWJpYycsICdRdWFydCcsICdRdWludCddO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHdlZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgdHdlZW4gPSB0d2VlbnNbaV07XG4gICAgICBkYXRhLm9wdGlvbnMucHVzaCh0d2VlbiArICcuZWFzZU91dCcpO1xuICAgICAgZGF0YS5vcHRpb25zLnB1c2godHdlZW4gKyAnLmVhc2VJbicpO1xuICAgICAgZGF0YS5vcHRpb25zLnB1c2godHdlZW4gKyAnLmVhc2VJbk91dCcpO1xuICAgIH1cblxuICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMua2V5X3ZhbC5lYXNlKSkge1xuICAgICAgY29uc3QgbGFiZWwgPSB0aGlzLmN1c3RvbUxhYmVsKHRoaXMua2V5X3ZhbC5lYXNlKTtcbiAgICAgIGRhdGEub3B0aW9ucy5wdXNoKGxhYmVsKTtcbiAgICB9XG5cbiAgICB0aGlzLiRlbCA9ICQodHBsX3Byb3BlcnR5KGRhdGEpKTtcbiAgICB0aGlzLiRlbC5maW5kKCdzZWxlY3QnKS5jaGFuZ2UodGhpcy5vbkNoYW5nZSk7XG4gIH1cblxuICBvbkNoYW5nZSgpIHtcbiAgICB2YXIgZWFzZSA9IHRoaXMuJGVsLmZpbmQoJ3NlbGVjdCcpLnZhbCgpO1xuICAgIHRoaXMua2V5X3ZhbC5lYXNlID0gZWFzZTtcbiAgICB0aGlzLmVkaXRvci51bmRvTWFuYWdlci5hZGRTdGF0ZSgpO1xuICAgIHRoaXMubGluZURhdGEuX2lzRGlydHkgPSB0cnVlO1xuICAgIHRoaXMudGltZWxpbmUuX2lzRGlydHkgPSB0cnVlO1xuICB9XG5cbiAgdXBkYXRlKCkge1xuICAgIGNvbnNvbGUubG9nKCdQcm9wZXJ0eVR3ZWVuXFwncyB1cGRhdGUgbWV0aG9kIGlzIG5vdCB5ZXQgaW1wbGVtZW50ZWQuJyk7XG4gIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2VkaXRvci9Qcm9wZXJ0eVR3ZWVuLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==")},function(module,exports,__webpack_require__){eval('var H = __webpack_require__(31);\nmodule.exports = function() { var T = new H.Template({code: function (c,p,i) { var t=this;t.b(i=i||"");t.b("<div class=\\"property property--tween\\">");t.b("\\n" + i);t.b("  <label for=\\"");t.b(t.v(t.f("id",c,p,0)));t.b("\\" class=\\"property__label\\">easing</label>");t.b("\\n" + i);t.b("  <div class=\\"property__select\\">");t.b("\\n" + i);t.b("    <div class=\\"custom-select\\">");t.b("\\n" + i);t.b("      <select id=\\"");t.b(t.v(t.f("id",c,p,0)));t.b("\\">");t.b("\\n" + i);if(t.s(t.f("options",c,p,1),c,p,0,212,279,"{{ }}")){t.rs(c,p,function(c,p,t){t.b("        <option value=\\"");t.b(t.v(t.d(".",c,p,0)));t.b("\\" ");t.b(t.v(t.f("selected",c,p,0)));t.b(">");t.b(t.v(t.d(".",c,p,0)));t.b("</option>");t.b("\\n" + i);});c.pop();}t.b("      </select>");t.b("\\n" + i);t.b("    </div>");t.b("\\n" + i);t.b("  </div>");t.b("\\n" + i);t.b("</div>");t.b("\\n");return t.fl(); },partials: {}, subs: {  }}, "<div class=\\"property property--tween\\">\\n  <label for=\\"{{id}}\\" class=\\"property__label\\">easing</label>\\n  <div class=\\"property__select\\">\\n    <div class=\\"custom-select\\">\\n      <select id=\\"{{id}}\\">\\n        {{#options}}\\n        <option value=\\"{{.}}\\" {{selected}}>{{.}}</option>\\n        {{/options}}\\n      </select>\\n    </div>\\n  </div>\\n</div>\\n", H); return T.render.apply(T, arguments); };//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi90ZW1wbGF0ZXMvcHJvcGVydHlUd2Vlbi50cGwuaHRtbD9mZDQ4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0EsNkJBQTZCLHlCQUF5Qix3QkFBd0IsWUFBWSxhQUFhLGdEQUFnRCxjQUFjLHVCQUF1QiwwQkFBMEIsbURBQW1ELGNBQWMsMENBQTBDLGNBQWMseUNBQXlDLGNBQWMsMkJBQTJCLDBCQUEwQixXQUFXLGNBQWMsNkNBQTZDLEdBQUcsSUFBSSx5QkFBeUIsZ0NBQWdDLHlCQUF5QixXQUFXLGdDQUFnQyxTQUFTLHlCQUF5QixpQkFBaUIsZUFBZSxFQUFFLFNBQVMsdUJBQXVCLGNBQWMsa0JBQWtCLGNBQWMsZ0JBQWdCLGNBQWMsY0FBYyxVQUFVLGNBQWMsRUFBRSxhQUFhLFNBQVMsSUFBSSw4REFBOEQsSUFBSSx5SUFBeUksSUFBSSxlQUFlLFVBQVUsNEJBQTRCLEdBQUcsS0FBSyxVQUFVLEdBQUcsR0FBRyxxQkFBcUIsVUFBVSx1REFBdUQscUNBQXFDIiwiZmlsZSI6IjM4LmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIEggPSByZXF1aXJlKFwiaG9nYW4uanNcIik7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkgeyB2YXIgVCA9IG5ldyBILlRlbXBsYXRlKHtjb2RlOiBmdW5jdGlvbiAoYyxwLGkpIHsgdmFyIHQ9dGhpczt0LmIoaT1pfHxcIlwiKTt0LmIoXCI8ZGl2IGNsYXNzPVxcXCJwcm9wZXJ0eSBwcm9wZXJ0eS0tdHdlZW5cXFwiPlwiKTt0LmIoXCJcXG5cIiArIGkpO3QuYihcIiAgPGxhYmVsIGZvcj1cXFwiXCIpO3QuYih0LnYodC5mKFwiaWRcIixjLHAsMCkpKTt0LmIoXCJcXFwiIGNsYXNzPVxcXCJwcm9wZXJ0eV9fbGFiZWxcXFwiPmVhc2luZzwvbGFiZWw+XCIpO3QuYihcIlxcblwiICsgaSk7dC5iKFwiICA8ZGl2IGNsYXNzPVxcXCJwcm9wZXJ0eV9fc2VsZWN0XFxcIj5cIik7dC5iKFwiXFxuXCIgKyBpKTt0LmIoXCIgICAgPGRpdiBjbGFzcz1cXFwiY3VzdG9tLXNlbGVjdFxcXCI+XCIpO3QuYihcIlxcblwiICsgaSk7dC5iKFwiICAgICAgPHNlbGVjdCBpZD1cXFwiXCIpO3QuYih0LnYodC5mKFwiaWRcIixjLHAsMCkpKTt0LmIoXCJcXFwiPlwiKTt0LmIoXCJcXG5cIiArIGkpO2lmKHQucyh0LmYoXCJvcHRpb25zXCIsYyxwLDEpLGMscCwwLDIxMiwyNzksXCJ7eyB9fVwiKSl7dC5ycyhjLHAsZnVuY3Rpb24oYyxwLHQpe3QuYihcIiAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiXCIpO3QuYih0LnYodC5kKFwiLlwiLGMscCwwKSkpO3QuYihcIlxcXCIgXCIpO3QuYih0LnYodC5mKFwic2VsZWN0ZWRcIixjLHAsMCkpKTt0LmIoXCI+XCIpO3QuYih0LnYodC5kKFwiLlwiLGMscCwwKSkpO3QuYihcIjwvb3B0aW9uPlwiKTt0LmIoXCJcXG5cIiArIGkpO30pO2MucG9wKCk7fXQuYihcIiAgICAgIDwvc2VsZWN0PlwiKTt0LmIoXCJcXG5cIiArIGkpO3QuYihcIiAgICA8L2Rpdj5cIik7dC5iKFwiXFxuXCIgKyBpKTt0LmIoXCIgIDwvZGl2PlwiKTt0LmIoXCJcXG5cIiArIGkpO3QuYihcIjwvZGl2PlwiKTt0LmIoXCJcXG5cIik7cmV0dXJuIHQuZmwoKTsgfSxwYXJ0aWFsczoge30sIHN1YnM6IHsgIH19LCBcIjxkaXYgY2xhc3M9XFxcInByb3BlcnR5IHByb3BlcnR5LS10d2VlblxcXCI+XFxuICA8bGFiZWwgZm9yPVxcXCJ7e2lkfX1cXFwiIGNsYXNzPVxcXCJwcm9wZXJ0eV9fbGFiZWxcXFwiPmVhc2luZzwvbGFiZWw+XFxuICA8ZGl2IGNsYXNzPVxcXCJwcm9wZXJ0eV9fc2VsZWN0XFxcIj5cXG4gICAgPGRpdiBjbGFzcz1cXFwiY3VzdG9tLXNlbGVjdFxcXCI+XFxuICAgICAgPHNlbGVjdCBpZD1cXFwie3tpZH19XFxcIj5cXG4gICAgICAgIHt7I29wdGlvbnN9fVxcbiAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwie3sufX1cXFwiIHt7c2VsZWN0ZWR9fT57ey59fTwvb3B0aW9uPlxcbiAgICAgICAge3svb3B0aW9uc319XFxuICAgICAgPC9zZWxlY3Q+XFxuICAgIDwvZGl2PlxcbiAgPC9kaXY+XFxuPC9kaXY+XFxuXCIsIEgpOyByZXR1cm4gVC5yZW5kZXIuYXBwbHkoVCwgYXJndW1lbnRzKTsgfTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3RlbXBsYXRlcy9wcm9wZXJ0eVR3ZWVuLnRwbC5odG1sXG4vLyBtb2R1bGUgaWQgPSAzOFxuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9')},function(module,exports,__webpack_require__){eval('\'use strict\';\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\n__webpack_require__(25);\n\nvar _PropertyBase2 = __webpack_require__(28);\n\nvar _PropertyBase3 = _interopRequireDefault(_PropertyBase2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar tpl_property = __webpack_require__(40);\n\nvar PropertyEvent = function (_PropertyBase) {\n  _inherits(PropertyEvent, _PropertyBase);\n\n  // instance_property: The current property on the data object.\n  // lineData: The line data object.\n  function PropertyEvent(instance_property, lineData, editor) {\n    var key_val = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n    _classCallCheck(this, PropertyEvent);\n\n    var _this = _possibleConstructorReturn(this, (PropertyEvent.__proto__ || Object.getPrototypeOf(PropertyEvent)).call(this, instance_property, lineData, editor, key_val));\n\n    _this.onInputChange = _this.onInputChange.bind(_this);\n    _this.$input = _this.$el.find(\'input\');\n    return _this;\n  }\n\n  _createClass(PropertyEvent, [{\n    key: \'render\',\n    value: function render() {\n      _get(PropertyEvent.prototype.__proto__ || Object.getPrototypeOf(PropertyEvent.prototype), \'render\', this).call(this);\n\n      var val = this.getCurrentVal();\n\n      var data = {\n        id: this.instance_property.name, // "circleRadius" instead of "circle radius"\n        label: this.instance_property.label || this.instance_property.name,\n        val: val\n      };\n\n      var view = tpl_property(data);\n      this.$el = $(view);\n\n      var $input = this.$el.find(\'input\');\n\n      $input.change(this.onInputChange);\n    }\n  }, {\n    key: \'remove\',\n    value: function remove() {\n      _get(PropertyEvent.prototype.__proto__ || Object.getPrototypeOf(PropertyEvent.prototype), \'remove\', this).call(this);\n    }\n  }, {\n    key: \'update\',\n    value: function update() {\n      _get(PropertyEvent.prototype.__proto__ || Object.getPrototypeOf(PropertyEvent.prototype), \'update\', this).call(this);\n      var val = this.getCurrentVal();\n      this.$input.val(val);\n    }\n  }]);\n\n  return PropertyEvent;\n}(_PropertyBase3.default);\n\nexports.default = PropertyEvent;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9lZGl0b3IvUHJvcGVydHlFdmVudC5qcz9kZWZjIl0sIm5hbWVzIjpbInRwbF9wcm9wZXJ0eSIsInJlcXVpcmUiLCJQcm9wZXJ0eUV2ZW50IiwiaW5zdGFuY2VfcHJvcGVydHkiLCJsaW5lRGF0YSIsImVkaXRvciIsImtleV92YWwiLCJvbklucHV0Q2hhbmdlIiwiYmluZCIsIiRpbnB1dCIsIiRlbCIsImZpbmQiLCJ2YWwiLCJnZXRDdXJyZW50VmFsIiwiZGF0YSIsImlkIiwibmFtZSIsImxhYmVsIiwidmlldyIsIiQiLCJjaGFuZ2UiLCJQcm9wZXJ0eUJhc2UiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTs7QUFDQTs7Ozs7Ozs7Ozs7O0FBRUEsSUFBSUEsZUFBZSxtQkFBQUMsQ0FBUSxFQUFSLENBQW5COztJQUVxQkMsYTs7O0FBQ25CO0FBQ0E7QUFDQSx5QkFBWUMsaUJBQVosRUFBK0JDLFFBQS9CLEVBQXlDQyxNQUF6QyxFQUFrRTtBQUFBLFFBQWpCQyxPQUFpQix1RUFBUCxLQUFPOztBQUFBOztBQUFBLDhIQUMxREgsaUJBRDBELEVBQ3ZDQyxRQUR1QyxFQUM3QkMsTUFENkIsRUFDckJDLE9BRHFCOztBQUVoRSxVQUFLQyxhQUFMLEdBQXFCLE1BQUtBLGFBQUwsQ0FBbUJDLElBQW5CLE9BQXJCO0FBQ0EsVUFBS0MsTUFBTCxHQUFjLE1BQUtDLEdBQUwsQ0FBU0MsSUFBVCxDQUFjLE9BQWQsQ0FBZDtBQUhnRTtBQUlqRTs7Ozs2QkFFUTtBQUNQOztBQUVBLFVBQUlDLE1BQU0sS0FBS0MsYUFBTCxFQUFWOztBQUVBLFVBQUlDLE9BQU87QUFDVEMsWUFBSSxLQUFLWixpQkFBTCxDQUF1QmEsSUFEbEIsRUFDd0I7QUFDakNDLGVBQU8sS0FBS2QsaUJBQUwsQ0FBdUJjLEtBQXZCLElBQWdDLEtBQUtkLGlCQUFMLENBQXVCYSxJQUZyRDtBQUdUSixhQUFLQTtBQUhJLE9BQVg7O0FBTUEsVUFBSU0sT0FBT2xCLGFBQWFjLElBQWIsQ0FBWDtBQUNBLFdBQUtKLEdBQUwsR0FBV1MsRUFBRUQsSUFBRixDQUFYOztBQUVBLFVBQUlULFNBQVMsS0FBS0MsR0FBTCxDQUFTQyxJQUFULENBQWMsT0FBZCxDQUFiOztBQUVBRixhQUFPVyxNQUFQLENBQWMsS0FBS2IsYUFBbkI7QUFDRDs7OzZCQUVRO0FBQ1A7QUFDRDs7OzZCQUVRO0FBQ1A7QUFDQSxVQUFJSyxNQUFNLEtBQUtDLGFBQUwsRUFBVjtBQUNBLFdBQUtKLE1BQUwsQ0FBWUcsR0FBWixDQUFnQkEsR0FBaEI7QUFDRDs7OztFQXBDd0NTLHNCOztrQkFBdEJuQixhIiwiZmlsZSI6IjM5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICdqcXVlcnknO1xuaW1wb3J0IFByb3BlcnR5QmFzZSBmcm9tICcuL1Byb3BlcnR5QmFzZSc7XG5cbmxldCB0cGxfcHJvcGVydHkgPSByZXF1aXJlKCcuLi90ZW1wbGF0ZXMvcHJvcGVydHlFdmVudC50cGwuaHRtbCcpO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQcm9wZXJ0eUV2ZW50IGV4dGVuZHMgUHJvcGVydHlCYXNlIHtcbiAgLy8gaW5zdGFuY2VfcHJvcGVydHk6IFRoZSBjdXJyZW50IHByb3BlcnR5IG9uIHRoZSBkYXRhIG9iamVjdC5cbiAgLy8gbGluZURhdGE6IFRoZSBsaW5lIGRhdGEgb2JqZWN0LlxuICBjb25zdHJ1Y3RvcihpbnN0YW5jZV9wcm9wZXJ0eSwgbGluZURhdGEsIGVkaXRvciwga2V5X3ZhbCA9IGZhbHNlKSB7XG4gICAgc3VwZXIoaW5zdGFuY2VfcHJvcGVydHksIGxpbmVEYXRhLCBlZGl0b3IsIGtleV92YWwpO1xuICAgIHRoaXMub25JbnB1dENoYW5nZSA9IHRoaXMub25JbnB1dENoYW5nZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuJGlucHV0ID0gdGhpcy4kZWwuZmluZCgnaW5wdXQnKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBzdXBlci5yZW5kZXIoKTtcblxuICAgIGxldCB2YWwgPSB0aGlzLmdldEN1cnJlbnRWYWwoKTtcblxuICAgIGxldCBkYXRhID0ge1xuICAgICAgaWQ6IHRoaXMuaW5zdGFuY2VfcHJvcGVydHkubmFtZSwgLy8gXCJjaXJjbGVSYWRpdXNcIiBpbnN0ZWFkIG9mIFwiY2lyY2xlIHJhZGl1c1wiXG4gICAgICBsYWJlbDogdGhpcy5pbnN0YW5jZV9wcm9wZXJ0eS5sYWJlbCB8fCB0aGlzLmluc3RhbmNlX3Byb3BlcnR5Lm5hbWUsXG4gICAgICB2YWw6IHZhbFxuICAgIH07XG5cbiAgICBsZXQgdmlldyA9IHRwbF9wcm9wZXJ0eShkYXRhKTtcbiAgICB0aGlzLiRlbCA9ICQodmlldyk7XG5cbiAgICB2YXIgJGlucHV0ID0gdGhpcy4kZWwuZmluZCgnaW5wdXQnKTtcblxuICAgICRpbnB1dC5jaGFuZ2UodGhpcy5vbklucHV0Q2hhbmdlKTtcbiAgfVxuXG4gIHJlbW92ZSgpIHtcbiAgICBzdXBlci5yZW1vdmUoKTtcbiAgfVxuXG4gIHVwZGF0ZSgpIHtcbiAgICBzdXBlci51cGRhdGUoKTtcbiAgICB2YXIgdmFsID0gdGhpcy5nZXRDdXJyZW50VmFsKCk7XG4gICAgdGhpcy4kaW5wdXQudmFsKHZhbCk7XG4gIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2VkaXRvci9Qcm9wZXJ0eUV2ZW50LmpzIl0sInNvdXJjZVJvb3QiOiIifQ==')},function(module,exports,__webpack_require__){eval('var H = __webpack_require__(31);\nmodule.exports = function() { var T = new H.Template({code: function (c,p,i) { var t=this;t.b(i=i||"");t.b("<div class=\\"property property--number\\">");t.b("\\n" + i);t.b("  <button class=\\"property__key\\"></button>");t.b("\\n" + i);t.b("  <label for=\\"");t.b(t.v(t.f("id",c,p,0)));t.b("\\" class=\\"property__label\\">");t.b(t.v(t.f("label",c,p,0)));t.b("</label>");t.b("\\n" + i);t.b("  <input type=\\"text\\" id=\\"");t.b(t.v(t.f("id",c,p,0)));t.b("\\" class=\\"property__input\\" value=\\"");t.b(t.v(t.f("val",c,p,0)));t.b("\\" />");t.b("\\n" + i);t.b("</div>");t.b("\\n");return t.fl(); },partials: {}, subs: {  }}, "<div class=\\"property property--number\\">\\n  <button class=\\"property__key\\"></button>\\n  <label for=\\"{{id}}\\" class=\\"property__label\\">{{label}}</label>\\n  <input type=\\"text\\" id=\\"{{id}}\\" class=\\"property__input\\" value=\\"{{val}}\\" />\\n</div>\\n", H); return T.render.apply(T, arguments); };//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi90ZW1wbGF0ZXMvcHJvcGVydHlFdmVudC50cGwuaHRtbD8zNmM4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0EsNkJBQTZCLHlCQUF5Qix3QkFBd0IsWUFBWSxhQUFhLGlEQUFpRCxjQUFjLG1EQUFtRCxjQUFjLHVCQUF1QiwwQkFBMEIscUNBQXFDLDZCQUE2QixnQkFBZ0IsY0FBYyxvQ0FBb0MsMEJBQTBCLDZDQUE2QywyQkFBMkIsYUFBYSxjQUFjLGNBQWMsVUFBVSxjQUFjLEVBQUUsYUFBYSxTQUFTLElBQUksNEdBQTRHLElBQUksK0JBQStCLE9BQU8sd0NBQXdDLElBQUksdUNBQXVDLEtBQUsscUJBQXFCLHFDQUFxQyIsImZpbGUiOiI0MC5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBIID0gcmVxdWlyZShcImhvZ2FuLmpzXCIpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHsgdmFyIFQgPSBuZXcgSC5UZW1wbGF0ZSh7Y29kZTogZnVuY3Rpb24gKGMscCxpKSB7IHZhciB0PXRoaXM7dC5iKGk9aXx8XCJcIik7dC5iKFwiPGRpdiBjbGFzcz1cXFwicHJvcGVydHkgcHJvcGVydHktLW51bWJlclxcXCI+XCIpO3QuYihcIlxcblwiICsgaSk7dC5iKFwiICA8YnV0dG9uIGNsYXNzPVxcXCJwcm9wZXJ0eV9fa2V5XFxcIj48L2J1dHRvbj5cIik7dC5iKFwiXFxuXCIgKyBpKTt0LmIoXCIgIDxsYWJlbCBmb3I9XFxcIlwiKTt0LmIodC52KHQuZihcImlkXCIsYyxwLDApKSk7dC5iKFwiXFxcIiBjbGFzcz1cXFwicHJvcGVydHlfX2xhYmVsXFxcIj5cIik7dC5iKHQudih0LmYoXCJsYWJlbFwiLGMscCwwKSkpO3QuYihcIjwvbGFiZWw+XCIpO3QuYihcIlxcblwiICsgaSk7dC5iKFwiICA8aW5wdXQgdHlwZT1cXFwidGV4dFxcXCIgaWQ9XFxcIlwiKTt0LmIodC52KHQuZihcImlkXCIsYyxwLDApKSk7dC5iKFwiXFxcIiBjbGFzcz1cXFwicHJvcGVydHlfX2lucHV0XFxcIiB2YWx1ZT1cXFwiXCIpO3QuYih0LnYodC5mKFwidmFsXCIsYyxwLDApKSk7dC5iKFwiXFxcIiAvPlwiKTt0LmIoXCJcXG5cIiArIGkpO3QuYihcIjwvZGl2PlwiKTt0LmIoXCJcXG5cIik7cmV0dXJuIHQuZmwoKTsgfSxwYXJ0aWFsczoge30sIHN1YnM6IHsgIH19LCBcIjxkaXYgY2xhc3M9XFxcInByb3BlcnR5IHByb3BlcnR5LS1udW1iZXJcXFwiPlxcbiAgPGJ1dHRvbiBjbGFzcz1cXFwicHJvcGVydHlfX2tleVxcXCI+PC9idXR0b24+XFxuICA8bGFiZWwgZm9yPVxcXCJ7e2lkfX1cXFwiIGNsYXNzPVxcXCJwcm9wZXJ0eV9fbGFiZWxcXFwiPnt7bGFiZWx9fTwvbGFiZWw+XFxuICA8aW5wdXQgdHlwZT1cXFwidGV4dFxcXCIgaWQ9XFxcInt7aWR9fVxcXCIgY2xhc3M9XFxcInByb3BlcnR5X19pbnB1dFxcXCIgdmFsdWU9XFxcInt7dmFsfX1cXFwiIC8+XFxuPC9kaXY+XFxuXCIsIEgpOyByZXR1cm4gVC5yZW5kZXIuYXBwbHkoVCwgYXJndW1lbnRzKTsgfTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3RlbXBsYXRlcy9wcm9wZXJ0eUV2ZW50LnRwbC5odG1sXG4vLyBtb2R1bGUgaWQgPSA0MFxuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9')},function(module,exports,__webpack_require__){eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\n__webpack_require__(25);\n\nvar _PropertyBase2 = __webpack_require__(28);\n\nvar _PropertyBase3 = _interopRequireDefault(_PropertyBase2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar DraggableNumber = __webpack_require__(29);\n\nvar tpl_property = __webpack_require__(42);\n\nvar PropertyVector3 = function (_PropertyBase) {\n    _inherits(PropertyVector3, _PropertyBase);\n\n    function PropertyVector3(instance_property, lineData, editor) {\n        var key_val = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n        _classCallCheck(this, PropertyVector3);\n\n        var _this = _possibleConstructorReturn(this, (PropertyVector3.__proto__ || Object.getPrototypeOf(PropertyVector3)).call(this, instance_property, lineData, editor, key_val));\n\n        _this.onInputChange = _this.onInputChange.bind(_this);\n        _this.$input = _this.$el.find('input');\n        return _this;\n    }\n\n    _createClass(PropertyVector3, [{\n        key: 'render',\n        value: function render() {\n            var _this2 = this;\n\n            _get(PropertyVector3.prototype.__proto__ || Object.getPrototypeOf(PropertyVector3.prototype), 'render', this).call(this);\n            // By default assign the property default value\n            var val = this.getCurrentVal();\n\n            var data = {\n                id: {\n                    x: this.instance_property.name + \"X\",\n                    y: this.instance_property.name + \"Y\",\n                    z: this.instance_property.name + \"Z\"\n                }, // \"circleRadius\" instead of \"circle radius\"\n                label: this.instance_property.label || this.instance_property.name,\n                val: val\n            };\n\n            var view = tpl_property(data);\n            this.$el = $(view);\n\n            var $input = this.$el.find('input');\n\n            var onChangeEnd = function onChangeEnd() {\n                _this2.editor.undoManager.addState();\n            };\n\n            var draggableOptions = {\n                changeCallback: function changeCallback() {\n                    return _this2.onInputChange();\n                },\n                endCallback: function endCallback() {\n                    return onChangeEnd();\n                }\n            };\n\n            // Set min & max if they are defined.\n            if ('min' in this.instance_property) {\n                draggableOptions.min = this.instance_property.min;\n            }\n            if ('max' in this.instance_property) {\n                draggableOptions.max = this.instance_property.max;\n            }\n\n            for (var i = 0; i < $input.length; i++) {\n                var draggable = new DraggableNumber($input[i], draggableOptions);\n                $($input[i]).data('draggable', draggable);\n                $($input[i]).change(this.onInputChange);\n            }\n        }\n    }, {\n        key: 'remove',\n        value: function remove() {\n            _get(PropertyVector3.prototype.__proto__ || Object.getPrototypeOf(PropertyVector3.prototype), 'remove', this).call(this);\n            if (this.$input.data('draggable')) {\n                this.$input.data('draggable').destroy();\n            }\n            delete this.$el;\n            delete this.$input;\n        }\n    }, {\n        key: 'update',\n        value: function update() {\n            _get(PropertyVector3.prototype.__proto__ || Object.getPrototypeOf(PropertyVector3.prototype), 'update', this).call(this);\n            // super.render();\n            var val = this.getCurrentVal();\n\n            var draggable = $(this.$input[0]).data('draggable');\n\n            if (draggable) {\n                draggable.set(val.x);\n            } else {\n                $(this.$input[0]).val(val.x);\n            }\n\n            var draggable = $(this.$input[1]).data('draggable');\n\n            if (draggable) {\n                draggable.set(val.y);\n            } else {\n                $(this.$input[1]).val(val.y);\n            }\n\n            var draggable = $(this.$input[2]).data('draggable');\n\n            if (draggable) {\n                draggable.set(val.z);\n            } else {\n                $(this.$input[2]).val(val.z);\n            }\n        }\n    }]);\n\n    return PropertyVector3;\n}(_PropertyBase3.default);\n\nexports.default = PropertyVector3;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9lZGl0b3IvUHJvcGVydHlWZWN0b3IzLmpzPzQxZDYiXSwibmFtZXMiOlsiRHJhZ2dhYmxlTnVtYmVyIiwicmVxdWlyZSIsInRwbF9wcm9wZXJ0eSIsIlByb3BlcnR5VmVjdG9yMyIsImluc3RhbmNlX3Byb3BlcnR5IiwibGluZURhdGEiLCJlZGl0b3IiLCJrZXlfdmFsIiwib25JbnB1dENoYW5nZSIsImJpbmQiLCIkaW5wdXQiLCIkZWwiLCJmaW5kIiwidmFsIiwiZ2V0Q3VycmVudFZhbCIsImRhdGEiLCJpZCIsIngiLCJuYW1lIiwieSIsInoiLCJsYWJlbCIsInZpZXciLCIkIiwib25DaGFuZ2VFbmQiLCJ1bmRvTWFuYWdlciIsImFkZFN0YXRlIiwiZHJhZ2dhYmxlT3B0aW9ucyIsImNoYW5nZUNhbGxiYWNrIiwiZW5kQ2FsbGJhY2siLCJtaW4iLCJtYXgiLCJpIiwibGVuZ3RoIiwiZHJhZ2dhYmxlIiwiY2hhbmdlIiwiZGVzdHJveSIsInNldCIsIlByb3BlcnR5QmFzZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBOztBQUNBOzs7Ozs7Ozs7Ozs7QUFDQSxJQUFJQSxrQkFBa0IsbUJBQUFDLENBQVEsRUFBUixDQUF0Qjs7QUFFQSxJQUFJQyxlQUFlLG1CQUFBRCxDQUFRLEVBQVIsQ0FBbkI7O0lBRXFCRSxlOzs7QUFDakIsNkJBQVlDLGlCQUFaLEVBQStCQyxRQUEvQixFQUF5Q0MsTUFBekMsRUFBa0U7QUFBQSxZQUFqQkMsT0FBaUIsdUVBQVAsS0FBTzs7QUFBQTs7QUFBQSxzSUFDeERILGlCQUR3RCxFQUNyQ0MsUUFEcUMsRUFDM0JDLE1BRDJCLEVBQ25CQyxPQURtQjs7QUFFOUQsY0FBS0MsYUFBTCxHQUFxQixNQUFLQSxhQUFMLENBQW1CQyxJQUFuQixPQUFyQjtBQUNBLGNBQUtDLE1BQUwsR0FBYyxNQUFLQyxHQUFMLENBQVNDLElBQVQsQ0FBYyxPQUFkLENBQWQ7QUFIOEQ7QUFJakU7Ozs7aUNBRVE7QUFBQTs7QUFD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Q0FBRixFQUFrQkcsR0FBbEIsQ0FBc0JBLElBQUlNLENBQTFCO0FBQ0g7O0FBRUQsZ0JBQUllLFlBQVlYLEVBQUUsS0FBS2IsTUFBTCxDQUFZLENBQVosQ0FBRixFQUFrQkssSUFBbEIsQ0FBdUIsV0FBdkIsQ0FBaEI7O0FBRUEsZ0JBQUltQixTQUFKLEVBQWU7QUFDWEEsMEJBQVVHLEdBQVYsQ0FBY3hCLElBQUlPLENBQWxCO0FBQ0gsYUFGRCxNQUdLO0FBQ0RHLGtCQUFFLEtBQUtiLE1BQUwsQ0FBWSxDQUFaLENBQUYsRUFBa0JHLEdBQWxCLENBQXNCQSxJQUFJTyxDQUExQjtBQUNIO0FBRUo7Ozs7RUE3RndDa0Isc0I7O2tCQUF4Qm5DLGUiLCJmaWxlIjoiNDEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJ2pxdWVyeSc7XHJcbmltcG9ydCBQcm9wZXJ0eUJhc2UgZnJvbSAnLi9Qcm9wZXJ0eUJhc2UnO1xyXG5sZXQgRHJhZ2dhYmxlTnVtYmVyID0gcmVxdWlyZSgnZHJhZ2dhYmxlLW51bWJlci5qcycpO1xyXG5cclxubGV0IHRwbF9wcm9wZXJ0eSA9IHJlcXVpcmUoJy4uL3RlbXBsYXRlcy9Qcm9wZXJ0eVZlY3RvcjMudHBsLmh0bWwnKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFByb3BlcnR5VmVjdG9yMyBleHRlbmRzIFByb3BlcnR5QmFzZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihpbnN0YW5jZV9wcm9wZXJ0eSwgbGluZURhdGEsIGVkaXRvciwga2V5X3ZhbCA9IGZhbHNlKSB7XHJcbiAgICAgICAgc3VwZXIoaW5zdGFuY2VfcHJvcGVydHksIGxpbmVEYXRhLCBlZGl0b3IsIGtleV92YWwpO1xyXG4gICAgICAgIHRoaXMub25JbnB1dENoYW5nZSA9IHRoaXMub25JbnB1dENoYW5nZS5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuJGlucHV0ID0gdGhpcy4kZWwuZmluZCgnaW5wdXQnKTtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgc3VwZXIucmVuZGVyKCk7XHJcbiAgICAgICAgLy8gQnkgZGVmYXVsdCBhc3NpZ24gdGhlIHByb3BlcnR5IGRlZmF1bHQgdmFsdWVcclxuICAgICAgICB2YXIgdmFsID0gdGhpcy5nZXRDdXJyZW50VmFsKCk7XHJcblxyXG4gICAgICAgIHZhciBkYXRhID0ge1xyXG4gICAgICAgICAgICBpZDoge1xyXG4gICAgICAgICAgICAgICAgeDogdGhpcy5pbnN0YW5jZV9wcm9wZXJ0eS5uYW1lICsgXCJYXCIsXHJcbiAgICAgICAgICAgICAgICB5OiB0aGlzLmluc3RhbmNlX3Byb3BlcnR5Lm5hbWUgKyBcIllcIixcclxuICAgICAgICAgICAgICAgIHo6IHRoaXMuaW5zdGFuY2VfcHJvcGVydHkubmFtZSArIFwiWlwiLFxyXG4gICAgICAgICAgICB9LCAvLyBcImNpcmNsZVJhZGl1c1wiIGluc3RlYWQgb2YgXCJjaXJjbGUgcmFkaXVzXCJcclxuICAgICAgICAgICAgbGFiZWw6IHRoaXMuaW5zdGFuY2VfcHJvcGVydHkubGFiZWwgfHwgdGhpcy5pbnN0YW5jZV9wcm9wZXJ0eS5uYW1lLFxyXG4gICAgICAgICAgICB2YWw6IHZhbFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHZhciB2aWV3ID0gdHBsX3Byb3BlcnR5KGRhdGEpO1xyXG4gICAgICAgIHRoaXMuJGVsID0gJCh2aWV3KTtcclxuXHJcbiAgICAgICAgdmFyICRpbnB1dCA9IHRoaXMuJGVsLmZpbmQoJ2lucHV0Jyk7XHJcblxyXG4gICAgICAgIHZhciBvbkNoYW5nZUVuZCA9ICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5lZGl0b3IudW5kb01hbmFnZXIuYWRkU3RhdGUoKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB2YXIgZHJhZ2dhYmxlT3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgY2hhbmdlQ2FsbGJhY2s6ICgpID0+IHRoaXMub25JbnB1dENoYW5nZSgpLFxyXG4gICAgICAgICAgICBlbmRDYWxsYmFjazogKCkgPT4gb25DaGFuZ2VFbmQoKVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIFNldCBtaW4gJiBtYXggaWYgdGhleSBhcmUgZGVmaW5lZC5cclxuICAgICAgICBpZiAoJ21pbicgaW4gdGhpcy5pbnN0YW5jZV9wcm9wZXJ0eSkge1xyXG4gICAgICAgICAgICBkcmFnZ2FibGVPcHRpb25zLm1pbiA9IHRoaXMuaW5zdGFuY2VfcHJvcGVydHkubWluO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoJ21heCcgaW4gdGhpcy5pbnN0YW5jZV9wcm9wZXJ0eSkge1xyXG4gICAgICAgICAgICBkcmFnZ2FibGVPcHRpb25zLm1heCA9IHRoaXMuaW5zdGFuY2VfcHJvcGVydHkubWF4O1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgJGlucHV0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBkcmFnZ2FibGUgPSBuZXcgRHJhZ2dhYmxlTnVtYmVyKCRpbnB1dFtpXSwgZHJhZ2dhYmxlT3B0aW9ucyk7XHJcbiAgICAgICAgICAgICQoJGlucHV0W2ldKS5kYXRhKCdkcmFnZ2FibGUnLCBkcmFnZ2FibGUpO1xyXG4gICAgICAgICAgICAkKCRpbnB1dFtpXSkuY2hhbmdlKHRoaXMub25JbnB1dENoYW5nZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlbW92ZSgpIHtcclxuICAgICAgICBzdXBlci5yZW1vdmUoKTtcclxuICAgICAgICBpZiAodGhpcy4kaW5wdXQuZGF0YSgnZHJhZ2dhYmxlJykpIHtcclxuICAgICAgICAgICAgdGhpcy4kaW5wdXQuZGF0YSgnZHJhZ2dhYmxlJykuZGVzdHJveSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBkZWxldGUgdGhpcy4kZWw7XHJcbiAgICAgICAgZGVsZXRlIHRoaXMuJGlucHV0O1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSgpIHtcclxuICAgICAgICBzdXBlci51cGRhdGUoKTtcclxuICAgICAgICAvLyBzdXBlci5yZW5kZXIoKTtcclxuICAgICAgICB2YXIgdmFsID0gdGhpcy5nZXRDdXJyZW50VmFsKCk7XHJcblxyXG4gICAgICAgIHZhciBkcmFnZ2FibGUgPSAkKHRoaXMuJGlucHV0WzBdKS5kYXRhKCdkcmFnZ2FibGUnKTtcclxuXHJcbiAgICAgICAgaWYgKGRyYWdnYWJsZSkge1xyXG4gICAgICAgICAgICBkcmFnZ2FibGUuc2V0KHZhbC54KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICQodGhpcy4kaW5wdXRbMF0pLnZhbCh2YWwueCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgZHJhZ2dhYmxlID0gJCh0aGlzLiRpbnB1dFsxXSkuZGF0YSgnZHJhZ2dhYmxlJyk7XHJcblxyXG4gICAgICAgIGlmIChkcmFnZ2FibGUpIHtcclxuICAgICAgICAgICAgZHJhZ2dhYmxlLnNldCh2YWwueSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAkKHRoaXMuJGlucHV0WzFdKS52YWwodmFsLnkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGRyYWdnYWJsZSA9ICQodGhpcy4kaW5wdXRbMl0pLmRhdGEoJ2RyYWdnYWJsZScpO1xyXG5cclxuICAgICAgICBpZiAoZHJhZ2dhYmxlKSB7XHJcbiAgICAgICAgICAgIGRyYWdnYWJsZS5zZXQodmFsLnopO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgJCh0aGlzLiRpbnB1dFsyXSkudmFsKHZhbC56KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2VkaXRvci9Qcm9wZXJ0eVZlY3RvcjMuanMiXSwic291cmNlUm9vdCI6IiJ9");
},function(module,exports,__webpack_require__){eval('var H = __webpack_require__(31);\nmodule.exports = function() { var T = new H.Template({code: function (c,p,i) { var t=this;t.b(i=i||"");t.b("<div class=\\"property property--number\\">\\r");t.b("\\n" + i);t.b("    <span>");t.b(t.v(t.f("label",c,p,0)));t.b("</span>\\r");t.b("\\n" + i);t.b("    <div>\\r");t.b("\\n" + i);t.b("        <label for=\\"");t.b(t.v(t.d("id.x",c,p,0)));t.b("\\" class=\\"property__label\\">X</label>\\r");t.b("\\n" + i);t.b("        <input id=\\"");t.b(t.v(t.d("id.x",c,p,0)));t.b("\\" class=\\"property__input\\" value=\\"");t.b(t.v(t.d("val.x",c,p,0)));t.b("\\" type=\\"number\\" step=\\"0.01\\" />\\r");t.b("\\n" + i);t.b("        <label for=\\"");t.b(t.v(t.d("id.y",c,p,0)));t.b("\\" class=\\"property__label\\">Y</label>\\r");t.b("\\n" + i);t.b("        <input id=\\"");t.b(t.v(t.d("id.y",c,p,0)));t.b("\\" class=\\"property__input\\" value=\\"");t.b(t.v(t.d("val.y",c,p,0)));t.b("\\" type=\\"number\\" step=\\"0.01\\" />\\r");t.b("\\n" + i);t.b("        <label for=\\"");t.b(t.v(t.d("id.z",c,p,0)));t.b("\\" class=\\"property__label\\">Z</label>\\r");t.b("\\n" + i);t.b("        <input id=\\"");t.b(t.v(t.d("id.z",c,p,0)));t.b("\\" class=\\"property__input\\" value=\\"");t.b(t.v(t.d("val.z",c,p,0)));t.b("\\" type=\\"number\\" step=\\"0.01\\" />\\r");t.b("\\n" + i);t.b("    </div>\\r");t.b("\\n" + i);t.b("</div>\\r");t.b("\\n");return t.fl(); },partials: {}, subs: {  }}, "<div class=\\"property property--number\\">\\r\\n    <span>{{label}}</span>\\r\\n    <div>\\r\\n        <label for=\\"{{id.x}}\\" class=\\"property__label\\">X</label>\\r\\n        <input id=\\"{{id.x}}\\" class=\\"property__input\\" value=\\"{{val.x}}\\" type=\\"number\\" step=\\"0.01\\" />\\r\\n        <label for=\\"{{id.y}}\\" class=\\"property__label\\">Y</label>\\r\\n        <input id=\\"{{id.y}}\\" class=\\"property__input\\" value=\\"{{val.y}}\\" type=\\"number\\" step=\\"0.01\\" />\\r\\n        <label for=\\"{{id.z}}\\" class=\\"property__label\\">Z</label>\\r\\n        <input id=\\"{{id.z}}\\" class=\\"property__input\\" value=\\"{{val.z}}\\" type=\\"number\\" step=\\"0.01\\" />\\r\\n    </div>\\r\\n</div>\\r\\n", H); return T.render.apply(T, arguments); };//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi90ZW1wbGF0ZXMvUHJvcGVydHlWZWN0b3IzLnRwbC5odG1sPzU5M2MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQSw2QkFBNkIseUJBQXlCLHdCQUF3QixZQUFZLGFBQWEsbURBQW1ELGNBQWMsa0JBQWtCLDZCQUE2QixpQkFBaUIsY0FBYyxtQkFBbUIsY0FBYyw2QkFBNkIsNEJBQTRCLGdEQUFnRCxjQUFjLDRCQUE0Qiw0QkFBNEIsNkNBQTZDLDZCQUE2Qiw2Q0FBNkMsY0FBYyw2QkFBNkIsNEJBQTRCLGdEQUFnRCxjQUFjLDRCQUE0Qiw0QkFBNEIsNkNBQTZDLDZCQUE2Qiw2Q0FBNkMsY0FBYyw2QkFBNkIsNEJBQTRCLGdEQUFnRCxjQUFjLDRCQUE0Qiw0QkFBNEIsNkNBQTZDLDZCQUE2Qiw2Q0FBNkMsY0FBYyxvQkFBb0IsY0FBYyxnQkFBZ0IsVUFBVSxjQUFjLEVBQUUsYUFBYSxTQUFTLElBQUksNERBQTRELE9BQU8sK0NBQStDLE1BQU0sZ0VBQWdFLE1BQU0sdUNBQXVDLE9BQU8sOERBQThELE1BQU0sZ0VBQWdFLE1BQU0sdUNBQXVDLE9BQU8sOERBQThELE1BQU0sZ0VBQWdFLE1BQU0sdUNBQXVDLE9BQU8scUVBQXFFLHFDQUFxQyIsImZpbGUiOiI0Mi5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBIID0gcmVxdWlyZShcImhvZ2FuLmpzXCIpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHsgdmFyIFQgPSBuZXcgSC5UZW1wbGF0ZSh7Y29kZTogZnVuY3Rpb24gKGMscCxpKSB7IHZhciB0PXRoaXM7dC5iKGk9aXx8XCJcIik7dC5iKFwiPGRpdiBjbGFzcz1cXFwicHJvcGVydHkgcHJvcGVydHktLW51bWJlclxcXCI+XFxyXCIpO3QuYihcIlxcblwiICsgaSk7dC5iKFwiICAgIDxzcGFuPlwiKTt0LmIodC52KHQuZihcImxhYmVsXCIsYyxwLDApKSk7dC5iKFwiPC9zcGFuPlxcclwiKTt0LmIoXCJcXG5cIiArIGkpO3QuYihcIiAgICA8ZGl2PlxcclwiKTt0LmIoXCJcXG5cIiArIGkpO3QuYihcIiAgICAgICAgPGxhYmVsIGZvcj1cXFwiXCIpO3QuYih0LnYodC5kKFwiaWQueFwiLGMscCwwKSkpO3QuYihcIlxcXCIgY2xhc3M9XFxcInByb3BlcnR5X19sYWJlbFxcXCI+WDwvbGFiZWw+XFxyXCIpO3QuYihcIlxcblwiICsgaSk7dC5iKFwiICAgICAgICA8aW5wdXQgaWQ9XFxcIlwiKTt0LmIodC52KHQuZChcImlkLnhcIixjLHAsMCkpKTt0LmIoXCJcXFwiIGNsYXNzPVxcXCJwcm9wZXJ0eV9faW5wdXRcXFwiIHZhbHVlPVxcXCJcIik7dC5iKHQudih0LmQoXCJ2YWwueFwiLGMscCwwKSkpO3QuYihcIlxcXCIgdHlwZT1cXFwibnVtYmVyXFxcIiBzdGVwPVxcXCIwLjAxXFxcIiAvPlxcclwiKTt0LmIoXCJcXG5cIiArIGkpO3QuYihcIiAgICAgICAgPGxhYmVsIGZvcj1cXFwiXCIpO3QuYih0LnYodC5kKFwiaWQueVwiLGMscCwwKSkpO3QuYihcIlxcXCIgY2xhc3M9XFxcInByb3BlcnR5X19sYWJlbFxcXCI+WTwvbGFiZWw+XFxyXCIpO3QuYihcIlxcblwiICsgaSk7dC5iKFwiICAgICAgICA8aW5wdXQgaWQ9XFxcIlwiKTt0LmIodC52KHQuZChcImlkLnlcIixjLHAsMCkpKTt0LmIoXCJcXFwiIGNsYXNzPVxcXCJwcm9wZXJ0eV9faW5wdXRcXFwiIHZhbHVlPVxcXCJcIik7dC5iKHQudih0LmQoXCJ2YWwueVwiLGMscCwwKSkpO3QuYihcIlxcXCIgdHlwZT1cXFwibnVtYmVyXFxcIiBzdGVwPVxcXCIwLjAxXFxcIiAvPlxcclwiKTt0LmIoXCJcXG5cIiArIGkpO3QuYihcIiAgICAgICAgPGxhYmVsIGZvcj1cXFwiXCIpO3QuYih0LnYodC5kKFwiaWQuelwiLGMscCwwKSkpO3QuYihcIlxcXCIgY2xhc3M9XFxcInByb3BlcnR5X19sYWJlbFxcXCI+WjwvbGFiZWw+XFxyXCIpO3QuYihcIlxcblwiICsgaSk7dC5iKFwiICAgICAgICA8aW5wdXQgaWQ9XFxcIlwiKTt0LmIodC52KHQuZChcImlkLnpcIixjLHAsMCkpKTt0LmIoXCJcXFwiIGNsYXNzPVxcXCJwcm9wZXJ0eV9faW5wdXRcXFwiIHZhbHVlPVxcXCJcIik7dC5iKHQudih0LmQoXCJ2YWwuelwiLGMscCwwKSkpO3QuYihcIlxcXCIgdHlwZT1cXFwibnVtYmVyXFxcIiBzdGVwPVxcXCIwLjAxXFxcIiAvPlxcclwiKTt0LmIoXCJcXG5cIiArIGkpO3QuYihcIiAgICA8L2Rpdj5cXHJcIik7dC5iKFwiXFxuXCIgKyBpKTt0LmIoXCI8L2Rpdj5cXHJcIik7dC5iKFwiXFxuXCIpO3JldHVybiB0LmZsKCk7IH0scGFydGlhbHM6IHt9LCBzdWJzOiB7ICB9fSwgXCI8ZGl2IGNsYXNzPVxcXCJwcm9wZXJ0eSBwcm9wZXJ0eS0tbnVtYmVyXFxcIj5cXHJcXG4gICAgPHNwYW4+e3tsYWJlbH19PC9zcGFuPlxcclxcbiAgICA8ZGl2PlxcclxcbiAgICAgICAgPGxhYmVsIGZvcj1cXFwie3tpZC54fX1cXFwiIGNsYXNzPVxcXCJwcm9wZXJ0eV9fbGFiZWxcXFwiPlg8L2xhYmVsPlxcclxcbiAgICAgICAgPGlucHV0IGlkPVxcXCJ7e2lkLnh9fVxcXCIgY2xhc3M9XFxcInByb3BlcnR5X19pbnB1dFxcXCIgdmFsdWU9XFxcInt7dmFsLnh9fVxcXCIgdHlwZT1cXFwibnVtYmVyXFxcIiBzdGVwPVxcXCIwLjAxXFxcIiAvPlxcclxcbiAgICAgICAgPGxhYmVsIGZvcj1cXFwie3tpZC55fX1cXFwiIGNsYXNzPVxcXCJwcm9wZXJ0eV9fbGFiZWxcXFwiPlk8L2xhYmVsPlxcclxcbiAgICAgICAgPGlucHV0IGlkPVxcXCJ7e2lkLnl9fVxcXCIgY2xhc3M9XFxcInByb3BlcnR5X19pbnB1dFxcXCIgdmFsdWU9XFxcInt7dmFsLnl9fVxcXCIgdHlwZT1cXFwibnVtYmVyXFxcIiBzdGVwPVxcXCIwLjAxXFxcIiAvPlxcclxcbiAgICAgICAgPGxhYmVsIGZvcj1cXFwie3tpZC56fX1cXFwiIGNsYXNzPVxcXCJwcm9wZXJ0eV9fbGFiZWxcXFwiPlo8L2xhYmVsPlxcclxcbiAgICAgICAgPGlucHV0IGlkPVxcXCJ7e2lkLnp9fVxcXCIgY2xhc3M9XFxcInByb3BlcnR5X19pbnB1dFxcXCIgdmFsdWU9XFxcInt7dmFsLnp9fVxcXCIgdHlwZT1cXFwibnVtYmVyXFxcIiBzdGVwPVxcXCIwLjAxXFxcIiAvPlxcclxcbiAgICA8L2Rpdj5cXHJcXG48L2Rpdj5cXHJcXG5cIiwgSCk7IHJldHVybiBULnJlbmRlci5hcHBseShULCBhcmd1bWVudHMpOyB9O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vdGVtcGxhdGVzL1Byb3BlcnR5VmVjdG9yMy50cGwuaHRtbFxuLy8gbW9kdWxlIGlkID0gNDJcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==')},function(module,exports,__webpack_require__){eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\n__webpack_require__(25);\n\nvar _PropertyBase2 = __webpack_require__(28);\n\nvar _PropertyBase3 = _interopRequireDefault(_PropertyBase2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar DraggableNumber = __webpack_require__(29);\n\nvar tpl_property = __webpack_require__(44);\n\nvar PropertyVector4 = function (_PropertyBase) {\n    _inherits(PropertyVector4, _PropertyBase);\n\n    function PropertyVector4(instance_property, lineData, editor) {\n        var key_val = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n        _classCallCheck(this, PropertyVector4);\n\n        var _this = _possibleConstructorReturn(this, (PropertyVector4.__proto__ || Object.getPrototypeOf(PropertyVector4)).call(this, instance_property, lineData, editor, key_val));\n\n        _this.onInputChange = _this.onInputChange.bind(_this);\n        _this.$input = _this.$el.find('input');\n        return _this;\n    }\n\n    _createClass(PropertyVector4, [{\n        key: 'render',\n        value: function render() {\n            var _this2 = this;\n\n            _get(PropertyVector4.prototype.__proto__ || Object.getPrototypeOf(PropertyVector4.prototype), 'render', this).call(this);\n            // By default assign the property default value\n            var val = this.getCurrentVal();\n\n            var data = {\n                id: _defineProperty({\n                    x: this.instance_property.name + \"X\",\n                    y: this.instance_property.name + \"Y\",\n                    z: this.instance_property.name + \"Z\"\n                }, 'z', this.instance_property.name + \"W\"), // \"circleRadius\" instead of \"circle radius\"\n                label: this.instance_property.label || this.instance_property.name,\n                val: val\n            };\n\n            var view = tpl_property(data);\n            this.$el = $(view);\n\n            var $input = this.$el.find('input');\n\n            var onChangeEnd = function onChangeEnd() {\n                _this2.editor.undoManager.addState();\n            };\n\n            var draggableOptions = {\n                changeCallback: function changeCallback() {\n                    return _this2.onInputChange();\n                },\n                endCallback: function endCallback() {\n                    return onChangeEnd();\n                }\n            };\n\n            // Set min & max if they are defined.\n            if ('min' in this.instance_property) {\n                draggableOptions.min = this.instance_property.min;\n            }\n            if ('max' in this.instance_property) {\n                draggableOptions.max = this.instance_property.max;\n            }\n\n            for (var i = 0; i < $input.length; i++) {\n                var draggable = new DraggableNumber($input[i], draggableOptions);\n                $($input[i]).data('draggable', draggable);\n                $($input[i]).change(this.onInputChange);\n            }\n        }\n    }, {\n        key: 'remove',\n        value: function remove() {\n            _get(PropertyVector4.prototype.__proto__ || Object.getPrototypeOf(PropertyVector4.prototype), 'remove', this).call(this);\n            if (this.$input.data('draggable')) {\n                this.$input.data('draggable').destroy();\n            }\n            delete this.$el;\n            delete this.$input;\n        }\n    }, {\n        key: 'update',\n        value: function update() {\n            _get(PropertyVector4.prototype.__proto__ || Object.getPrototypeOf(PropertyVector4.prototype), 'update', this).call(this);\n            // super.render();\n            var val = this.getCurrentVal();\n\n            var draggable = $(this.$input[0]).data('draggable');\n\n            if (draggable) {\n                draggable.set(val.x);\n            } else {\n                $(this.$input[0]).val(val.x);\n            }\n\n            var draggable = $(this.$input[1]).data('draggable');\n\n            if (draggable) {\n                draggable.set(val.y);\n            } else {\n                $(this.$input[1]).val(val.y);\n            }\n\n            var draggable = $(this.$input[2]).data('draggable');\n\n            if (draggable) {\n                draggable.set(val.z);\n            } else {\n                $(this.$input[2]).val(val.z);\n            }\n\n            var draggable = $(this.$input[3]).data('draggable');\n\n            if (draggable) {\n                draggable.set(val.w);\n            } else {\n                $(this.$input[3]).val(val.w);\n            }\n        }\n    }]);\n\n    return PropertyVector4;\n}(_PropertyBase3.default);\n\nexports.default = PropertyVector4;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9lZGl0b3IvUHJvcGVydHlWZWN0b3I0LmpzPzk3MGUiXSwibmFtZXMiOlsiRHJhZ2dhYmxlTnVtYmVyIiwicmVxdWlyZSIsInRwbF9wcm9wZXJ0eSIsIlByb3BlcnR5VmVjdG9yNCIsImluc3RhbmNlX3Byb3BlcnR5IiwibGluZURhdGEiLCJlZGl0b3IiLCJrZXlfdmFsIiwib25JbnB1dENoYW5nZSIsImJpbmQiLCIkaW5wdXQiLCIkZWwiLCJmaW5kIiwidmFsIiwiZ2V0Q3VycmVudFZhbCIsImRhdGEiLCJpZCIsIngiLCJuYW1lIiwieSIsInoiLCJsYWJlbCIsInZpZXciLCIkIiwib25DaGFuZ2VFbmQiLCJ1bmRvTWFuYWdlciIsImFkZFN0YXRlIiwiZHJhZ2dhYmxlT3B0aW9ucyIsImNoYW5nZUNhbGxiYWNrIiwiZW5kQ2FsbGJhY2siLCJtaW4iLCJtYXgiLCJpIiwibGVuZ3RoIiwiZHJhZ2dhYmxlIiwiY2hhbmdlIiwiZGVzdHJveSIsInNldCIsInciLCJQcm9wZXJ0eUJhc2UiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTs7QUFDQTs7Ozs7Ozs7Ozs7Ozs7QUFDQSxJQUFJQSxrQkFBa0IsbUJBQUFDLENBQVEsRUFBUixDQUF0Qjs7QUFFQSxJQUFJQyxlQUFlLG1CQUFBRCxDQUFRLEVBQVIsQ0FBbkI7O0lBRXFCRSxlOzs7QUFDakIsNkJBQVlDLGlCQUFaLEVBQStCQyxRQUEvQixFQUF5Q0MsTUFBekMsRUFBa0U7QUFBQSxZQUFqQkMsT0FBaUIsdUVBQVAsS0FBTzs7QUFBQTs7QUFBQSxzSUFDeERILGlCQUR3RCxFQUNyQ0MsUUFEcUMsRUFDM0JDLE1BRDJCLEVBQ25CQyxPQURtQjs7QUFFOUQsY0FBS0MsYUFBTCxHQUFxQixNQUFLQSxhQUFMLENBQW1CQyxJQUFuQixPQUFyQjtBQUNBLGNBQUtDLE1BQUwsR0FBYyxNQUFLQyxHQUFMLENBQVNDLElBQVQsQ0FBYyxPQUFkLENBQWQ7QUFIOEQ7QUFJakU7Ozs7aUNBRVE7QUFB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QUZELE1BR0s7QUFDREksa0JBQUUsS0FBS2IsTUFBTCxDQUFZLENBQVosQ0FBRixFQUFrQkcsR0FBbEIsQ0FBc0JBLElBQUlNLENBQTFCO0FBQ0g7O0FBRUQsZ0JBQUllLFlBQVlYLEVBQUUsS0FBS2IsTUFBTCxDQUFZLENBQVosQ0FBRixFQUFrQkssSUFBbEIsQ0FBdUIsV0FBdkIsQ0FBaEI7O0FBRUEsZ0JBQUltQixTQUFKLEVBQWU7QUFDWEEsMEJBQVVHLEdBQVYsQ0FBY3hCLElBQUlPLENBQWxCO0FBQ0gsYUFGRCxNQUdLO0FBQ0RHLGtCQUFFLEtBQUtiLE1BQUwsQ0FBWSxDQUFaLENBQUYsRUFBa0JHLEdBQWxCLENBQXNCQSxJQUFJTyxDQUExQjtBQUNIOztBQUVELGdCQUFJYyxZQUFZWCxFQUFFLEtBQUtiLE1BQUwsQ0FBWSxDQUFaLENBQUYsRUFBa0JLLElBQWxCLENBQXVCLFdBQXZCLENBQWhCOztBQUVBLGdCQUFJbUIsU0FBSixFQUFlO0FBQ1hBLDBCQUFVRyxHQUFWLENBQWN4QixJQUFJeUIsQ0FBbEI7QUFDSCxhQUZELE1BR0s7QUFDRGYsa0JBQUUsS0FBS2IsTUFBTCxDQUFZLENBQVosQ0FBRixFQUFrQkcsR0FBbEIsQ0FBc0JBLElBQUl5QixDQUExQjtBQUNIO0FBQ0o7Ozs7RUFyR3dDQyxzQjs7a0JBQXhCcEMsZSIsImZpbGUiOiI0My5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAnanF1ZXJ5JztcclxuaW1wb3J0IFByb3BlcnR5QmFzZSBmcm9tICcuL1Byb3BlcnR5QmFzZSc7XHJcbmxldCBEcmFnZ2FibGVOdW1iZXIgPSByZXF1aXJlKCdkcmFnZ2FibGUtbnVtYmVyLmpzJyk7XHJcblxyXG5sZXQgdHBsX3Byb3BlcnR5ID0gcmVxdWlyZSgnLi4vdGVtcGxhdGVzL1Byb3BlcnR5VmVjdG9yNC50cGwuaHRtbCcpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvcGVydHlWZWN0b3I0IGV4dGVuZHMgUHJvcGVydHlCYXNlIHtcclxuICAgIGNvbnN0cnVjdG9yKGluc3RhbmNlX3Byb3BlcnR5LCBsaW5lRGF0YSwgZWRpdG9yLCBrZXlfdmFsID0gZmFsc2UpIHtcclxuICAgICAgICBzdXBlcihpbnN0YW5jZV9wcm9wZXJ0eSwgbGluZURhdGEsIGVkaXRvciwga2V5X3ZhbCk7XHJcbiAgICAgICAgdGhpcy5vbklucHV0Q2hhbmdlID0gdGhpcy5vbklucHV0Q2hhbmdlLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy4kaW5wdXQgPSB0aGlzLiRlbC5maW5kKCdpbnB1dCcpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICBzdXBlci5yZW5kZXIoKTtcclxuICAgICAgICAvLyBCeSBkZWZhdWx0IGFzc2lnbiB0aGUgcHJvcGVydHkgZGVmYXVsdCB2YWx1ZVxyXG4gICAgICAgIHZhciB2YWwgPSB0aGlzLmdldEN1cnJlbnRWYWwoKTtcclxuXHJcbiAgICAgICAgdmFyIGRhdGEgPSB7XHJcbiAgICAgICAgICAgIGlkOiB7XHJcbiAgICAgICAgICAgICAgICB4OiB0aGlzLmluc3RhbmNlX3Byb3BlcnR5Lm5hbWUgKyBcIlhcIixcclxuICAgICAgICAgICAgICAgIHk6IHRoaXMuaW5zdGFuY2VfcHJvcGVydHkubmFtZSArIFwiWVwiLFxyXG4gICAgICAgICAgICAgICAgejogdGhpcy5pbnN0YW5jZV9wcm9wZXJ0eS5uYW1lICsgXCJaXCIsXHJcbiAgICAgICAgICAgICAgICB6OiB0aGlzLmluc3RhbmNlX3Byb3BlcnR5Lm5hbWUgKyBcIldcIlxyXG4gICAgICAgICAgICB9LCAvLyBcImNpcmNsZVJhZGl1c1wiIGluc3RlYWQgb2YgXCJjaXJjbGUgcmFkaXVzXCJcclxuICAgICAgICAgICAgbGFiZWw6IHRoaXMuaW5zdGFuY2VfcHJvcGVydHkubGFiZWwgfHwgdGhpcy5pbnN0YW5jZV9wcm9wZXJ0eS5uYW1lLFxyXG4gICAgICAgICAgICB2YWw6IHZhbFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHZhciB2aWV3ID0gdHBsX3Byb3BlcnR5KGRhdGEpO1xyXG4gICAgICAgIHRoaXMuJGVsID0gJCh2aWV3KTtcclxuXHJcbiAgICAgICAgdmFyICRpbnB1dCA9IHRoaXMuJGVsLmZpbmQoJ2lucHV0Jyk7XHJcblxyXG4gICAgICAgIHZhciBvbkNoYW5nZUVuZCA9ICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5lZGl0b3IudW5kb01hbmFnZXIuYWRkU3RhdGUoKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB2YXIgZHJhZ2dhYmxlT3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgY2hhbmdlQ2FsbGJhY2s6ICgpID0+IHRoaXMub25JbnB1dENoYW5nZSgpLFxyXG4gICAgICAgICAgICBlbmRDYWxsYmFjazogKCkgPT4gb25DaGFuZ2VFbmQoKVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIFNldCBtaW4gJiBtYXggaWYgdGhleSBhcmUgZGVmaW5lZC5cclxuICAgICAgICBpZiAoJ21pbicgaW4gdGhpcy5pbnN0YW5jZV9wcm9wZXJ0eSkge1xyXG4gICAgICAgICAgICBkcmFnZ2FibGVPcHRpb25zLm1pbiA9IHRoaXMuaW5zdGFuY2VfcHJvcGVydHkubWluO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoJ21heCcgaW4gdGhpcy5pbnN0YW5jZV9wcm9wZXJ0eSkge1xyXG4gICAgICAgICAgICBkcmFnZ2FibGVPcHRpb25zLm1heCA9IHRoaXMuaW5zdGFuY2VfcHJvcGVydHkubWF4O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAkaW5wdXQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIGRyYWdnYWJsZSA9IG5ldyBEcmFnZ2FibGVOdW1iZXIoJGlucHV0W2ldLCBkcmFnZ2FibGVPcHRpb25zKTtcclxuICAgICAgICAgICAgJCgkaW5wdXRbaV0pLmRhdGEoJ2RyYWdnYWJsZScsIGRyYWdnYWJsZSk7XHJcbiAgICAgICAgICAgICQoJGlucHV0W2ldKS5jaGFuZ2UodGhpcy5vbklucHV0Q2hhbmdlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlKCkge1xyXG4gICAgICAgIHN1cGVyLnJlbW92ZSgpO1xyXG4gICAgICAgIGlmICh0aGlzLiRpbnB1dC5kYXRhKCdkcmFnZ2FibGUnKSkge1xyXG4gICAgICAgICAgICB0aGlzLiRpbnB1dC5kYXRhKCdkcmFnZ2FibGUnKS5kZXN0cm95KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRlbGV0ZSB0aGlzLiRlbDtcclxuICAgICAgICBkZWxldGUgdGhpcy4kaW5wdXQ7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKCkge1xyXG4gICAgICAgIHN1cGVyLnVwZGF0ZSgpO1xyXG4gICAgICAgIC8vIHN1cGVyLnJlbmRlcigpO1xyXG4gICAgICAgIHZhciB2YWwgPSB0aGlzLmdldEN1cnJlbnRWYWwoKTtcclxuXHJcbiAgICAgICAgdmFyIGRyYWdnYWJsZSA9ICQodGhpcy4kaW5wdXRbMF0pLmRhdGEoJ2RyYWdnYWJsZScpO1xyXG5cclxuICAgICAgICBpZiAoZHJhZ2dhYmxlKSB7XHJcbiAgICAgICAgICAgIGRyYWdnYWJsZS5zZXQodmFsLngpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgJCh0aGlzLiRpbnB1dFswXSkudmFsKHZhbC54KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBkcmFnZ2FibGUgPSAkKHRoaXMuJGlucHV0WzFdKS5kYXRhKCdkcmFnZ2FibGUnKTtcclxuXHJcbiAgICAgICAgaWYgKGRyYWdnYWJsZSkge1xyXG4gICAgICAgICAgICBkcmFnZ2FibGUuc2V0KHZhbC55KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICQodGhpcy4kaW5wdXRbMV0pLnZhbCh2YWwueSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgZHJhZ2dhYmxlID0gJCh0aGlzLiRpbnB1dFsyXSkuZGF0YSgnZHJhZ2dhYmxlJyk7XHJcblxyXG4gICAgICAgIGlmIChkcmFnZ2FibGUpIHtcclxuICAgICAgICAgICAgZHJhZ2dhYmxlLnNldCh2YWwueik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAkKHRoaXMuJGlucHV0WzJdKS52YWwodmFsLnopO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGRyYWdnYWJsZSA9ICQodGhpcy4kaW5wdXRbM10pLmRhdGEoJ2RyYWdnYWJsZScpO1xyXG5cclxuICAgICAgICBpZiAoZHJhZ2dhYmxlKSB7XHJcbiAgICAgICAgICAgIGRyYWdnYWJsZS5zZXQodmFsLncpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgJCh0aGlzLiRpbnB1dFszXSkudmFsKHZhbC53KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vZWRpdG9yL1Byb3BlcnR5VmVjdG9yNC5qcyJdLCJzb3VyY2VSb290IjoiIn0=")},function(module,exports,__webpack_require__){eval('var H = __webpack_require__(31);\nmodule.exports = function() { var T = new H.Template({code: function (c,p,i) { var t=this;t.b(i=i||"");t.b("<div class=\\"property property--number\\">\\r");t.b("\\n" + i);t.b("    <span>");t.b(t.v(t.f("label",c,p,0)));t.b("</span>\\r");t.b("\\n" + i);t.b("    <div>\\r");t.b("\\n" + i);t.b("        <label for=\\"");t.b(t.v(t.d("id.x",c,p,0)));t.b("\\" class=\\"property__label\\">X</label>\\r");t.b("\\n" + i);t.b("        <input id=\\"");t.b(t.v(t.d("id.x",c,p,0)));t.b("\\" class=\\"property__input\\" value=\\"");t.b(t.v(t.d("val.x",c,p,0)));t.b("\\" type=\\"number\\" step=\\"0.01\\" />\\r");t.b("\\n" + i);t.b("        <label for=\\"");t.b(t.v(t.d("id.y",c,p,0)));t.b("\\" class=\\"property__label\\">Y</label>\\r");t.b("\\n" + i);t.b("        <input id=\\"");t.b(t.v(t.d("id.y",c,p,0)));t.b("\\" class=\\"property__input\\" value=\\"");t.b(t.v(t.d("val.y",c,p,0)));t.b("\\" type=\\"number\\" step=\\"0.01\\" />\\r");t.b("\\n" + i);t.b("        <label for=\\"");t.b(t.v(t.d("id.z",c,p,0)));t.b("\\" class=\\"property__label\\">Z</label>\\r");t.b("\\n" + i);t.b("        <input id=\\"");t.b(t.v(t.d("id.z",c,p,0)));t.b("\\" class=\\"property__input\\" value=\\"");t.b(t.v(t.d("val.z",c,p,0)));t.b("\\" type=\\"number\\" step=\\"0.01\\" />\\r");t.b("\\n" + i);t.b("        <label for=\\"");t.b(t.v(t.d("id.w",c,p,0)));t.b("\\" class=\\"property__label\\">W</label>\\r");t.b("\\n" + i);t.b("        <input id=\\"");t.b(t.v(t.d("id.w",c,p,0)));t.b("\\" class=\\"property__input\\" value=\\"");t.b(t.v(t.d("val.w",c,p,0)));t.b("\\" type=\\"number\\" step=\\"0.01\\" />\\r");t.b("\\n" + i);t.b("    </div>\\r");t.b("\\n" + i);t.b("</div>\\r");t.b("\\n");return t.fl(); },partials: {}, subs: {  }}, "<div class=\\"property property--number\\">\\r\\n    <span>{{label}}</span>\\r\\n    <div>\\r\\n        <label for=\\"{{id.x}}\\" class=\\"property__label\\">X</label>\\r\\n        <input id=\\"{{id.x}}\\" class=\\"property__input\\" value=\\"{{val.x}}\\" type=\\"number\\" step=\\"0.01\\" />\\r\\n        <label for=\\"{{id.y}}\\" class=\\"property__label\\">Y</label>\\r\\n        <input id=\\"{{id.y}}\\" class=\\"property__input\\" value=\\"{{val.y}}\\" type=\\"number\\" step=\\"0.01\\" />\\r\\n        <label for=\\"{{id.z}}\\" class=\\"property__label\\">Z</label>\\r\\n        <input id=\\"{{id.z}}\\" class=\\"property__input\\" value=\\"{{val.z}}\\" type=\\"number\\" step=\\"0.01\\" />\\r\\n        <label for=\\"{{id.w}}\\" class=\\"property__label\\">W</label>\\r\\n        <input id=\\"{{id.w}}\\" class=\\"property__input\\" value=\\"{{val.w}}\\" type=\\"number\\" step=\\"0.01\\" />\\r\\n    </div>\\r\\n</div>\\r\\n", H); return T.render.apply(T, arguments); };//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi90ZW1wbGF0ZXMvUHJvcGVydHlWZWN0b3I0LnRwbC5odG1sPzU5MjUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQSw2QkFBNkIseUJBQXlCLHdCQUF3QixZQUFZLGFBQWEsbURBQW1ELGNBQWMsa0JBQWtCLDZCQUE2QixpQkFBaUIsY0FBYyxtQkFBbUIsY0FBYyw2QkFBNkIsNEJBQTRCLGdEQUFnRCxjQUFjLDRCQUE0Qiw0QkFBNEIsNkNBQTZDLDZCQUE2Qiw2Q0FBNkMsY0FBYyw2QkFBNkIsNEJBQTRCLGdEQUFnRCxjQUFjLDRCQUE0Qiw0QkFBNEIsNkNBQTZDLDZCQUE2Qiw2Q0FBNkMsY0FBYyw2QkFBNkIsNEJBQTRCLGdEQUFnRCxjQUFjLDRCQUE0Qiw0QkFBNEIsNkNBQTZDLDZCQUE2Qiw2Q0FBNkMsY0FBYyw2QkFBNkIsNEJBQTRCLGdEQUFnRCxjQUFjLDRCQUE0Qiw0QkFBNEIsNkNBQTZDLDZCQUE2Qiw2Q0FBNkMsY0FBYyxvQkFBb0IsY0FBYyxnQkFBZ0IsVUFBVSxjQUFjLEVBQUUsYUFBYSxTQUFTLElBQUksNERBQTRELE9BQU8sK0NBQStDLE1BQU0sZ0VBQWdFLE1BQU0sdUNBQXVDLE9BQU8sOERBQThELE1BQU0sZ0VBQWdFLE1BQU0sdUNBQXVDLE9BQU8sOERBQThELE1BQU0sZ0VBQWdFLE1BQU0sdUNBQXVDLE9BQU8sOERBQThELE1BQU0sZ0VBQWdFLE1BQU0sdUNBQXVDLE9BQU8scUVBQXFFLHFDQUFxQyIsImZpbGUiOiI0NC5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBIID0gcmVxdWlyZShcImhvZ2FuLmpzXCIpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHsgdmFyIFQgPSBuZXcgSC5UZW1wbGF0ZSh7Y29kZTogZnVuY3Rpb24gKGMscCxpKSB7IHZhciB0PXRoaXM7dC5iKGk9aXx8XCJcIik7dC5iKFwiPGRpdiBjbGFzcz1cXFwicHJvcGVydHkgcHJvcGVydHktLW51bWJlclxcXCI+XFxyXCIpO3QuYihcIlxcblwiICsgaSk7dC5iKFwiICAgIDxzcGFuPlwiKTt0LmIodC52KHQuZihcImxhYmVsXCIsYyxwLDApKSk7dC5iKFwiPC9zcGFuPlxcclwiKTt0LmIoXCJcXG5cIiArIGkpO3QuYihcIiAgICA8ZGl2PlxcclwiKTt0LmIoXCJcXG5cIiArIGkpO3QuYihcIiAgICAgICAgPGxhYmVsIGZvcj1cXFwiXCIpO3QuYih0LnYodC5kKFwiaWQueFwiLGMscCwwKSkpO3QuYihcIlxcXCIgY2xhc3M9XFxcInByb3BlcnR5X19sYWJlbFxcXCI+WDwvbGFiZWw+XFxyXCIpO3QuYihcIlxcblwiICsgaSk7dC5iKFwiICAgICAgICA8aW5wdXQgaWQ9XFxcIlwiKTt0LmIodC52KHQuZChcImlkLnhcIixjLHAsMCkpKTt0LmIoXCJcXFwiIGNsYXNzPVxcXCJwcm9wZXJ0eV9faW5wdXRcXFwiIHZhbHVlPVxcXCJcIik7dC5iKHQudih0LmQoXCJ2YWwueFwiLGMscCwwKSkpO3QuYihcIlxcXCIgdHlwZT1cXFwibnVtYmVyXFxcIiBzdGVwPVxcXCIwLjAxXFxcIiAvPlxcclwiKTt0LmIoXCJcXG5cIiArIGkpO3QuYihcIiAgICAgICAgPGxhYmVsIGZvcj1cXFwiXCIpO3QuYih0LnYodC5kKFwiaWQueVwiLGMscCwwKSkpO3QuYihcIlxcXCIgY2xhc3M9XFxcInByb3BlcnR5X19sYWJlbFxcXCI+WTwvbGFiZWw+XFxyXCIpO3QuYihcIlxcblwiICsgaSk7dC5iKFwiICAgICAgICA8aW5wdXQgaWQ9XFxcIlwiKTt0LmIodC52KHQuZChcImlkLnlcIixjLHAsMCkpKTt0LmIoXCJcXFwiIGNsYXNzPVxcXCJwcm9wZXJ0eV9faW5wdXRcXFwiIHZhbHVlPVxcXCJcIik7dC5iKHQudih0LmQoXCJ2YWwueVwiLGMscCwwKSkpO3QuYihcIlxcXCIgdHlwZT1cXFwibnVtYmVyXFxcIiBzdGVwPVxcXCIwLjAxXFxcIiAvPlxcclwiKTt0LmIoXCJcXG5cIiArIGkpO3QuYihcIiAgICAgICAgPGxhYmVsIGZvcj1cXFwiXCIpO3QuYih0LnYodC5kKFwiaWQuelwiLGMscCwwKSkpO3QuYihcIlxcXCIgY2xhc3M9XFxcInByb3BlcnR5X19sYWJlbFxcXCI+WjwvbGFiZWw+XFxyXCIpO3QuYihcIlxcblwiICsgaSk7dC5iKFwiICAgICAgICA8aW5wdXQgaWQ9XFxcIlwiKTt0LmIodC52KHQuZChcImlkLnpcIixjLHAsMCkpKTt0LmIoXCJcXFwiIGNsYXNzPVxcXCJwcm9wZXJ0eV9faW5wdXRcXFwiIHZhbHVlPVxcXCJcIik7dC5iKHQudih0LmQoXCJ2YWwuelwiLGMscCwwKSkpO3QuYihcIlxcXCIgdHlwZT1cXFwibnVtYmVyXFxcIiBzdGVwPVxcXCIwLjAxXFxcIiAvPlxcclwiKTt0LmIoXCJcXG5cIiArIGkpO3QuYihcIiAgICAgICAgPGxhYmVsIGZvcj1cXFwiXCIpO3QuYih0LnYodC5kKFwiaWQud1wiLGMscCwwKSkpO3QuYihcIlxcXCIgY2xhc3M9XFxcInByb3BlcnR5X19sYWJlbFxcXCI+VzwvbGFiZWw+XFxyXCIpO3QuYihcIlxcblwiICsgaSk7dC5iKFwiICAgICAgICA8aW5wdXQgaWQ9XFxcIlwiKTt0LmIodC52KHQuZChcImlkLndcIixjLHAsMCkpKTt0LmIoXCJcXFwiIGNsYXNzPVxcXCJwcm9wZXJ0eV9faW5wdXRcXFwiIHZhbHVlPVxcXCJcIik7dC5iKHQudih0LmQoXCJ2YWwud1wiLGMscCwwKSkpO3QuYihcIlxcXCIgdHlwZT1cXFwibnVtYmVyXFxcIiBzdGVwPVxcXCIwLjAxXFxcIiAvPlxcclwiKTt0LmIoXCJcXG5cIiArIGkpO3QuYihcIiAgICA8L2Rpdj5cXHJcIik7dC5iKFwiXFxuXCIgKyBpKTt0LmIoXCI8L2Rpdj5cXHJcIik7dC5iKFwiXFxuXCIpO3JldHVybiB0LmZsKCk7IH0scGFydGlhbHM6IHt9LCBzdWJzOiB7ICB9fSwgXCI8ZGl2IGNsYXNzPVxcXCJwcm9wZXJ0eSBwcm9wZXJ0eS0tbnVtYmVyXFxcIj5cXHJcXG4gICAgPHNwYW4+e3tsYWJlbH19PC9zcGFuPlxcclxcbiAgICA8ZGl2PlxcclxcbiAgICAgICAgPGxhYmVsIGZvcj1cXFwie3tpZC54fX1cXFwiIGNsYXNzPVxcXCJwcm9wZXJ0eV9fbGFiZWxcXFwiPlg8L2xhYmVsPlxcclxcbiAgICAgICAgPGlucHV0IGlkPVxcXCJ7e2lkLnh9fVxcXCIgY2xhc3M9XFxcInByb3BlcnR5X19pbnB1dFxcXCIgdmFsdWU9XFxcInt7dmFsLnh9fVxcXCIgdHlwZT1cXFwibnVtYmVyXFxcIiBzdGVwPVxcXCIwLjAxXFxcIiAvPlxcclxcbiAgICAgICAgPGxhYmVsIGZvcj1cXFwie3tpZC55fX1cXFwiIGNsYXNzPVxcXCJwcm9wZXJ0eV9fbGFiZWxcXFwiPlk8L2xhYmVsPlxcclxcbiAgICAgICAgPGlucHV0IGlkPVxcXCJ7e2lkLnl9fVxcXCIgY2xhc3M9XFxcInByb3BlcnR5X19pbnB1dFxcXCIgdmFsdWU9XFxcInt7dmFsLnl9fVxcXCIgdHlwZT1cXFwibnVtYmVyXFxcIiBzdGVwPVxcXCIwLjAxXFxcIiAvPlxcclxcbiAgICAgICAgPGxhYmVsIGZvcj1cXFwie3tpZC56fX1cXFwiIGNsYXNzPVxcXCJwcm9wZXJ0eV9fbGFiZWxcXFwiPlo8L2xhYmVsPlxcclxcbiAgICAgICAgPGlucHV0IGlkPVxcXCJ7e2lkLnp9fVxcXCIgY2xhc3M9XFxcInByb3BlcnR5X19pbnB1dFxcXCIgdmFsdWU9XFxcInt7dmFsLnp9fVxcXCIgdHlwZT1cXFwibnVtYmVyXFxcIiBzdGVwPVxcXCIwLjAxXFxcIiAvPlxcclxcbiAgICAgICAgPGxhYmVsIGZvcj1cXFwie3tpZC53fX1cXFwiIGNsYXNzPVxcXCJwcm9wZXJ0eV9fbGFiZWxcXFwiPlc8L2xhYmVsPlxcclxcbiAgICAgICAgPGlucHV0IGlkPVxcXCJ7e2lkLnd9fVxcXCIgY2xhc3M9XFxcInByb3BlcnR5X19pbnB1dFxcXCIgdmFsdWU9XFxcInt7dmFsLnd9fVxcXCIgdHlwZT1cXFwibnVtYmVyXFxcIiBzdGVwPVxcXCIwLjAxXFxcIiAvPlxcclxcbiAgICA8L2Rpdj5cXHJcXG48L2Rpdj5cXHJcXG5cIiwgSCk7IHJldHVybiBULnJlbmRlci5hcHBseShULCBhcmd1bWVudHMpOyB9O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vdGVtcGxhdGVzL1Byb3BlcnR5VmVjdG9yNC50cGwuaHRtbFxuLy8gbW9kdWxlIGlkID0gNDRcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==')},function(module,exports,__webpack_require__){eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\n__webpack_require__(25);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar tpl_property = __webpack_require__(46);\n\nvar PropertyFooter = function () {\n  // instance_property: The current property on the data object.\n  // lineData: The line data object.\n  function PropertyFooter(instance_property, lineData, editor) {\n    var key_val = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n    var timeline = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n\n    _classCallCheck(this, PropertyFooter);\n\n    this.instance_property = instance_property;\n    this.lineData = lineData;\n    this.editor = editor;\n    this.key_val = key_val;\n    this.timeline = timeline;\n\n    this.timer = this.editor.timer;\n    this.$time = false;\n    this.$el = false;\n    this.render();\n  }\n\n  _createClass(PropertyFooter, [{\n    key: 'remove',\n    value: function remove() {\n      delete this.$el;\n      delete this.instance_property;\n      delete this.lineData;\n      delete this.editor;\n      delete this.key_val;\n      delete this.timeline;\n\n      delete this.timer;\n      delete this.$time;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this = this;\n\n      var data = {\n        time: this.key_val.time.toFixed(3)\n      };\n\n      this.$el = $(tpl_property(data));\n      this.$time = this.$el.find('.property__key-time strong');\n      this.$time.keypress(function (e) {\n        if (e.charCode === 13) {\n          // Enter\n          e.preventDefault();\n          _this.$time.blur();\n          _this.updateKeyTime(_this.$time.text());\n        }\n      });\n\n      this.$time.on('click', function () {\n        return document.execCommand('selectAll', false, null);\n      });\n    }\n  }, {\n    key: 'updateKeyTime',\n    value: function updateKeyTime(time) {\n      var time2 = parseFloat(time);\n      if (isNaN(time2)) {\n        time2 = this.key_val.time;\n      }\n      this.$time.text(time2);\n      this.key_val.time = time2;\n    }\n  }, {\n    key: 'update',\n    value: function update() {\n      // todo: use mustache instead...\n      this.$time.html(this.key_val.time.toFixed(3));\n    }\n  }]);\n\n  return PropertyFooter;\n}();\n\nexports.default = PropertyFooter;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9lZGl0b3IvUHJvcGVydHlGb290ZXIuanM/YTFlZSJdLCJuYW1lcyI6WyJ0cGxfcHJvcGVydHkiLCJyZXF1aXJlIiwiUHJvcGVydHlGb290ZXIiLCJpbnN0YW5jZV9wcm9wZXJ0eSIsImxpbmVEYXRhIiwiZWRpdG9yIiwia2V5X3ZhbCIsInRpbWVsaW5lIiwidGltZXIiLCIkdGltZSIsIiRlbCIsInJlbmRlciIsImRhdGEiLCJ0aW1lIiwidG9GaXhlZCIsIiQiLCJmaW5kIiwia2V5cHJlc3MiLCJlIiwiY2hhckNvZGUiLCJwcmV2ZW50RGVmYXVsdCIsImJsdXIiLCJ1cGRhdGVLZXlUaW1lIiwidGV4dCIsIm9uIiwiZG9jdW1lbnQiLCJleGVjQ29tbWFuZCIsInRpbWUyIiwicGFyc2VGbG9hdCIsImlzTmFOIiwiaHRtbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTs7OztBQUVBLElBQUlBLGVBQWUsbUJBQUFDLENBQVEsRUFBUixDQUFuQjs7SUFFcUJDLGM7QUFDbkI7QUFDQTtBQUNBLDBCQUFZQyxpQkFBWixFQUErQkMsUUFBL0IsRUFBeUNDLE1BQXpDLEVBQW9GO0FBQUEsUUFBbkNDLE9BQW1DLHVFQUF6QixLQUF5QjtBQUFBLFFBQWxCQyxRQUFrQix1RUFBUCxLQUFPOztBQUFBOztBQUNsRixTQUFLSixpQkFBTCxHQUF5QkEsaUJBQXpCO0FBQ0EsU0FBS0MsUUFBTCxHQUFnQkEsUUFBaEI7QUFDQSxTQUFLQyxNQUFMLEdBQWNBLE1BQWQ7QUFDQSxTQUFLQyxPQUFMLEdBQWVBLE9BQWY7QUFDQSxTQUFLQyxRQUFMLEdBQWdCQSxRQUFoQjs7QUFFQSxTQUFLQyxLQUFMLEdBQWEsS0FBS0gsTUFBTCxDQUFZRyxLQUF6QjtBQUNBLFNBQUtDLEtBQUwsR0FBYSxLQUFiO0FBQ0EsU0FBS0MsR0FBTCxHQUFXLEtBQVg7QUFDQSxTQUFLQyxNQUFMO0FBQ0Q7Ozs7NkJBRVE7QUFDUCxhQUFPLEtBQUtELEdBQVo7QUFDQSxhQUFPLEtBQUtQLGlCQUFaO0FBQ0EsYUFBTyxLQUFLQyxRQUFaO0FBQ0EsYUFBTyxLQUFLQyxNQUFaO0FBQ0EsYUFBTyxLQUFLQyxPQUFaO0FBQ0EsYUFBTyxLQUFLQyxRQUFaOztBQUVBLGFBQU8sS0FBS0MsS0FBWjtBQUNBLGFBQU8sS0FBS0MsS0FBWjtBQUNEOzs7NkJBRVE7QUFBQTs7QUFDUCxVQUFJRyxPQUFPO0FBQ1RDLGNBQU0sS0FBS1AsT0FBTCxDQUFhTyxJQUFiLENBQWtCQyxPQUFsQixDQUEwQixDQUExQjtBQURHLE9BQVg7O0FBSUEsV0FBS0osR0FBTCxHQUFXSyxFQUFFZixhQUFhWSxJQUFiLENBQUYsQ0FBWDtBQUNBLFdBQUtILEtBQUwsR0FBYSxLQUFLQyxHQUFMLENBQVNNLElBQVQsQ0FBYyw0QkFBZCxDQUFiO0FBQ0EsV0FBS1AsS0FBTCxDQUFXUSxRQUFYLENBQW9CLFVBQUNDLENBQUQsRUFBTztBQUN6QixZQUFJQSxFQUFFQyxRQUFGLEtBQWUsRUFBbkIsRUFBdUI7QUFDckI7QUFDQUQsWUFBRUUsY0FBRjtBQUNBLGdCQUFLWCxLQUFMLENBQVdZLElBQVg7QUFDQSxnQkFBS0MsYUFBTCxDQUFtQixNQUFLYixLQUFMLENBQVdjLElBQVgsRUFBbkI7QUFDRDtBQUNGLE9BUEQ7O0FBU0EsV0FBS2QsS0FBTCxDQUFXZSxFQUFYLENBQWMsT0FBZCxFQUF1QjtBQUFBLGVBQU1DLFNBQVNDLFdBQVQsQ0FBcUIsV0FBckIsRUFBa0MsS0FBbEMsRUFBeUMsSUFBekMsQ0FBTjtBQUFBLE9BQXZCO0FBQ0Q7OztrQ0FFYWIsSSxFQUFNO0FBQ2xCLFVBQUljLFFBQVFDLFdBQVdmLElBQVgsQ0FBWjtBQUNBLFVBQUlnQixNQUFNRixLQUFOLENBQUosRUFBa0I7QUFDaEJBLGdCQUFRLEtBQUtyQixPQUFMLENBQWFPLElBQXJCO0FBQ0Q7QUFDRCxXQUFLSixLQUFMLENBQVdjLElBQVgsQ0FBZ0JJLEtBQWhCO0FBQ0EsV0FBS3JCLE9BQUwsQ0FBYU8sSUFBYixHQUFvQmMsS0FBcEI7QUFDRDs7OzZCQUVRO0FBQ1A7QUFDQSxXQUFLbEIsS0FBTCxDQUFXcUIsSUFBWCxDQUFnQixLQUFLeEIsT0FBTCxDQUFhTyxJQUFiLENBQWtCQyxPQUFsQixDQUEwQixDQUExQixDQUFoQjtBQUNEOzs7Ozs7a0JBM0RrQlosYyIsImZpbGUiOiI0NS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAnanF1ZXJ5JztcblxubGV0IHRwbF9wcm9wZXJ0eSA9IHJlcXVpcmUoJy4uL3RlbXBsYXRlcy9wcm9wZXJ0eUZvb3Rlci50cGwuaHRtbCcpO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQcm9wZXJ0eUZvb3RlciB7XG4gIC8vIGluc3RhbmNlX3Byb3BlcnR5OiBUaGUgY3VycmVudCBwcm9wZXJ0eSBvbiB0aGUgZGF0YSBvYmplY3QuXG4gIC8vIGxpbmVEYXRhOiBUaGUgbGluZSBkYXRhIG9iamVjdC5cbiAgY29uc3RydWN0b3IoaW5zdGFuY2VfcHJvcGVydHksIGxpbmVEYXRhLCBlZGl0b3IsIGtleV92YWwgPSBmYWxzZSwgdGltZWxpbmUgPSBmYWxzZSkge1xuICAgIHRoaXMuaW5zdGFuY2VfcHJvcGVydHkgPSBpbnN0YW5jZV9wcm9wZXJ0eTtcbiAgICB0aGlzLmxpbmVEYXRhID0gbGluZURhdGE7XG4gICAgdGhpcy5lZGl0b3IgPSBlZGl0b3I7XG4gICAgdGhpcy5rZXlfdmFsID0ga2V5X3ZhbDtcbiAgICB0aGlzLnRpbWVsaW5lID0gdGltZWxpbmU7XG5cbiAgICB0aGlzLnRpbWVyID0gdGhpcy5lZGl0b3IudGltZXI7XG4gICAgdGhpcy4kdGltZSA9IGZhbHNlO1xuICAgIHRoaXMuJGVsID0gZmFsc2U7XG4gICAgdGhpcy5yZW5kZXIoKTtcbiAgfVxuXG4gIHJlbW92ZSgpIHtcbiAgICBkZWxldGUgdGhpcy4kZWw7XG4gICAgZGVsZXRlIHRoaXMuaW5zdGFuY2VfcHJvcGVydHk7XG4gICAgZGVsZXRlIHRoaXMubGluZURhdGE7XG4gICAgZGVsZXRlIHRoaXMuZWRpdG9yO1xuICAgIGRlbGV0ZSB0aGlzLmtleV92YWw7XG4gICAgZGVsZXRlIHRoaXMudGltZWxpbmU7XG5cbiAgICBkZWxldGUgdGhpcy50aW1lcjtcbiAgICBkZWxldGUgdGhpcy4kdGltZTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICB2YXIgZGF0YSA9IHtcbiAgICAgIHRpbWU6IHRoaXMua2V5X3ZhbC50aW1lLnRvRml4ZWQoMylcbiAgICB9O1xuXG4gICAgdGhpcy4kZWwgPSAkKHRwbF9wcm9wZXJ0eShkYXRhKSk7XG4gICAgdGhpcy4kdGltZSA9IHRoaXMuJGVsLmZpbmQoJy5wcm9wZXJ0eV9fa2V5LXRpbWUgc3Ryb25nJyk7XG4gICAgdGhpcy4kdGltZS5rZXlwcmVzcygoZSkgPT4ge1xuICAgICAgaWYgKGUuY2hhckNvZGUgPT09IDEzKSB7XG4gICAgICAgIC8vIEVudGVyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy4kdGltZS5ibHVyKCk7XG4gICAgICAgIHRoaXMudXBkYXRlS2V5VGltZSh0aGlzLiR0aW1lLnRleHQoKSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLiR0aW1lLm9uKCdjbGljaycsICgpID0+IGRvY3VtZW50LmV4ZWNDb21tYW5kKCdzZWxlY3RBbGwnLCBmYWxzZSwgbnVsbCkpO1xuICB9XG5cbiAgdXBkYXRlS2V5VGltZSh0aW1lKSB7XG4gICAgbGV0IHRpbWUyID0gcGFyc2VGbG9hdCh0aW1lKTtcbiAgICBpZiAoaXNOYU4odGltZTIpKSB7XG4gICAgICB0aW1lMiA9IHRoaXMua2V5X3ZhbC50aW1lO1xuICAgIH1cbiAgICB0aGlzLiR0aW1lLnRleHQodGltZTIpO1xuICAgIHRoaXMua2V5X3ZhbC50aW1lID0gdGltZTI7XG4gIH1cblxuICB1cGRhdGUoKSB7XG4gICAgLy8gdG9kbzogdXNlIG11c3RhY2hlIGluc3RlYWQuLi5cbiAgICB0aGlzLiR0aW1lLmh0bWwodGhpcy5rZXlfdmFsLnRpbWUudG9GaXhlZCgzKSk7XG4gIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2VkaXRvci9Qcm9wZXJ0eUZvb3Rlci5qcyJdLCJzb3VyY2VSb290IjoiIn0=");
},function(module,exports,__webpack_require__){eval('var H = __webpack_require__(31);\nmodule.exports = function() { var T = new H.Template({code: function (c,p,i) { var t=this;t.b(i=i||"");t.b("<div class=\\"properties-editor__actions actions\\">");t.b("\\n" + i);t.b("  <span class=\\"property__key-time\\">key at <strong class=\\"property__key-input\\" contenteditable=\\"true\\">");t.b(t.v(t.f("time",c,p,0)));t.b("</strong> seconds</span>");t.b("\\n" + i);t.b("  <a href=\\"#\\" class=\\"actions__item\\" data-action-remove>Remove key</a>");t.b("\\n" + i);t.b("</div>");t.b("\\n");return t.fl(); },partials: {}, subs: {  }}, "<div class=\\"properties-editor__actions actions\\">\\n  <span class=\\"property__key-time\\">key at <strong class=\\"property__key-input\\" contenteditable=\\"true\\">{{time}}</strong> seconds</span>\\n  <a href=\\"#\\" class=\\"actions__item\\" data-action-remove>Remove key</a>\\n</div>\\n", H); return T.render.apply(T, arguments); };//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi90ZW1wbGF0ZXMvcHJvcGVydHlGb290ZXIudHBsLmh0bWw/MDdiMiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBLDZCQUE2Qix5QkFBeUIsd0JBQXdCLFlBQVksYUFBYSwwREFBMEQsY0FBYyxtSEFBbUgsNEJBQTRCLGdDQUFnQyxjQUFjLGlGQUFpRixjQUFjLGNBQWMsVUFBVSxjQUFjLEVBQUUsYUFBYSxTQUFTLElBQUksb0tBQW9LLE1BQU0sbUhBQW1ILHFDQUFxQyIsImZpbGUiOiI0Ni5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBIID0gcmVxdWlyZShcImhvZ2FuLmpzXCIpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHsgdmFyIFQgPSBuZXcgSC5UZW1wbGF0ZSh7Y29kZTogZnVuY3Rpb24gKGMscCxpKSB7IHZhciB0PXRoaXM7dC5iKGk9aXx8XCJcIik7dC5iKFwiPGRpdiBjbGFzcz1cXFwicHJvcGVydGllcy1lZGl0b3JfX2FjdGlvbnMgYWN0aW9uc1xcXCI+XCIpO3QuYihcIlxcblwiICsgaSk7dC5iKFwiICA8c3BhbiBjbGFzcz1cXFwicHJvcGVydHlfX2tleS10aW1lXFxcIj5rZXkgYXQgPHN0cm9uZyBjbGFzcz1cXFwicHJvcGVydHlfX2tleS1pbnB1dFxcXCIgY29udGVudGVkaXRhYmxlPVxcXCJ0cnVlXFxcIj5cIik7dC5iKHQudih0LmYoXCJ0aW1lXCIsYyxwLDApKSk7dC5iKFwiPC9zdHJvbmc+IHNlY29uZHM8L3NwYW4+XCIpO3QuYihcIlxcblwiICsgaSk7dC5iKFwiICA8YSBocmVmPVxcXCIjXFxcIiBjbGFzcz1cXFwiYWN0aW9uc19faXRlbVxcXCIgZGF0YS1hY3Rpb24tcmVtb3ZlPlJlbW92ZSBrZXk8L2E+XCIpO3QuYihcIlxcblwiICsgaSk7dC5iKFwiPC9kaXY+XCIpO3QuYihcIlxcblwiKTtyZXR1cm4gdC5mbCgpOyB9LHBhcnRpYWxzOiB7fSwgc3ViczogeyAgfX0sIFwiPGRpdiBjbGFzcz1cXFwicHJvcGVydGllcy1lZGl0b3JfX2FjdGlvbnMgYWN0aW9uc1xcXCI+XFxuICA8c3BhbiBjbGFzcz1cXFwicHJvcGVydHlfX2tleS10aW1lXFxcIj5rZXkgYXQgPHN0cm9uZyBjbGFzcz1cXFwicHJvcGVydHlfX2tleS1pbnB1dFxcXCIgY29udGVudGVkaXRhYmxlPVxcXCJ0cnVlXFxcIj57e3RpbWV9fTwvc3Ryb25nPiBzZWNvbmRzPC9zcGFuPlxcbiAgPGEgaHJlZj1cXFwiI1xcXCIgY2xhc3M9XFxcImFjdGlvbnNfX2l0ZW1cXFwiIGRhdGEtYWN0aW9uLXJlbW92ZT5SZW1vdmUga2V5PC9hPlxcbjwvZGl2PlxcblwiLCBIKTsgcmV0dXJuIFQucmVuZGVyLmFwcGx5KFQsIGFyZ3VtZW50cyk7IH07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi90ZW1wbGF0ZXMvcHJvcGVydHlGb290ZXIudHBsLmh0bWxcbi8vIG1vZHVsZSBpZCA9IDQ2XG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJzb3VyY2VSb290IjoiIn0=')},function(module,exports,__webpack_require__){eval('var H = __webpack_require__(31);\nmodule.exports = function() { var T = new H.Template({code: function (c,p,i) { var t=this;t.b(i=i||"");t.b("<div class=\\"properties-editor\\">");t.b("\\n" + i);t.b("  <a href=\\"#\\" class=\\"menu-item menu-item--toggle-side\\" data-action=\\"toggle\\"><i class=\\"icon-toggle\\"></i></a>");t.b("\\n" + i);t.b("  <div class=\\"properties-editor__main\\"></div>");t.b("\\n" + i);t.b("</div>");t.b("\\n");return t.fl(); },partials: {}, subs: {  }}, "<div class=\\"properties-editor\\">\\n  <a href=\\"#\\" class=\\"menu-item menu-item--toggle-side\\" data-action=\\"toggle\\"><i class=\\"icon-toggle\\"></i></a>\\n  <div class=\\"properties-editor__main\\"></div>\\n</div>\\n", H); return T.render.apply(T, arguments); };//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi90ZW1wbGF0ZXMvcHJvcGVydGllc0VkaXRvci50cGwuaHRtbD81YTg3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0EsNkJBQTZCLHlCQUF5Qix3QkFBd0IsWUFBWSxhQUFhLHlDQUF5QyxjQUFjLDJIQUEySCxjQUFjLHVEQUF1RCxjQUFjLGNBQWMsVUFBVSxjQUFjLEVBQUUsYUFBYSxTQUFTLElBQUksME5BQTBOLHFDQUFxQyIsImZpbGUiOiI0Ny5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBIID0gcmVxdWlyZShcImhvZ2FuLmpzXCIpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHsgdmFyIFQgPSBuZXcgSC5UZW1wbGF0ZSh7Y29kZTogZnVuY3Rpb24gKGMscCxpKSB7IHZhciB0PXRoaXM7dC5iKGk9aXx8XCJcIik7dC5iKFwiPGRpdiBjbGFzcz1cXFwicHJvcGVydGllcy1lZGl0b3JcXFwiPlwiKTt0LmIoXCJcXG5cIiArIGkpO3QuYihcIiAgPGEgaHJlZj1cXFwiI1xcXCIgY2xhc3M9XFxcIm1lbnUtaXRlbSBtZW51LWl0ZW0tLXRvZ2dsZS1zaWRlXFxcIiBkYXRhLWFjdGlvbj1cXFwidG9nZ2xlXFxcIj48aSBjbGFzcz1cXFwiaWNvbi10b2dnbGVcXFwiPjwvaT48L2E+XCIpO3QuYihcIlxcblwiICsgaSk7dC5iKFwiICA8ZGl2IGNsYXNzPVxcXCJwcm9wZXJ0aWVzLWVkaXRvcl9fbWFpblxcXCI+PC9kaXY+XCIpO3QuYihcIlxcblwiICsgaSk7dC5iKFwiPC9kaXY+XCIpO3QuYihcIlxcblwiKTtyZXR1cm4gdC5mbCgpOyB9LHBhcnRpYWxzOiB7fSwgc3ViczogeyAgfX0sIFwiPGRpdiBjbGFzcz1cXFwicHJvcGVydGllcy1lZGl0b3JcXFwiPlxcbiAgPGEgaHJlZj1cXFwiI1xcXCIgY2xhc3M9XFxcIm1lbnUtaXRlbSBtZW51LWl0ZW0tLXRvZ2dsZS1zaWRlXFxcIiBkYXRhLWFjdGlvbj1cXFwidG9nZ2xlXFxcIj48aSBjbGFzcz1cXFwiaWNvbi10b2dnbGVcXFwiPjwvaT48L2E+XFxuICA8ZGl2IGNsYXNzPVxcXCJwcm9wZXJ0aWVzLWVkaXRvcl9fbWFpblxcXCI+PC9kaXY+XFxuPC9kaXY+XFxuXCIsIEgpOyByZXR1cm4gVC5yZW5kZXIuYXBwbHkoVCwgYXJndW1lbnRzKTsgfTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3RlbXBsYXRlcy9wcm9wZXJ0aWVzRWRpdG9yLnRwbC5odG1sXG4vLyBtb2R1bGUgaWQgPSA0N1xuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9')},function(module,exports,__webpack_require__){eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar saveAs = __webpack_require__(49).saveAs || __webpack_require__(49);\n\nvar EditorMenu = function () {\n  function EditorMenu(tweenTime, $timeline, editor) {\n    _classCallCheck(this, EditorMenu);\n\n    this.tweenTime = tweenTime;\n    this.$timeline = $timeline;\n    this.editor = editor;\n    this.timer = this.tweenTime.timer;\n    this.initExport();\n    this.initToggle();\n    this.initCurveToggle();\n  }\n\n  _createClass(EditorMenu, [{\n    key: 'initToggle',\n    value: function initToggle() {\n      var parentElement = this.editor.el;\n      var timelineClosed = false;\n      var $toggleLink = this.$timeline.find('[data-action=\"toggle\"]');\n      $toggleLink.click(function (e) {\n        e.preventDefault();\n        timelineClosed = !timelineClosed;\n        $toggleLink.toggleClass('menu-item--toggle-up', timelineClosed);\n        parentElement.toggleClass('timeline-is-closed', timelineClosed);\n        return window.dispatchEvent(new Event('resize'));\n      });\n      var $toggleLinkSide = $('.properties-editor', parentElement).find('[data-action=\"toggle\"]');\n      $toggleLinkSide.click(function (e) {\n        var propertiesClosed;\n        e.preventDefault();\n        propertiesClosed = !parentElement.hasClass('properties-is-closed');\n        parentElement.toggleClass('properties-is-closed', propertiesClosed);\n        return window.dispatchEvent(new Event('resize'));\n      });\n    }\n  }, {\n    key: 'initExport',\n    value: function initExport() {\n      var exporter = this.editor.exporter;\n      this.$timeline.find('[data-action=\"export\"]').click(function (e) {\n        e.preventDefault();\n        var data = exporter.getJSON();\n        var blob = new Blob([data], {\n          type: 'text/json;charset=utf-8'\n        });\n        saveAs(blob, 'data.json');\n      });\n    }\n  }, {\n    key: 'initCurveToggle',\n    value: function initCurveToggle() {\n      var _this = this;\n\n      this.$timeline.find('[data-action=\"switch-curve\"]').click(function (e) {\n        e.preventDefault();\n        _this.editor.curveEditEnabled = !_this.editor.curveEditEnabled;\n        _this.editor.render(false, false, true);\n      });\n    }\n  }]);\n\n  return EditorMenu;\n}();\n\nexports.default = EditorMenu;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9lZGl0b3IvRWRpdG9yTWVudS5qcz81MDU5Il0sIm5hbWVzIjpbInNhdmVBcyIsInJlcXVpcmUiLCJFZGl0b3JNZW51IiwidHdlZW5UaW1lIiwiJHRpbWVsaW5lIiwiZWRpdG9yIiwidGltZXIiLCJpbml0RXhwb3J0IiwiaW5pdFRvZ2dsZSIsImluaXRDdXJ2ZVRvZ2dsZSIsInBhcmVudEVsZW1lbnQiLCJlbCIsInRpbWVsaW5lQ2xvc2VkIiwiJHRvZ2dsZUxpbmsiLCJmaW5kIiwiY2xpY2siLCJlIiwicHJldmVudERlZmF1bHQiLCJ0b2dnbGVDbGFzcyIsIndpbmRvdyIsImRpc3BhdGNoRXZlbnQiLCJFdmVudCIsIiR0b2dnbGVMaW5rU2lkZSIsIiQiLCJwcm9wZXJ0aWVzQ2xvc2VkIiwiaGFzQ2xhc3MiLCJleHBvcnRlciIsImRhdGEiLCJnZXRKU09OIiwiYmxvYiIsIkJsb2IiLCJ0eXBlIiwiY3VydmVFZGl0RW5hYmxlZCIsInJlbmRlciJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBLElBQUlBLFNBQVMsbUJBQUFDLENBQVEsRUFBUixFQUFzQkQsTUFBdEIsSUFBZ0MsbUJBQUFDLENBQVEsRUFBUixDQUE3Qzs7SUFFcUJDLFU7QUFDbkIsc0JBQVlDLFNBQVosRUFBdUJDLFNBQXZCLEVBQWtDQyxNQUFsQyxFQUEwQztBQUFBOztBQUN4QyxTQUFLRixTQUFMLEdBQWlCQSxTQUFqQjtBQUNBLFNBQUtDLFNBQUwsR0FBaUJBLFNBQWpCO0FBQ0EsU0FBS0MsTUFBTCxHQUFjQSxNQUFkO0FBQ0EsU0FBS0MsS0FBTCxHQUFhLEtBQUtILFNBQUwsQ0FBZUcsS0FBNUI7QUFDQSxTQUFLQyxVQUFMO0FBQ0EsU0FBS0MsVUFBTDtBQUNBLFNBQUtDLGVBQUw7QUFDRDs7OztpQ0FFWTtBQUNYLFVBQUlDLGdCQUFnQixLQUFLTCxNQUFMLENBQVlNLEVBQWhDO0FBQ0EsVUFBSUMsaUJBQWlCLEtBQXJCO0FBQ0EsVUFBSUMsY0FBYyxLQUFLVCxTQUFMLENBQWVVLElBQWYsQ0FBb0Isd0JBQXBCLENBQWxCO0FBQ0FELGtCQUFZRSxLQUFaLENBQWtCLFVBQUNDLENBQUQsRUFBTztBQUN2QkEsVUFBRUMsY0FBRjtBQUNBTCx5QkFBaUIsQ0FBQ0EsY0FBbEI7QUFDQUMsb0JBQVlLLFdBQVosQ0FBd0Isc0JBQXhCLEVBQWdETixjQUFoRDtBQUNBRixzQkFBY1EsV0FBZCxDQUEwQixvQkFBMUIsRUFBZ0ROLGNBQWhEO0FBQ0EsZUFBT08sT0FBT0MsYUFBUCxDQUFxQixJQUFJQyxLQUFKLENBQVUsUUFBVixDQUFyQixDQUFQO0FBQ0QsT0FORDtBQU9BLFVBQUlDLGtCQUFrQkMsRUFBRSxvQkFBRixFQUF3QmIsYUFBeEIsRUFBdUNJLElBQXZDLENBQTRDLHdCQUE1QyxDQUF0QjtBQUNBUSxzQkFBZ0JQLEtBQWhCLENBQXNCLFVBQUNDLENBQUQsRUFBTztBQUMzQixZQUFJUSxnQkFBSjtBQUNBUixVQUFFQyxjQUFGO0FBQ0FPLDJCQUFtQixDQUFDZCxjQUFjZSxRQUFkLENBQXVCLHNCQUF2QixDQUFwQjtBQUNBZixzQkFBY1EsV0FBZCxDQUEwQixzQkFBMUIsRUFBa0RNLGdCQUFsRDtBQUNBLGVBQU9MLE9BQU9DLGFBQVAsQ0FBcUIsSUFBSUMsS0FBSixDQUFVLFFBQVYsQ0FBckIsQ0FBUDtBQUNELE9BTkQ7QUFPRDs7O2lDQUVZO0FBQ1gsVUFBSUssV0FBVyxLQUFLckIsTUFBTCxDQUFZcUIsUUFBM0I7QUFDQSxXQUFLdEIsU0FBTCxDQUFlVSxJQUFmLENBQW9CLHdCQUFwQixFQUE4Q0MsS0FBOUMsQ0FBb0QsVUFBU0MsQ0FBVCxFQUFZO0FBQzlEQSxVQUFFQyxjQUFGO0FBQ0EsWUFBSVUsT0FBT0QsU0FBU0UsT0FBVCxFQUFYO0FBQ0EsWUFBSUMsT0FBTyxJQUFJQyxJQUFKLENBQVMsQ0FBQ0gsSUFBRCxDQUFULEVBQWlCO0FBQzFCSSxnQkFBTTtBQURvQixTQUFqQixDQUFYO0FBR0EvQixlQUFPNkIsSUFBUCxFQUFhLFdBQWI7QUFDRCxPQVBEO0FBUUQ7OztzQ0FFaUI7QUFBQTs7QUFDaEIsV0FBS3pCLFNBQUwsQ0FBZVUsSUFBZixDQUFvQiw4QkFBcEIsRUFBb0RDLEtBQXBELENBQTBELFVBQUNDLENBQUQsRUFBTztBQUMvREEsVUFBRUMsY0FBRjtBQUNBLGNBQUtaLE1BQUwsQ0FBWTJCLGdCQUFaLEdBQStCLENBQUMsTUFBSzNCLE1BQUwsQ0FBWTJCLGdCQUE1QztBQUNBLGNBQUszQixNQUFMLENBQVk0QixNQUFaLENBQW1CLEtBQW5CLEVBQTBCLEtBQTFCLEVBQWlDLElBQWpDO0FBQ0QsT0FKRDtBQUtEOzs7Ozs7a0JBbERrQi9CLFUiLCJmaWxlIjoiNDguanMiLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgc2F2ZUFzID0gcmVxdWlyZSgnZmlsZS1zYXZlcicpLnNhdmVBcyB8fCByZXF1aXJlKCdmaWxlLXNhdmVyJyk7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVkaXRvck1lbnUge1xuICBjb25zdHJ1Y3Rvcih0d2VlblRpbWUsICR0aW1lbGluZSwgZWRpdG9yKSB7XG4gICAgdGhpcy50d2VlblRpbWUgPSB0d2VlblRpbWU7XG4gICAgdGhpcy4kdGltZWxpbmUgPSAkdGltZWxpbmU7XG4gICAgdGhpcy5lZGl0b3IgPSBlZGl0b3I7XG4gICAgdGhpcy50aW1lciA9IHRoaXMudHdlZW5UaW1lLnRpbWVyO1xuICAgIHRoaXMuaW5pdEV4cG9ydCgpO1xuICAgIHRoaXMuaW5pdFRvZ2dsZSgpO1xuICAgIHRoaXMuaW5pdEN1cnZlVG9nZ2xlKCk7XG4gIH1cblxuICBpbml0VG9nZ2xlKCkge1xuICAgIHZhciBwYXJlbnRFbGVtZW50ID0gdGhpcy5lZGl0b3IuZWw7XG4gICAgdmFyIHRpbWVsaW5lQ2xvc2VkID0gZmFsc2U7XG4gICAgdmFyICR0b2dnbGVMaW5rID0gdGhpcy4kdGltZWxpbmUuZmluZCgnW2RhdGEtYWN0aW9uPVwidG9nZ2xlXCJdJyk7XG4gICAgJHRvZ2dsZUxpbmsuY2xpY2soKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRpbWVsaW5lQ2xvc2VkID0gIXRpbWVsaW5lQ2xvc2VkO1xuICAgICAgJHRvZ2dsZUxpbmsudG9nZ2xlQ2xhc3MoJ21lbnUtaXRlbS0tdG9nZ2xlLXVwJywgdGltZWxpbmVDbG9zZWQpO1xuICAgICAgcGFyZW50RWxlbWVudC50b2dnbGVDbGFzcygndGltZWxpbmUtaXMtY2xvc2VkJywgdGltZWxpbmVDbG9zZWQpO1xuICAgICAgcmV0dXJuIHdpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgncmVzaXplJykpO1xuICAgIH0pO1xuICAgIHZhciAkdG9nZ2xlTGlua1NpZGUgPSAkKCcucHJvcGVydGllcy1lZGl0b3InLCBwYXJlbnRFbGVtZW50KS5maW5kKCdbZGF0YS1hY3Rpb249XCJ0b2dnbGVcIl0nKTtcbiAgICAkdG9nZ2xlTGlua1NpZGUuY2xpY2soKGUpID0+IHtcbiAgICAgIHZhciBwcm9wZXJ0aWVzQ2xvc2VkO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgcHJvcGVydGllc0Nsb3NlZCA9ICFwYXJlbnRFbGVtZW50Lmhhc0NsYXNzKCdwcm9wZXJ0aWVzLWlzLWNsb3NlZCcpO1xuICAgICAgcGFyZW50RWxlbWVudC50b2dnbGVDbGFzcygncHJvcGVydGllcy1pcy1jbG9zZWQnLCBwcm9wZXJ0aWVzQ2xvc2VkKTtcbiAgICAgIHJldHVybiB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ3Jlc2l6ZScpKTtcbiAgICB9KTtcbiAgfVxuXG4gIGluaXRFeHBvcnQoKSB7XG4gICAgdmFyIGV4cG9ydGVyID0gdGhpcy5lZGl0b3IuZXhwb3J0ZXI7XG4gICAgdGhpcy4kdGltZWxpbmUuZmluZCgnW2RhdGEtYWN0aW9uPVwiZXhwb3J0XCJdJykuY2xpY2soZnVuY3Rpb24oZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdmFyIGRhdGEgPSBleHBvcnRlci5nZXRKU09OKCk7XG4gICAgICB2YXIgYmxvYiA9IG5ldyBCbG9iKFtkYXRhXSwge1xuICAgICAgICB0eXBlOiAndGV4dC9qc29uO2NoYXJzZXQ9dXRmLTgnXG4gICAgICB9KTtcbiAgICAgIHNhdmVBcyhibG9iLCAnZGF0YS5qc29uJyk7XG4gICAgfSk7XG4gIH1cblxuICBpbml0Q3VydmVUb2dnbGUoKSB7XG4gICAgdGhpcy4kdGltZWxpbmUuZmluZCgnW2RhdGEtYWN0aW9uPVwic3dpdGNoLWN1cnZlXCJdJykuY2xpY2soKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuZWRpdG9yLmN1cnZlRWRpdEVuYWJsZWQgPSAhdGhpcy5lZGl0b3IuY3VydmVFZGl0RW5hYmxlZDtcbiAgICAgIHRoaXMuZWRpdG9yLnJlbmRlcihmYWxzZSwgZmFsc2UsIHRydWUpO1xuICAgIH0pO1xuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9lZGl0b3IvRWRpdG9yTWVudS5qcyJdLCJzb3VyY2VSb290IjoiIn0=")},function(module,exports){eval("module.exports = __WEBPACK_EXTERNAL_MODULE_49__;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwge1wicm9vdFwiOlwic2F2ZUFzXCIsXCJjb21tb25qc1wiOlwiZmlsZS1zYXZlclwiLFwiY29tbW9uanMyXCI6XCJmaWxlLXNhdmVyXCIsXCJhbWRcIjpcImZpbGUtc2F2ZXJcIn0/Y2UwZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiI0OS5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV80OV9fO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIHtcInJvb3RcIjpcInNhdmVBc1wiLFwiY29tbW9uanNcIjpcImZpbGUtc2F2ZXJcIixcImNvbW1vbmpzMlwiOlwiZmlsZS1zYXZlclwiLFwiYW1kXCI6XCJmaWxlLXNhdmVyXCJ9XG4vLyBtb2R1bGUgaWQgPSA0OVxuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9")},function(module,exports){eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar EditorControls = function () {\n  function EditorControls(tweenTime, $timeline) {\n    var _this = this;\n\n    _classCallCheck(this, EditorControls);\n\n    this.tweenTime = tweenTime;\n    this.$timeline = $timeline;\n    this.timer = this.tweenTime.timer;\n    this.$time = this.$timeline.find('.control--time');\n    this.$time_end = this.$timeline.find('.control--time-end');\n    this.initControls();\n    this.$time_end.val(this.tweenTime.timer.getDuration());\n\n    $(document).keypress(function (e) {\n      if (e.charCode === 32) {\n        // Space\n        _this.playPause();\n      }\n    });\n  }\n\n  _createClass(EditorControls, [{\n    key: 'playPause',\n    value: function playPause() {\n      var $play_pause;\n      this.timer.toggle();\n      $play_pause = this.$timeline.find('.control--play-pause');\n      $play_pause.toggleClass('icon-pause', !this.timer.is_playing);\n      $play_pause.toggleClass('icon-play', this.timer.is_playing);\n    }\n  }, {\n    key: 'initControls',\n    value: function initControls() {\n      var _this2 = this;\n\n      var $play_pause = this.$timeline.find('.control--play-pause');\n      $play_pause.click(function (e) {\n        e.preventDefault();\n        _this2.playPause();\n      });\n      var $bt_first = this.$timeline.find('.control--first');\n      $bt_first.click(function (e) {\n        e.preventDefault();\n        _this2.timer.seek([0]);\n      });\n      var $bt_last = this.$timeline.find('.control--last');\n      $bt_last.click(function (e) {\n        e.preventDefault();\n        var total = _this2.tweenTime.getTotalDuration();\n        _this2.timer.seek([total * 1000]);\n      });\n      this.$time.change(function () {\n        var seconds = parseFloat(_this2.$time.val(), 10) * 1000;\n        _this2.timer.seek([seconds]);\n      });\n      this.$time_end.change(function () {\n        var seconds = parseFloat(_this2.$time_end.val(), 10);\n        _this2.timer.setDuration(seconds);\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render(time, time_changed) {\n      if (time_changed) {\n        var seconds = time / 1000;\n        this.$time.val(seconds.toFixed(3));\n      }\n    }\n  }]);\n\n  return EditorControls;\n}();\n\nexports.default = EditorControls;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9lZGl0b3IvRWRpdG9yQ29udHJvbHMuanM/NTFiZiJdLCJuYW1lcyI6WyJFZGl0b3JDb250cm9scyIsInR3ZWVuVGltZSIsIiR0aW1lbGluZSIsInRpbWVyIiwiJHRpbWUiLCJmaW5kIiwiJHRpbWVfZW5kIiwiaW5pdENvbnRyb2xzIiwidmFsIiwiZ2V0RHVyYXRpb24iLCIkIiwiZG9jdW1lbnQiLCJrZXlwcmVzcyIsImUiLCJjaGFyQ29kZSIsInBsYXlQYXVzZSIsIiRwbGF5X3BhdXNlIiwidG9nZ2xlIiwidG9nZ2xlQ2xhc3MiLCJpc19wbGF5aW5nIiwiY2xpY2siLCJwcmV2ZW50RGVmYXVsdCIsIiRidF9maXJzdCIsInNlZWsiLCIkYnRfbGFzdCIsInRvdGFsIiwiZ2V0VG90YWxEdXJhdGlvbiIsImNoYW5nZSIsInNlY29uZHMiLCJwYXJzZUZsb2F0Iiwic2V0RHVyYXRpb24iLCJ0aW1lIiwidGltZV9jaGFuZ2VkIiwidG9GaXhlZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztJQUFxQkEsYztBQUNuQiwwQkFBWUMsU0FBWixFQUF1QkMsU0FBdkIsRUFBa0M7QUFBQTs7QUFBQTs7QUFDaEMsU0FBS0QsU0FBTCxHQUFpQkEsU0FBakI7QUFDQSxTQUFLQyxTQUFMLEdBQWlCQSxTQUFqQjtBQUNBLFNBQUtDLEtBQUwsR0FBYSxLQUFLRixTQUFMLENBQWVFLEtBQTVCO0FBQ0EsU0FBS0MsS0FBTCxHQUFhLEtBQUtGLFNBQUwsQ0FBZUcsSUFBZixDQUFvQixnQkFBcEIsQ0FBYjtBQUNBLFNBQUtDLFNBQUwsR0FBaUIsS0FBS0osU0FBTCxDQUFlRyxJQUFmLENBQW9CLG9CQUFwQixDQUFqQjtBQUNBLFNBQUtFLFlBQUw7QUFDQSxTQUFLRCxTQUFMLENBQWVFLEdBQWYsQ0FBbUIsS0FBS1AsU0FBTCxDQUFlRSxLQUFmLENBQXFCTSxXQUFyQixFQUFuQjs7QUFFQUMsTUFBRUMsUUFBRixFQUFZQyxRQUFaLENBQXFCLFVBQUNDLENBQUQsRUFBTztBQUMxQixVQUFJQSxFQUFFQyxRQUFGLEtBQWUsRUFBbkIsRUFBdUI7QUFDckI7QUFDQSxjQUFLQyxTQUFMO0FBQ0Q7QUFDRixLQUxEO0FBTUQ7Ozs7Z0NBRVc7QUFDVixVQUFJQyxXQUFKO0FBQ0EsV0FBS2IsS0FBTCxDQUFXYyxNQUFYO0FBQ0FELG9CQUFjLEtBQUtkLFNBQUwsQ0FBZUcsSUFBZixDQUFvQixzQkFBcEIsQ0FBZDtBQUNBVyxrQkFBWUUsV0FBWixDQUF3QixZQUF4QixFQUFzQyxDQUFDLEtBQUtmLEtBQUwsQ0FBV2dCLFVBQWxEO0FBQ0FILGtCQUFZRSxXQUFaLENBQXdCLFdBQXhCLEVBQXFDLEtBQUtmLEtBQUwsQ0FBV2dCLFVBQWhEO0FBQ0Q7OzttQ0FFYztBQUFBOztBQUNiLFVBQUlILGNBQWMsS0FBS2QsU0FBTCxDQUFlRyxJQUFmLENBQW9CLHNCQUFwQixDQUFsQjtBQUNBVyxrQkFBWUksS0FBWixDQUFrQixVQUFDUCxDQUFELEVBQU87QUFDdkJBLFVBQUVRLGNBQUY7QUFDQSxlQUFLTixTQUFMO0FBQ0QsT0FIRDtBQUlBLFVBQUlPLFlBQVksS0FBS3BCLFNBQUwsQ0FBZUcsSUFBZixDQUFvQixpQkFBcEIsQ0FBaEI7QUFDQWlCLGdCQUFVRixLQUFWLENBQWdCLFVBQUNQLENBQUQsRUFBTztBQUNyQkEsVUFBRVEsY0FBRjtBQUNBLGVBQUtsQixLQUFMLENBQVdvQixJQUFYLENBQWdCLENBQUMsQ0FBRCxDQUFoQjtBQUNELE9BSEQ7QUFJQSxVQUFJQyxXQUFXLEtBQUt0QixTQUFMLENBQWVHLElBQWYsQ0FBb0IsZ0JBQXBCLENBQWY7QUFDQW1CLGVBQVNKLEtBQVQsQ0FBZSxVQUFDUCxDQUFELEVBQU87QUFDcEJBLFVBQUVRLGNBQUY7QUFDQSxZQUFJSSxRQUFRLE9BQUt4QixTQUFMLENBQWV5QixnQkFBZixFQUFaO0FBQ0EsZUFBS3ZCLEtBQUwsQ0FBV29CLElBQVgsQ0FBZ0IsQ0FBQ0UsUUFBUSxJQUFULENBQWhCO0FBQ0QsT0FKRDtBQUtBLFdBQUtyQixLQUFMLENBQVd1QixNQUFYLENBQWtCLFlBQU07QUFDdEIsWUFBSUMsVUFBVUMsV0FBVyxPQUFLekIsS0FBTCxDQUFXSSxHQUFYLEVBQVgsRUFBNkIsRUFBN0IsSUFBbUMsSUFBakQ7QUFDQSxlQUFLTCxLQUFMLENBQVdvQixJQUFYLENBQWdCLENBQUNLLE9BQUQsQ0FBaEI7QUFDRCxPQUhEO0FBSUEsV0FBS3RCLFNBQUwsQ0FBZXFCLE1BQWYsQ0FBc0IsWUFBTTtBQUMxQixZQUFJQyxVQUFVQyxXQUFXLE9BQUt2QixTQUFMLENBQWVFLEdBQWYsRUFBWCxFQUFpQyxFQUFqQyxDQUFkO0FBQ0EsZUFBS0wsS0FBTCxDQUFXMkIsV0FBWCxDQUF1QkYsT0FBdkI7QUFDRCxPQUhEO0FBSUQ7OzsyQkFFTUcsSSxFQUFNQyxZLEVBQWM7QUFDekIsVUFBSUEsWUFBSixFQUFrQjtBQUNoQixZQUFJSixVQUFVRyxPQUFPLElBQXJCO0FBQ0EsYUFBSzNCLEtBQUwsQ0FBV0ksR0FBWCxDQUFlb0IsUUFBUUssT0FBUixDQUFnQixDQUFoQixDQUFmO0FBQ0Q7QUFDRjs7Ozs7O2tCQTFEa0JqQyxjIiwiZmlsZSI6IjUwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRWRpdG9yQ29udHJvbHMge1xuICBjb25zdHJ1Y3Rvcih0d2VlblRpbWUsICR0aW1lbGluZSkge1xuICAgIHRoaXMudHdlZW5UaW1lID0gdHdlZW5UaW1lO1xuICAgIHRoaXMuJHRpbWVsaW5lID0gJHRpbWVsaW5lO1xuICAgIHRoaXMudGltZXIgPSB0aGlzLnR3ZWVuVGltZS50aW1lcjtcbiAgICB0aGlzLiR0aW1lID0gdGhpcy4kdGltZWxpbmUuZmluZCgnLmNvbnRyb2wtLXRpbWUnKTtcbiAgICB0aGlzLiR0aW1lX2VuZCA9IHRoaXMuJHRpbWVsaW5lLmZpbmQoJy5jb250cm9sLS10aW1lLWVuZCcpO1xuICAgIHRoaXMuaW5pdENvbnRyb2xzKCk7XG4gICAgdGhpcy4kdGltZV9lbmQudmFsKHRoaXMudHdlZW5UaW1lLnRpbWVyLmdldER1cmF0aW9uKCkpO1xuXG4gICAgJChkb2N1bWVudCkua2V5cHJlc3MoKGUpID0+IHtcbiAgICAgIGlmIChlLmNoYXJDb2RlID09PSAzMikge1xuICAgICAgICAvLyBTcGFjZVxuICAgICAgICB0aGlzLnBsYXlQYXVzZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgcGxheVBhdXNlKCkge1xuICAgIHZhciAkcGxheV9wYXVzZTtcbiAgICB0aGlzLnRpbWVyLnRvZ2dsZSgpO1xuICAgICRwbGF5X3BhdXNlID0gdGhpcy4kdGltZWxpbmUuZmluZCgnLmNvbnRyb2wtLXBsYXktcGF1c2UnKTtcbiAgICAkcGxheV9wYXVzZS50b2dnbGVDbGFzcygnaWNvbi1wYXVzZScsICF0aGlzLnRpbWVyLmlzX3BsYXlpbmcpO1xuICAgICRwbGF5X3BhdXNlLnRvZ2dsZUNsYXNzKCdpY29uLXBsYXknLCB0aGlzLnRpbWVyLmlzX3BsYXlpbmcpO1xuICB9XG5cbiAgaW5pdENvbnRyb2xzKCkge1xuICAgIHZhciAkcGxheV9wYXVzZSA9IHRoaXMuJHRpbWVsaW5lLmZpbmQoJy5jb250cm9sLS1wbGF5LXBhdXNlJyk7XG4gICAgJHBsYXlfcGF1c2UuY2xpY2soKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMucGxheVBhdXNlKCk7XG4gICAgfSk7XG4gICAgdmFyICRidF9maXJzdCA9IHRoaXMuJHRpbWVsaW5lLmZpbmQoJy5jb250cm9sLS1maXJzdCcpO1xuICAgICRidF9maXJzdC5jbGljaygoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy50aW1lci5zZWVrKFswXSk7XG4gICAgfSk7XG4gICAgdmFyICRidF9sYXN0ID0gdGhpcy4kdGltZWxpbmUuZmluZCgnLmNvbnRyb2wtLWxhc3QnKTtcbiAgICAkYnRfbGFzdC5jbGljaygoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdmFyIHRvdGFsID0gdGhpcy50d2VlblRpbWUuZ2V0VG90YWxEdXJhdGlvbigpO1xuICAgICAgdGhpcy50aW1lci5zZWVrKFt0b3RhbCAqIDEwMDBdKTtcbiAgICB9KTtcbiAgICB0aGlzLiR0aW1lLmNoYW5nZSgoKSA9PiB7XG4gICAgICB2YXIgc2Vjb25kcyA9IHBhcnNlRmxvYXQodGhpcy4kdGltZS52YWwoKSwgMTApICogMTAwMDtcbiAgICAgIHRoaXMudGltZXIuc2Vlayhbc2Vjb25kc10pO1xuICAgIH0pO1xuICAgIHRoaXMuJHRpbWVfZW5kLmNoYW5nZSgoKSA9PiB7XG4gICAgICB2YXIgc2Vjb25kcyA9IHBhcnNlRmxvYXQodGhpcy4kdGltZV9lbmQudmFsKCksIDEwKTtcbiAgICAgIHRoaXMudGltZXIuc2V0RHVyYXRpb24oc2Vjb25kcyk7XG4gICAgfSk7XG4gIH1cblxuICByZW5kZXIodGltZSwgdGltZV9jaGFuZ2VkKSB7XG4gICAgaWYgKHRpbWVfY2hhbmdlZCkge1xuICAgICAgdmFyIHNlY29uZHMgPSB0aW1lIC8gMTAwMDtcbiAgICAgIHRoaXMuJHRpbWUudmFsKHNlY29uZHMudG9GaXhlZCgzKSk7XG4gICAgfVxuICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9lZGl0b3IvRWRpdG9yQ29udHJvbHMuanMiXSwic291cmNlUm9vdCI6IiJ9")},function(module,exports,__webpack_require__){eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar d3 = __webpack_require__(15);\nvar Signals = __webpack_require__(6);\nvar _ = __webpack_require__(12);\n\nvar SelectionManager = function () {\n  function SelectionManager(tweenTime) {\n    _classCallCheck(this, SelectionManager);\n\n    this.tweenTime = tweenTime;\n    this.selection = [];\n    this.onSelect = new Signals.Signal();\n  }\n\n  _createClass(SelectionManager, [{\n    key: 'select',\n    value: function select(item) {\n      var addToSelection = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      if (!addToSelection) {\n        this.selection = [];\n      }\n      if (item instanceof Array) {\n        for (var i = 0; i < item.length; i++) {\n          var el = item[i];\n          this.selection.push(el);\n        }\n      } else {\n        this.selection.push(item);\n      }\n\n      this.removeDuplicates();\n      this.highlightItems();\n      this.sortSelection();\n      this.onSelect.dispatch(this.selection, addToSelection);\n    }\n  }, {\n    key: 'getSelection',\n    value: function getSelection() {\n      return this.selection;\n    }\n  }, {\n    key: 'removeDuplicates',\n    value: function removeDuplicates() {\n      var result = [];\n      for (var i = 0; i < this.selection.length; i++) {\n        var item = this.selection[i];\n        var found = false;\n        for (var j = 0; j < result.length; j++) {\n          var item2 = result[j];\n          if (_.isEqual(item, item2)) {\n            found = true;\n            break;\n          }\n        }\n        if (found === false) {\n          result.push(item);\n        }\n      }\n      this.selection = result;\n    }\n  }, {\n    key: 'removeItem',\n    value: function removeItem(item) {\n      // If we pass an _id then search for the item and remove it.\n      if (typeof item === 'string') {\n        var itemObj = _.find(this.selection, function (el) {\n          return el._id === item;\n        });\n        if (itemObj) {\n          return this.removeItem(itemObj);\n        }\n      }\n\n      // Remove the object if it exists in the selection.\n      var index = this.selection.indexOf(item);\n      if (index > -1) {\n        this.selection.splice(index, 1);\n      }\n      this.triggerSelect();\n    }\n  }, {\n    key: 'sortSelection',\n    value: function sortSelection() {\n      var compare = function compare(a, b) {\n        if (!a.time || !b.time) {\n          return 0;\n        }\n        if (a.time < b.time) {\n          return -1;\n        }\n        if (a.time > b.time) {\n          return 1;\n        }\n        return 0;\n      };\n      this.selection = this.selection.sort(compare);\n    }\n  }, {\n    key: 'reset',\n    value: function reset() {\n      this.selection = [];\n      this.highlightItems();\n      this.onSelect.dispatch(this.selection, false);\n    }\n  }, {\n    key: 'triggerSelect',\n    value: function triggerSelect() {\n      this.onSelect.dispatch(this.selection, false);\n    }\n  }, {\n    key: 'highlightItems',\n    value: function highlightItems() {\n      d3.selectAll('.bar--selected').classed('bar--selected', false);\n      d3.selectAll('.key--selected').classed('key--selected', false);\n\n      for (var i = 0; i < this.selection.length; i++) {\n        var data = this.selection[i];\n        if (data._dom) {\n          var d3item = d3.select(data._dom);\n          if (d3item.classed('bar')) {\n            d3item.classed('bar--selected', true);\n          } else if (d3item.classed('key')) {\n            d3item.classed('key--selected', true);\n          }\n        }\n      }\n    }\n  }]);\n\n  return SelectionManager;\n}();\n\nexports.default = SelectionManager;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9lZGl0b3IvU2VsZWN0aW9uTWFuYWdlci5qcz8zNjIzIl0sIm5hbWVzIjpbImQzIiwicmVxdWlyZSIsIlNpZ25hbHMiLCJfIiwiU2VsZWN0aW9uTWFuYWdlciIsInR3ZWVuVGltZSIsInNlbGVjdGlvbiIsIm9uU2VsZWN0IiwiU2lnbmFsIiwiaXRlbSIsImFkZFRvU2VsZWN0aW9uIiwiQXJyYXkiLCJpIiwibGVuZ3RoIiwiZWwiLCJwdXNoIiwicmVtb3ZlRHVwbGljYXRlcyIsImhpZ2hsaWdodEl0ZW1zIiwic29ydFNlbGVjdGlvbiIsImRpc3BhdGNoIiwicmVzdWx0IiwiZm91bmQiLCJqIiwiaXRlbTIiLCJpc0VxdWFsIiwiaXRlbU9iaiIsImZpbmQiLCJfaWQiLCJyZW1vdmVJdGVtIiwiaW5kZXgiLCJpbmRleE9mIiwic3BsaWNlIiwidHJpZ2dlclNlbGVjdCIsImNvbXBhcmUiLCJhIiwiYiIsInRpbWUiLCJzb3J0Iiwic2VsZWN0QWxsIiwiY2xhc3NlZCIsImRhdGEiLCJfZG9tIiwiZDNpdGVtIiwic2VsZWN0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUEsSUFBSUEsS0FBSyxtQkFBQUMsQ0FBUSxFQUFSLENBQVQ7QUFDQSxJQUFJQyxVQUFVLG1CQUFBRCxDQUFRLENBQVIsQ0FBZDtBQUNBLElBQUlFLElBQUksbUJBQUFGLENBQVEsRUFBUixDQUFSOztJQUVxQkcsZ0I7QUFDbkIsNEJBQVlDLFNBQVosRUFBdUI7QUFBQTs7QUFDckIsU0FBS0EsU0FBTCxHQUFpQkEsU0FBakI7QUFDQSxTQUFLQyxTQUFMLEdBQWlCLEVBQWpCO0FBQ0EsU0FBS0MsUUFBTCxHQUFnQixJQUFJTCxRQUFRTSxNQUFaLEVBQWhCO0FBQ0Q7Ozs7MkJBRU1DLEksRUFBOEI7QUFBQSxVQUF4QkMsY0FBd0IsdUVBQVAsS0FBTzs7QUFDbkMsVUFBSSxDQUFDQSxjQUFMLEVBQXFCO0FBQ25CLGFBQUtKLFNBQUwsR0FBaUIsRUFBakI7QUFDRDtBQUNELFVB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LENBQWNZLFFBQWQsQ0FBdUIsS0FBS2IsU0FBNUIsRUFBdUMsS0FBdkM7QUFDRDs7O3FDQUVnQjtBQUNmTixTQUFHc0MsU0FBSCxDQUFhLGdCQUFiLEVBQStCQyxPQUEvQixDQUF1QyxlQUF2QyxFQUF3RCxLQUF4RDtBQUNBdkMsU0FBR3NDLFNBQUgsQ0FBYSxnQkFBYixFQUErQkMsT0FBL0IsQ0FBdUMsZUFBdkMsRUFBd0QsS0FBeEQ7O0FBRUEsV0FBSyxJQUFJM0IsSUFBSSxDQUFiLEVBQWdCQSxJQUFJLEtBQUtOLFNBQUwsQ0FBZU8sTUFBbkMsRUFBMkNELEdBQTNDLEVBQWdEO0FBQzlDLFlBQUk0QixPQUFPLEtBQUtsQyxTQUFMLENBQWVNLENBQWYsQ0FBWDtBQUNBLFlBQUk0QixLQUFLQyxJQUFULEVBQWU7QUFDYixjQUFJQyxTQUFTMUMsR0FBRzJDLE1BQUgsQ0FBVUgsS0FBS0MsSUFBZixDQUFiO0FBQ0EsY0FBSUMsT0FBT0gsT0FBUCxDQUFlLEtBQWYsQ0FBSixFQUEyQjtBQUN6QkcsbUJBQU9ILE9BQVAsQ0FBZSxlQUFmLEVBQWdDLElBQWhDO0FBQ0QsV0FGRCxNQUdLLElBQUlHLE9BQU9ILE9BQVAsQ0FBZSxLQUFmLENBQUosRUFBMkI7QUFDOUJHLG1CQUFPSCxPQUFQLENBQWUsZUFBZixFQUFnQyxJQUFoQztBQUNEO0FBQ0Y7QUFDRjtBQUNGOzs7Ozs7a0JBL0drQm5DLGdCIiwiZmlsZSI6IjUxLmpzIiwic291cmNlc0NvbnRlbnQiOlsibGV0IGQzID0gcmVxdWlyZSgnZDMnKTtcbmxldCBTaWduYWxzID0gcmVxdWlyZSgnanMtc2lnbmFscycpO1xubGV0IF8gPSByZXF1aXJlKCdsb2Rhc2gnKTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VsZWN0aW9uTWFuYWdlciB7XG4gIGNvbnN0cnVjdG9yKHR3ZWVuVGltZSkge1xuICAgIHRoaXMudHdlZW5UaW1lID0gdHdlZW5UaW1lO1xuICAgIHRoaXMuc2VsZWN0aW9uID0gW107XG4gICAgdGhpcy5vblNlbGVjdCA9IG5ldyBTaWduYWxzLlNpZ25hbCgpO1xuICB9XG5cbiAgc2VsZWN0KGl0ZW0sIGFkZFRvU2VsZWN0aW9uID0gZmFsc2UpIHtcbiAgICBpZiAoIWFkZFRvU2VsZWN0aW9uKSB7XG4gICAgICB0aGlzLnNlbGVjdGlvbiA9IFtdO1xuICAgIH1cbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGl0ZW0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGVsID0gaXRlbVtpXTtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb24ucHVzaChlbCk7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5zZWxlY3Rpb24ucHVzaChpdGVtKTtcbiAgICB9XG5cbiAgICB0aGlzLnJlbW92ZUR1cGxpY2F0ZXMoKTtcbiAgICB0aGlzLmhpZ2hsaWdodEl0ZW1zKCk7XG4gICAgdGhpcy5zb3J0U2VsZWN0aW9uKCk7XG4gICAgdGhpcy5vblNlbGVjdC5kaXNwYXRjaCh0aGlzLnNlbGVjdGlvbiwgYWRkVG9TZWxlY3Rpb24pO1xuICB9XG5cbiAgZ2V0U2VsZWN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnNlbGVjdGlvbjtcbiAgfVxuXG4gIHJlbW92ZUR1cGxpY2F0ZXMoKSB7XG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zZWxlY3Rpb24ubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpdGVtID0gdGhpcy5zZWxlY3Rpb25baV07XG4gICAgICB2YXIgZm91bmQgPSBmYWxzZTtcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgcmVzdWx0Lmxlbmd0aDsgaisrKSB7XG4gICAgICAgIHZhciBpdGVtMiA9IHJlc3VsdFtqXTtcbiAgICAgICAgaWYgKF8uaXNFcXVhbChpdGVtLCBpdGVtMikpIHtcbiAgICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChmb3VuZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmVzdWx0LnB1c2goaXRlbSk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuc2VsZWN0aW9uID0gcmVzdWx0O1xuICB9XG5cbiAgcmVtb3ZlSXRlbShpdGVtKSB7XG4gICAgLy8gSWYgd2UgcGFzcyBhbiBfaWQgdGhlbiBzZWFyY2ggZm9yIHRoZSBpdGVtIGFuZCByZW1vdmUgaXQuXG4gICAgaWYgKHR5cGVvZiBpdGVtID09PSAnc3RyaW5nJykge1xuICAgICAgbGV0IGl0ZW1PYmogPSBfLmZpbmQodGhpcy5zZWxlY3Rpb24sIGZ1bmN0aW9uKGVsKSB7XG4gICAgICAgIHJldHVybiBlbC5faWQgPT09IGl0ZW07XG4gICAgICB9KTtcbiAgICAgIGlmIChpdGVtT2JqKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbW92ZUl0ZW0oaXRlbU9iaik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gUmVtb3ZlIHRoZSBvYmplY3QgaWYgaXQgZXhpc3RzIGluIHRoZSBzZWxlY3Rpb24uXG4gICAgdmFyIGluZGV4ID0gdGhpcy5zZWxlY3Rpb24uaW5kZXhPZihpdGVtKTtcbiAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgdGhpcy5zZWxlY3Rpb24uc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG4gICAgdGhpcy50cmlnZ2VyU2VsZWN0KCk7XG4gIH1cblxuICBzb3J0U2VsZWN0aW9uKCkge1xuICAgIHZhciBjb21wYXJlID0gZnVuY3Rpb24oYSwgYikge1xuICAgICAgaWYgKCFhLnRpbWUgfHwgIWIudGltZSkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH1cbiAgICAgIGlmIChhLnRpbWUgPCBiLnRpbWUpIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgfVxuICAgICAgaWYgKGEudGltZSA+IGIudGltZSkge1xuICAgICAgICByZXR1cm4gMTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAwO1xuICAgIH07XG4gICAgdGhpcy5zZWxlY3Rpb24gPSB0aGlzLnNlbGVjdGlvbi5zb3J0KGNvbXBhcmUpO1xuICB9XG5cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5zZWxlY3Rpb24gPSBbXTtcbiAgICB0aGlzLmhpZ2hsaWdodEl0ZW1zKCk7XG4gICAgdGhpcy5vblNlbGVjdC5kaXNwYXRjaCh0aGlzLnNlbGVjdGlvbiwgZmFsc2UpO1xuICB9XG5cbiAgdHJpZ2dlclNlbGVjdCgpIHtcbiAgICB0aGlzLm9uU2VsZWN0LmRpc3BhdGNoKHRoaXMuc2VsZWN0aW9uLCBmYWxzZSk7XG4gIH1cblxuICBoaWdobGlnaHRJdGVtcygpIHtcbiAgICBkMy5zZWxlY3RBbGwoJy5iYXItLXNlbGVjdGVkJykuY2xhc3NlZCgnYmFyLS1zZWxlY3RlZCcsIGZhbHNlKTtcbiAgICBkMy5zZWxlY3RBbGwoJy5rZXktLXNlbGVjdGVkJykuY2xhc3NlZCgna2V5LS1zZWxlY3RlZCcsIGZhbHNlKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zZWxlY3Rpb24ubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5zZWxlY3Rpb25baV07XG4gICAgICBpZiAoZGF0YS5fZG9tKSB7XG4gICAgICAgIHZhciBkM2l0ZW0gPSBkMy5zZWxlY3QoZGF0YS5fZG9tKTtcbiAgICAgICAgaWYgKGQzaXRlbS5jbGFzc2VkKCdiYXInKSkge1xuICAgICAgICAgIGQzaXRlbS5jbGFzc2VkKCdiYXItLXNlbGVjdGVkJywgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZDNpdGVtLmNsYXNzZWQoJ2tleScpKSB7XG4gICAgICAgICAgZDNpdGVtLmNsYXNzZWQoJ2tleS0tc2VsZWN0ZWQnLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vZWRpdG9yL1NlbGVjdGlvbk1hbmFnZXIuanMiXSwic291cmNlUm9vdCI6IiJ9");
},function(module,exports){eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Exporter = function () {\n  function Exporter(editor) {\n    _classCallCheck(this, Exporter);\n\n    this.editor = editor;\n  }\n\n  _createClass(Exporter, [{\n    key: 'getData',\n    value: function getData() {\n      var tweenTime = this.editor.tweenTime;\n      var domain = this.editor.timeline.x.domain();\n      var domain_start = domain[0];\n      var domain_end = domain[1];\n      return {\n        settings: {\n          time: tweenTime.timer.getCurrentTime(),\n          duration: tweenTime.timer.getDuration(),\n          domain: [domain_start.getTime(), domain_end.getTime()]\n        },\n        data: tweenTime.data\n      };\n    }\n  }, {\n    key: 'getJSON',\n    value: function getJSON() {\n      var options = this.editor.options;\n      var json_replacer = function json_replacer(key, val) {\n        // Disable all private properies from TweenMax/TimelineMax\n        if (key.indexOf('_') === 0) {\n          return undefined;\n        }\n        if (options.json_replacer !== undefined) {\n          return options.json_replacer(key, val);\n        }\n        return val;\n      };\n\n      var data = this.getData();\n      // Give the possibility to add your own data in the export.\n      // ex: new Editor({getJSON: function(data) {data.test = 42; return data;} })\n      if (typeof this.editor.options.getJSON !== 'undefined') {\n        data = this.editor.options.getJSON(data);\n      }\n      return JSON.stringify(data, json_replacer, 2);\n    }\n  }]);\n\n  return Exporter;\n}();\n\nexports.default = Exporter;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9lZGl0b3IvRXhwb3J0ZXIuanM/YjE3YyJdLCJuYW1lcyI6WyJFeHBvcnRlciIsImVkaXRvciIsInR3ZWVuVGltZSIsImRvbWFpbiIsInRpbWVsaW5lIiwieCIsImRvbWFpbl9zdGFydCIsImRvbWFpbl9lbmQiLCJzZXR0aW5ncyIsInRpbWUiLCJ0aW1lciIsImdldEN1cnJlbnRUaW1lIiwiZHVyYXRpb24iLCJnZXREdXJhdGlvbiIsImdldFRpbWUiLCJkYXRhIiwib3B0aW9ucyIsImpzb25fcmVwbGFjZXIiLCJrZXkiLCJ2YWwiLCJpbmRleE9mIiwidW5kZWZpbmVkIiwiZ2V0RGF0YSIsImdldEpTT04iLCJKU09OIiwic3RyaW5naWZ5Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0lBQXFCQSxRO0FBQ25CLG9CQUFZQyxNQUFaLEVBQW9CO0FBQUE7O0FBQ2xCLFNBQUtBLE1BQUwsR0FBY0EsTUFBZDtBQUNEOzs7OzhCQUVTO0FBQ1IsVUFBSUMsWUFBWSxLQUFLRCxNQUFMLENBQVlDLFNBQTVCO0FBQ0EsVUFBSUMsU0FBUyxLQUFLRixNQUFMLENBQVlHLFFBQVosQ0FBcUJDLENBQXJCLENBQXVCRixNQUF2QixFQUFiO0FBQ0EsVUFBSUcsZUFBZUgsT0FBTyxDQUFQLENBQW5CO0FBQ0EsVUFBSUksYUFBYUosT0FBTyxDQUFQLENBQWpCO0FBQ0EsYUFBTztBQUNMSyxrQkFBVTtBQUNSQyxnQkFBTVAsVUFBVVEsS0FBVixDQUFnQkMsY0FBaEIsRUFERTtBQUVSQyxvQkFBVVYsVUFBVVEsS0FBVixDQUFnQkcsV0FBaEIsRUFGRjtBQUdSVixrQkFBUSxDQUFDRyxhQUFhUSxPQUFiLEVBQUQsRUFBeUJQLFdBQVdPLE9BQVgsRUFBekI7QUFIQSxTQURMO0FBTUxDLGNBQU1iLFVBQVVhO0FBTlgsT0FBUDtBQVFEOzs7OEJBRVM7QUFDUixVQUFJQyxVQUFVLEtBQUtmLE1BQUwsQ0FBWWUsT0FBMUI7QUFDQSxVQUFJQyxnQkFBZ0IsU0FBaEJBLGFBQWdCLENBQVNDLEdBQVQsRUFBY0MsR0FBZCxFQUFtQjtBQUNyQztBQUNBLFlBQUlELElBQUlFLE9BQUosQ0FBWSxHQUFaLE1BQXFCLENBQXpCLEVBQTRCO0FBQzFCLGlCQUFPQyxTQUFQO0FBQ0Q7QUFDRCxZQUFJTCxRQUFRQyxhQUFSLEtBQTBCSSxTQUE5QixFQUF5QztBQUN2QyxpQkFBT0wsUUFBUUMsYUFBUixDQUFzQkMsR0FBdEIsRUFBMkJDLEdBQTNCLENBQVA7QUFDRDtBQUNELGVBQU9BLEdBQVA7QUFDRCxPQVREOztBQVdBLFVBQUlKLE9BQU8sS0FBS08sT0FBTCxFQUFYO0FBQ0E7QUFDQTtBQUNBLFVBQUksT0FBTyxLQUFLckIsTUFBTCxDQUFZZSxPQUFaLENBQW9CTyxPQUEzQixLQUF1QyxXQUEzQyxFQUF3RDtBQUN0RFIsZUFBTyxLQUFLZCxNQUFMLENBQVllLE9BQVosQ0FBb0JPLE9BQXBCLENBQTRCUixJQUE1QixDQUFQO0FBQ0Q7QUFDRCxhQUFPUyxLQUFLQyxTQUFMLENBQWVWLElBQWYsRUFBcUJFLGFBQXJCLEVBQW9DLENBQXBDLENBQVA7QUFDRDs7Ozs7O2tCQXhDa0JqQixRIiwiZmlsZSI6IjUyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRXhwb3J0ZXIge1xuICBjb25zdHJ1Y3RvcihlZGl0b3IpIHtcbiAgICB0aGlzLmVkaXRvciA9IGVkaXRvcjtcbiAgfVxuXG4gIGdldERhdGEoKSB7XG4gICAgdmFyIHR3ZWVuVGltZSA9IHRoaXMuZWRpdG9yLnR3ZWVuVGltZTtcbiAgICB2YXIgZG9tYWluID0gdGhpcy5lZGl0b3IudGltZWxpbmUueC5kb21haW4oKTtcbiAgICB2YXIgZG9tYWluX3N0YXJ0ID0gZG9tYWluWzBdO1xuICAgIHZhciBkb21haW5fZW5kID0gZG9tYWluWzFdO1xuICAgIHJldHVybiB7XG4gICAgICBzZXR0aW5nczoge1xuICAgICAgICB0aW1lOiB0d2VlblRpbWUudGltZXIuZ2V0Q3VycmVudFRpbWUoKSxcbiAgICAgICAgZHVyYXRpb246IHR3ZWVuVGltZS50aW1lci5nZXREdXJhdGlvbigpLFxuICAgICAgICBkb21haW46IFtkb21haW5fc3RhcnQuZ2V0VGltZSgpLCBkb21haW5fZW5kLmdldFRpbWUoKV1cbiAgICAgIH0sXG4gICAgICBkYXRhOiB0d2VlblRpbWUuZGF0YVxuICAgIH07XG4gIH1cblxuICBnZXRKU09OKCkge1xuICAgIHZhciBvcHRpb25zID0gdGhpcy5lZGl0b3Iub3B0aW9ucztcbiAgICB2YXIganNvbl9yZXBsYWNlciA9IGZ1bmN0aW9uKGtleSwgdmFsKSB7XG4gICAgICAvLyBEaXNhYmxlIGFsbCBwcml2YXRlIHByb3BlcmllcyBmcm9tIFR3ZWVuTWF4L1RpbWVsaW5lTWF4XG4gICAgICBpZiAoa2V5LmluZGV4T2YoJ18nKSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgaWYgKG9wdGlvbnMuanNvbl9yZXBsYWNlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBvcHRpb25zLmpzb25fcmVwbGFjZXIoa2V5LCB2YWwpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbDtcbiAgICB9O1xuXG4gICAgdmFyIGRhdGEgPSB0aGlzLmdldERhdGEoKTtcbiAgICAvLyBHaXZlIHRoZSBwb3NzaWJpbGl0eSB0byBhZGQgeW91ciBvd24gZGF0YSBpbiB0aGUgZXhwb3J0LlxuICAgIC8vIGV4OiBuZXcgRWRpdG9yKHtnZXRKU09OOiBmdW5jdGlvbihkYXRhKSB7ZGF0YS50ZXN0ID0gNDI7IHJldHVybiBkYXRhO30gfSlcbiAgICBpZiAodHlwZW9mIHRoaXMuZWRpdG9yLm9wdGlvbnMuZ2V0SlNPTiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGRhdGEgPSB0aGlzLmVkaXRvci5vcHRpb25zLmdldEpTT04oZGF0YSk7XG4gICAgfVxuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShkYXRhLCBqc29uX3JlcGxhY2VyLCAyKTtcbiAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vZWRpdG9yL0V4cG9ydGVyLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==")},function(module,exports,__webpack_require__){eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\n__webpack_require__(25);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar UndoManager = function () {\n  function UndoManager(editor) {\n    var _this = this;\n\n    _classCallCheck(this, UndoManager);\n\n    this.editor = editor;\n    this.history_max = 100;\n    this.history = [];\n    this.current_index = 0;\n\n    // Add the initial state\n    this.addState();\n\n    $(document).keydown(function (e) {\n      if (e.keyCode === 90) {\n        if (e.metaKey || e.ctrlKey) {\n          if (!e.shiftKey) {\n            // (command | ctrl) Z\n            _this.undo();\n          } else {\n            // (command | ctrl) shift Z\n            _this.redo();\n          }\n        }\n      }\n    });\n  }\n\n  _createClass(UndoManager, [{\n    key: 'undo',\n    value: function undo() {\n      // If there is no more history return\n      if (this.current_index <= 0) {\n        return false;\n      }\n      this.current_index -= 1;\n      this.setState(this.current_index);\n    }\n  }, {\n    key: 'redo',\n    value: function redo() {\n      // Stop if there is no more things.\n      if (this.current_index >= this.history.length - 1) {\n        return false;\n      }\n      this.current_index += 1;\n      this.setState(this.current_index);\n    }\n  }, {\n    key: 'addState',\n    value: function addState() {\n      var data = JSON.parse(this.editor.exporter.getJSON());\n\n      // if we did some undo before and then edit something,\n      // we want to remove all actions past the current index first.\n      if (this.current_index + 1 < this.history.length) {\n        this.history.splice(this.current_index + 1, this.history.length - 1);\n      }\n\n      this.history.push(data);\n\n      // Keep history to a max size by removing the first element if needed.\n      if (this.history.length > this.history_max) {\n        this.history.shift();\n      }\n\n      // Set the current index\n      this.current_index = this.history.length - 1;\n    }\n  }, {\n    key: 'setState',\n    value: function setState(index) {\n      var state = this.history[index];\n      var data = state.data;\n      var tweenTime = this.editor.tweenTime;\n\n      // naively copy keys and values from previous state\n      for (var item_key = 0; item_key < data.length; item_key++) {\n        var item = data[item_key];\n        // if item is not defined copy it\n        if (!tweenTime.data[item_key]) {\n          tweenTime.data[item_key] = item;\n        } else {\n          for (var prop_key = 0; prop_key < item.properties.length; prop_key++) {\n            var prop = item.properties[prop_key];\n            // if property is not defined copy it\n            if (!tweenTime.data[item_key].properties[prop_key]) {\n              tweenTime.data[item_key].properties[prop_key] = prop;\n            } else {\n              // set property keys\n              var keys = tweenTime.data[item_key].properties[prop_key].keys;\n              for (var key_key = 0; key_key < prop.keys.length; key_key++) {\n                var key = prop.keys[key_key];\n                if (!keys[key_key]) {\n                  keys[key_key] = key;\n                } else {\n                  keys[key_key].time = key.time;\n                  keys[key_key].val = key.val;\n                  keys[key_key].ease = key.ease;\n                }\n              }\n            }\n          }\n        }\n\n        tweenTime.data[item_key]._isDirty = true;\n      }\n      this.editor.render(false, true);\n    }\n  }]);\n\n  return UndoManager;\n}();\n\nexports.default = UndoManager;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9lZGl0b3IvVW5kb01hbmFnZXIuanM/YzZiNyJdLCJuYW1lcyI6WyJVbmRvTWFuYWdlciIsImVkaXRvciIsImhpc3RvcnlfbWF4IiwiaGlzdG9yeSIsImN1cnJlbnRfaW5kZXgiLCJhZGRTdGF0ZSIsIiQiLCJkb2N1bWVudCIsImtleWRvd24iLCJlIiwia2V5Q29kZSIsIm1ldGFLZXkiLCJjdHJsS2V5Iiwic2hpZnRLZXkiLCJ1bmRvIiwicmVkbyIsInNldFN0YXRlIiwibGVuZ3RoIiwiZGF0YSIsIkpTT04iLCJwYXJzZSIsImV4cG9ydGVyIiwiZ2V0SlNPTiIsInNwbGljZSIsInB1c2giLCJzaGlmdCIsImluZGV4Iiwic3RhdGUiLCJ0d2VlblRpbWUiLCJpdGVtX2tleSIsIml0ZW0iLCJwcm9wX2tleSIsInByb3BlcnRpZXMiLCJwcm9wIiwia2V5cyIsImtleV9rZXkiLCJrZXkiLCJ0aW1lIiwidmFsIiwiZWFzZSIsIl9pc0RpcnR5IiwicmVuZGVyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBOzs7O0lBRXFCQSxXO0FBQ25CLHVCQUFZQyxNQUFaLEVBQW9CO0FBQUE7O0FBQUE7O0FBQ2xCLFNBQUtBLE1BQUwsR0FBY0EsTUFBZDtBQUNBLFNBQUtDLFdBQUwsR0FBbUIsR0FBbkI7QUFDQSxTQUFLQyxPQUFMLEdBQWUsRUFBZjtBQUNBLFNBQUtDLGFBQUwsR0FBcUIsQ0FBckI7O0FBRUE7QUFDQSxTQUFLQyxRQUFMOztBQUVBQyxNQUFFQyxRQUFGLEVBQVlDLE9BQVosQ0FBb0IsVUFBQ0MsQ0FBRCxFQUFPO0FBQ3pCLFVBQUlBLEVBQUVDLE9BQUYsS0FBYyxFQUFsQixFQUFzQjtBQUNwQixZQUFJRCxFQUFFRSxPQUFGLElBQWFGLEVBQUVHLE9BQW5CLEVBQTRCO0FBQzFCLGNBQUksQ0FBQ0gsRUFBRUksUUFBUCxFQUFpQjtBQUNmO0FBQ0Esa0JBQUtDLElBQUw7QUFDRCxXQUhELE1BSUs7QUFDSDtBQUNBLGtCQUFLQyxJQUFMO0FB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LElBQUlDLElBQXpCO0FBQ0FILHVCQUFLQyxPQUFMLEVBQWNHLEdBQWQsR0FBb0JGLElBQUlFLEdBQXhCO0FBQ0FKLHVCQUFLQyxPQUFMLEVBQWNJLElBQWQsR0FBcUJILElBQUlHLElBQXpCO0FBQ0Q7QUFDRjtBQUNGO0FBQ0Y7QUFDRjs7QUFFRFgsa0JBQVVWLElBQVYsQ0FBZVcsUUFBZixFQUF5QlcsUUFBekIsR0FBb0MsSUFBcEM7QUFDRDtBQUNELFdBQUt2QyxNQUFMLENBQVl3QyxNQUFaLENBQW1CLEtBQW5CLEVBQTBCLElBQTFCO0FBQ0Q7Ozs7OztrQkF4R2tCekMsVyIsImZpbGUiOiI1My5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAnanF1ZXJ5JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVW5kb01hbmFnZXIge1xuICBjb25zdHJ1Y3RvcihlZGl0b3IpIHtcbiAgICB0aGlzLmVkaXRvciA9IGVkaXRvcjtcbiAgICB0aGlzLmhpc3RvcnlfbWF4ID0gMTAwO1xuICAgIHRoaXMuaGlzdG9yeSA9IFtdO1xuICAgIHRoaXMuY3VycmVudF9pbmRleCA9IDA7XG5cbiAgICAvLyBBZGQgdGhlIGluaXRpYWwgc3RhdGVcbiAgICB0aGlzLmFkZFN0YXRlKCk7XG5cbiAgICAkKGRvY3VtZW50KS5rZXlkb3duKChlKSA9PiB7XG4gICAgICBpZiAoZS5rZXlDb2RlID09PSA5MCkge1xuICAgICAgICBpZiAoZS5tZXRhS2V5IHx8IGUuY3RybEtleSkge1xuICAgICAgICAgIGlmICghZS5zaGlmdEtleSkge1xuICAgICAgICAgICAgLy8gKGNvbW1hbmQgfCBjdHJsKSBaXG4gICAgICAgICAgICB0aGlzLnVuZG8oKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyAoY29tbWFuZCB8IGN0cmwpIHNoaWZ0IFpcbiAgICAgICAgICAgIHRoaXMucmVkbygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgdW5kbygpIHtcbiAgICAvLyBJZiB0aGVyZSBpcyBubyBtb3JlIGhpc3RvcnkgcmV0dXJuXG4gICAgaWYgKHRoaXMuY3VycmVudF9pbmRleCA8PSAwKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHRoaXMuY3VycmVudF9pbmRleCAtPSAxO1xuICAgIHRoaXMuc2V0U3RhdGUodGhpcy5jdXJyZW50X2luZGV4KTtcbiAgfVxuXG4gIHJlZG8oKSB7XG4gICAgLy8gU3RvcCBpZiB0aGVyZSBpcyBubyBtb3JlIHRoaW5ncy5cbiAgICBpZiAodGhpcy5jdXJyZW50X2luZGV4ID49IHRoaXMuaGlzdG9yeS5sZW5ndGggLSAxKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHRoaXMuY3VycmVudF9pbmRleCArPSAxO1xuICAgIHRoaXMuc2V0U3RhdGUodGhpcy5jdXJyZW50X2luZGV4KTtcbiAgfVxuXG4gIGFkZFN0YXRlKCkge1xuICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZSh0aGlzLmVkaXRvci5leHBvcnRlci5nZXRKU09OKCkpO1xuXG4gICAgLy8gaWYgd2UgZGlkIHNvbWUgdW5kbyBiZWZvcmUgYW5kIHRoZW4gZWRpdCBzb21ldGhpbmcsXG4gICAgLy8gd2Ugd2FudCB0byByZW1vdmUgYWxsIGFjdGlvbnMgcGFzdCB0aGUgY3VycmVudCBpbmRleCBmaXJzdC5cbiAgICBpZiAodGhpcy5jdXJyZW50X2luZGV4ICsgMSA8IHRoaXMuaGlzdG9yeS5sZW5ndGgpIHtcbiAgICAgIHRoaXMuaGlzdG9yeS5zcGxpY2UodGhpcy5jdXJyZW50X2luZGV4ICsgMSwgdGhpcy5oaXN0b3J5Lmxlbmd0aCAtIDEpO1xuICAgIH1cblxuICAgIHRoaXMuaGlzdG9yeS5wdXNoKGRhdGEpO1xuXG4gICAgLy8gS2VlcCBoaXN0b3J5IHRvIGEgbWF4IHNpemUgYnkgcmVtb3ZpbmcgdGhlIGZpcnN0IGVsZW1lbnQgaWYgbmVlZGVkLlxuICAgIGlmICh0aGlzLmhpc3RvcnkubGVuZ3RoID4gdGhpcy5oaXN0b3J5X21heCkge1xuICAgICAgdGhpcy5oaXN0b3J5LnNoaWZ0KCk7XG4gICAgfVxuXG4gICAgLy8gU2V0IHRoZSBjdXJyZW50IGluZGV4XG4gICAgdGhpcy5jdXJyZW50X2luZGV4ID0gdGhpcy5oaXN0b3J5Lmxlbmd0aCAtIDE7XG4gIH1cblxuICBzZXRTdGF0ZShpbmRleCkge1xuICAgIHZhciBzdGF0ZSA9IHRoaXMuaGlzdG9yeVtpbmRleF07XG4gICAgdmFyIGRhdGEgPSBzdGF0ZS5kYXRhO1xuICAgIHZhciB0d2VlblRpbWUgPSB0aGlzLmVkaXRvci50d2VlblRpbWU7XG5cbiAgICAvLyBuYWl2ZWx5IGNvcHkga2V5cyBhbmQgdmFsdWVzIGZyb20gcHJldmlvdXMgc3RhdGVcbiAgICBmb3IgKHZhciBpdGVtX2tleSA9IDA7IGl0ZW1fa2V5IDwgZGF0YS5sZW5ndGg7IGl0ZW1fa2V5KyspIHtcbiAgICAgIHZhciBpdGVtID0gZGF0YVtpdGVtX2tleV07XG4gICAgICAvLyBpZiBpdGVtIGlzIG5vdCBkZWZpbmVkIGNvcHkgaXRcbiAgICAgIGlmICghdHdlZW5UaW1lLmRhdGFbaXRlbV9rZXldKSB7XG4gICAgICAgIHR3ZWVuVGltZS5kYXRhW2l0ZW1fa2V5XSA9IGl0ZW07XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgZm9yICh2YXIgcHJvcF9rZXkgPSAwOyBwcm9wX2tleSA8IGl0ZW0ucHJvcGVydGllcy5sZW5ndGg7IHByb3Bfa2V5KyspIHtcbiAgICAgICAgICB2YXIgcHJvcCA9IGl0ZW0ucHJvcGVydGllc1twcm9wX2tleV07XG4gICAgICAgICAgLy8gaWYgcHJvcGVydHkgaXMgbm90IGRlZmluZWQgY29weSBpdFxuICAgICAgICAgIGlmICghdHdlZW5UaW1lLmRhdGFbaXRlbV9rZXldLnByb3BlcnRpZXNbcHJvcF9rZXldKSB7XG4gICAgICAgICAgICB0d2VlblRpbWUuZGF0YVtpdGVtX2tleV0ucHJvcGVydGllc1twcm9wX2tleV0gPSBwcm9wO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIHNldCBwcm9wZXJ0eSBrZXlzXG4gICAgICAgICAgICB2YXIga2V5cyA9IHR3ZWVuVGltZS5kYXRhW2l0ZW1fa2V5XS5wcm9wZXJ0aWVzW3Byb3Bfa2V5XS5rZXlzO1xuICAgICAgICAgICAgZm9yICh2YXIga2V5X2tleSA9IDA7IGtleV9rZXkgPCBwcm9wLmtleXMubGVuZ3RoOyBrZXlfa2V5KyspIHtcbiAgICAgICAgICAgICAgdmFyIGtleSA9IHByb3Aua2V5c1trZXlfa2V5XTtcbiAgICAgICAgICAgICAgaWYgKCFrZXlzW2tleV9rZXldKSB7XG4gICAgICAgICAgICAgICAga2V5c1trZXlfa2V5XSA9IGtleTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBrZXlzW2tleV9rZXldLnRpbWUgPSBrZXkudGltZTtcbiAgICAgICAgICAgICAgICBrZXlzW2tleV9rZXldLnZhbCA9IGtleS52YWw7XG4gICAgICAgICAgICAgICAga2V5c1trZXlfa2V5XS5lYXNlID0ga2V5LmVhc2U7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdHdlZW5UaW1lLmRhdGFbaXRlbV9rZXldLl9pc0RpcnR5ID0gdHJ1ZTtcbiAgICB9XG4gICAgdGhpcy5lZGl0b3IucmVuZGVyKGZhbHNlLCB0cnVlKTtcbiAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vZWRpdG9yL1VuZG9NYW5hZ2VyLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==")},function(module,exports,__webpack_require__){eval('var H = __webpack_require__(31);\nmodule.exports = function() { var T = new H.Template({code: function (c,p,i) { var t=this;t.b(i=i||"");t.b("<div class=\\"timeline\\">");t.b("\\n" + i);t.b("    <nav class=\\"timeline__menu\\">");t.b("\\n" + i);t.b("        <!-- <a href=\\"#\\" class=\\"menu-item\\" data-action=\\"export\\">Export</a>");t.b("\\n" + i);t.b("    <a href=\\"#\\" class=\\"menu-item\\" data-action=\\"switch-curve\\">Switch curve editor</a> -->");t.b("\\n" + i);t.b("        <a href=\\"#\\" class=\\"menu-item menu-item--toggle\\" data-action=\\"toggle\\"><i class=\\"icon-toggle\\"></i></a>");t.b("\\n" + i);t.b("    </nav>");t.b("\\n" + i);t.b("    <div class=\\"timeline__controls controls\\">");t.b("\\n" + i);t.b("        <a href=\\"#\\" class=\\"control control--first icon-backward\\"></a>");t.b("\\n" + i);t.b("        <a href=\\"#\\" class=\\"control control--play-pause icon-play\\"></a>");t.b("\\n" + i);t.b("        <a href=\\"#\\" class=\\"control control--last icon-forward\\"></a>");t.b("\\n" + i);t.b("        <input type=\\"text\\" class=\\"control control--input control--time\\" /> <span");t.b("\\n" + i);t.b("            class=\\"control__time-separator\\">/</span> <input type=\\"text\\"");t.b("\\n" + i);t.b("            class=\\"control control--input control--time-end\\" />");t.b("\\n" + i);t.b("    </div>");t.b("\\n" + i);t.b("    <div class=\\"timeline__header\\">");t.b("\\n");t.b("\\n" + i);t.b("    </div>");t.b("\\n" + i);t.b("    <div class=\\"timeline__main\\">");t.b("\\n");t.b("\\n" + i);t.b("    </div>");t.b("\\n" + i);t.b("</div>");t.b("\\n");return t.fl(); },partials: {}, subs: {  }}, "<div class=\\"timeline\\">\\n    <nav class=\\"timeline__menu\\">\\n        <!-- <a href=\\"#\\" class=\\"menu-item\\" data-action=\\"export\\">Export</a>\\n    <a href=\\"#\\" class=\\"menu-item\\" data-action=\\"switch-curve\\">Switch curve editor</a> -->\\n        <a href=\\"#\\" class=\\"menu-item menu-item--toggle\\" data-action=\\"toggle\\"><i class=\\"icon-toggle\\"></i></a>\\n    </nav>\\n    <div class=\\"timeline__controls controls\\">\\n        <a href=\\"#\\" class=\\"control control--first icon-backward\\"></a>\\n        <a href=\\"#\\" class=\\"control control--play-pause icon-play\\"></a>\\n        <a href=\\"#\\" class=\\"control control--last icon-forward\\"></a>\\n        <input type=\\"text\\" class=\\"control control--input control--time\\" /> <span\\n            class=\\"control__time-separator\\">/</span> <input type=\\"text\\"\\n            class=\\"control control--input control--time-end\\" />\\n    </div>\\n    <div class=\\"timeline__header\\">\\n\\n    </div>\\n    <div class=\\"timeline__main\\">\\n\\n    </div>\\n</div>\\n", H); return T.render.apply(T, arguments); };//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi90ZW1wbGF0ZXMvdGltZWxpbmUudHBsLmh0bWw/MmI4OSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBLDZCQUE2Qix5QkFBeUIsd0JBQXdCLFlBQVksYUFBYSxnQ0FBZ0MsY0FBYywwQ0FBMEMsY0FBYyx3RkFBd0YsY0FBYyxzR0FBc0csY0FBYyw0SEFBNEgsY0FBYyxrQkFBa0IsY0FBYyx1REFBdUQsY0FBYyxpRkFBaUYsY0FBYyxrRkFBa0YsY0FBYywrRUFBK0UsY0FBYyw0RkFBNEYsY0FBYyxtRkFBbUYsY0FBYyx5RUFBeUUsY0FBYyxrQkFBa0IsY0FBYyw0Q0FBNEMsVUFBVSxjQUFjLGtCQUFrQixjQUFjLDBDQUEwQyxVQUFVLGNBQWMsa0JBQWtCLGNBQWMsY0FBYyxVQUFVLGNBQWMsRUFBRSxhQUFhLFNBQVMsSUFBSSw0K0JBQTQrQixxQ0FBcUMiLCJmaWxlIjoiNTQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgSCA9IHJlcXVpcmUoXCJob2dhbi5qc1wiKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7IHZhciBUID0gbmV3IEguVGVtcGxhdGUoe2NvZGU6IGZ1bmN0aW9uIChjLHAsaSkgeyB2YXIgdD10aGlzO3QuYihpPWl8fFwiXCIpO3QuYihcIjxkaXYgY2xhc3M9XFxcInRpbWVsaW5lXFxcIj5cIik7dC5iKFwiXFxuXCIgKyBpKTt0LmIoXCIgICAgPG5hdiBjbGFzcz1cXFwidGltZWxpbmVfX21lbnVcXFwiPlwiKTt0LmIoXCJcXG5cIiArIGkpO3QuYihcIiAgICAgICAgPCEtLSA8YSBocmVmPVxcXCIjXFxcIiBjbGFzcz1cXFwibWVudS1pdGVtXFxcIiBkYXRhLWFjdGlvbj1cXFwiZXhwb3J0XFxcIj5FeHBvcnQ8L2E+XCIpO3QuYihcIlxcblwiICsgaSk7dC5iKFwiICAgIDxhIGhyZWY9XFxcIiNcXFwiIGNsYXNzPVxcXCJtZW51LWl0ZW1cXFwiIGRhdGEtYWN0aW9uPVxcXCJzd2l0Y2gtY3VydmVcXFwiPlN3aXRjaCBjdXJ2ZSBlZGl0b3I8L2E+IC0tPlwiKTt0LmIoXCJcXG5cIiArIGkpO3QuYihcIiAgICAgICAgPGEgaHJlZj1cXFwiI1xcXCIgY2xhc3M9XFxcIm1lbnUtaXRlbSBtZW51LWl0ZW0tLXRvZ2dsZVxcXCIgZGF0YS1hY3Rpb249XFxcInRvZ2dsZVxcXCI+PGkgY2xhc3M9XFxcImljb24tdG9nZ2xlXFxcIj48L2k+PC9hPlwiKTt0LmIoXCJcXG5cIiArIGkpO3QuYihcIiAgICA8L25hdj5cIik7dC5iKFwiXFxuXCIgKyBpKTt0LmIoXCIgICAgPGRpdiBjbGFzcz1cXFwidGltZWxpbmVfX2NvbnRyb2xzIGNvbnRyb2xzXFxcIj5cIik7dC5iKFwiXFxuXCIgKyBpKTt0LmIoXCIgICAgICAgIDxhIGhyZWY9XFxcIiNcXFwiIGNsYXNzPVxcXCJjb250cm9sIGNvbnRyb2wtLWZpcnN0IGljb24tYmFja3dhcmRcXFwiPjwvYT5cIik7dC5iKFwiXFxuXCIgKyBpKTt0LmIoXCIgICAgICAgIDxhIGhyZWY9XFxcIiNcXFwiIGNsYXNzPVxcXCJjb250cm9sIGNvbnRyb2wtLXBsYXktcGF1c2UgaWNvbi1wbGF5XFxcIj48L2E+XCIpO3QuYihcIlxcblwiICsgaSk7dC5iKFwiICAgICAgICA8YSBocmVmPVxcXCIjXFxcIiBjbGFzcz1cXFwiY29udHJvbCBjb250cm9sLS1sYXN0IGljb24tZm9yd2FyZFxcXCI+PC9hPlwiKTt0LmIoXCJcXG5cIiArIGkpO3QuYihcIiAgICAgICAgPGlucHV0IHR5cGU9XFxcInRleHRcXFwiIGNsYXNzPVxcXCJjb250cm9sIGNvbnRyb2wtLWlucHV0IGNvbnRyb2wtLXRpbWVcXFwiIC8+IDxzcGFuXCIpO3QuYihcIlxcblwiICsgaSk7dC5iKFwiICAgICAgICAgICAgY2xhc3M9XFxcImNvbnRyb2xfX3RpbWUtc2VwYXJhdG9yXFxcIj4vPC9zcGFuPiA8aW5wdXQgdHlwZT1cXFwidGV4dFxcXCJcIik7dC5iKFwiXFxuXCIgKyBpKTt0LmIoXCIgICAgICAgICAgICBjbGFzcz1cXFwiY29udHJvbCBjb250cm9sLS1pbnB1dCBjb250cm9sLS10aW1lLWVuZFxcXCIgLz5cIik7dC5iKFwiXFxuXCIgKyBpKTt0LmIoXCIgICAgPC9kaXY+XCIpO3QuYihcIlxcblwiICsgaSk7dC5iKFwiICAgIDxkaXYgY2xhc3M9XFxcInRpbWVsaW5lX19oZWFkZXJcXFwiPlwiKTt0LmIoXCJcXG5cIik7dC5iKFwiXFxuXCIgKyBpKTt0LmIoXCIgICAgPC9kaXY+XCIpO3QuYihcIlxcblwiICsgaSk7dC5iKFwiICAgIDxkaXYgY2xhc3M9XFxcInRpbWVsaW5lX19tYWluXFxcIj5cIik7dC5iKFwiXFxuXCIpO3QuYihcIlxcblwiICsgaSk7dC5iKFwiICAgIDwvZGl2PlwiKTt0LmIoXCJcXG5cIiArIGkpO3QuYihcIjwvZGl2PlwiKTt0LmIoXCJcXG5cIik7cmV0dXJuIHQuZmwoKTsgfSxwYXJ0aWFsczoge30sIHN1YnM6IHsgIH19LCBcIjxkaXYgY2xhc3M9XFxcInRpbWVsaW5lXFxcIj5cXG4gICAgPG5hdiBjbGFzcz1cXFwidGltZWxpbmVfX21lbnVcXFwiPlxcbiAgICAgICAgPCEtLSA8YSBocmVmPVxcXCIjXFxcIiBjbGFzcz1cXFwibWVudS1pdGVtXFxcIiBkYXRhLWFjdGlvbj1cXFwiZXhwb3J0XFxcIj5FeHBvcnQ8L2E+XFxuICAgIDxhIGhyZWY9XFxcIiNcXFwiIGNsYXNzPVxcXCJtZW51LWl0ZW1cXFwiIGRhdGEtYWN0aW9uPVxcXCJzd2l0Y2gtY3VydmVcXFwiPlN3aXRjaCBjdXJ2ZSBlZGl0b3I8L2E+IC0tPlxcbiAgICAgICAgPGEgaHJlZj1cXFwiI1xcXCIgY2xhc3M9XFxcIm1lbnUtaXRlbSBtZW51LWl0ZW0tLXRvZ2dsZVxcXCIgZGF0YS1hY3Rpb249XFxcInRvZ2dsZVxcXCI+PGkgY2xhc3M9XFxcImljb24tdG9nZ2xlXFxcIj48L2k+PC9hPlxcbiAgICA8L25hdj5cXG4gICAgPGRpdiBjbGFzcz1cXFwidGltZWxpbmVfX2NvbnRyb2xzIGNvbnRyb2xzXFxcIj5cXG4gICAgICAgIDxhIGhyZWY9XFxcIiNcXFwiIGNsYXNzPVxcXCJjb250cm9sIGNvbnRyb2wtLWZpcnN0IGljb24tYmFja3dhcmRcXFwiPjwvYT5cXG4gICAgICAgIDxhIGhyZWY9XFxcIiNcXFwiIGNsYXNzPVxcXCJjb250cm9sIGNvbnRyb2wtLXBsYXktcGF1c2UgaWNvbi1wbGF5XFxcIj48L2E+XFxuICAgICAgICA8YSBocmVmPVxcXCIjXFxcIiBjbGFzcz1cXFwiY29udHJvbCBjb250cm9sLS1sYXN0IGljb24tZm9yd2FyZFxcXCI+PC9hPlxcbiAgICAgICAgPGlucHV0IHR5cGU9XFxcInRleHRcXFwiIGNsYXNzPVxcXCJjb250cm9sIGNvbnRyb2wtLWlucHV0IGNvbnRyb2wtLXRpbWVcXFwiIC8+IDxzcGFuXFxuICAgICAgICAgICAgY2xhc3M9XFxcImNvbnRyb2xfX3RpbWUtc2VwYXJhdG9yXFxcIj4vPC9zcGFuPiA8aW5wdXQgdHlwZT1cXFwidGV4dFxcXCJcXG4gICAgICAgICAgICBjbGFzcz1cXFwiY29udHJvbCBjb250cm9sLS1pbnB1dCBjb250cm9sLS10aW1lLWVuZFxcXCIgLz5cXG4gICAgPC9kaXY+XFxuICAgIDxkaXYgY2xhc3M9XFxcInRpbWVsaW5lX19oZWFkZXJcXFwiPlxcblxcbiAgICA8L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cXFwidGltZWxpbmVfX21haW5cXFwiPlxcblxcbiAgICA8L2Rpdj5cXG48L2Rpdj5cXG5cIiwgSCk7IHJldHVybiBULnJlbmRlci5hcHBseShULCBhcmd1bWVudHMpOyB9O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vdGVtcGxhdGVzL3RpbWVsaW5lLnRwbC5odG1sXG4vLyBtb2R1bGUgaWQgPSA1NFxuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9')}])});